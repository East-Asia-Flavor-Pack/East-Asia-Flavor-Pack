namespace = eafp_kor_mainline

##1번~99번 - 초기이벤트 라인

eafp_kor_mainline.1 = {	#수렴청정
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1.mt
	desc = eafp_kor_mainline.1.md
	flavor = eafp_kor_mainline.1.mf

	duration = 3

	event_image = {
		texture = "gfx/event_pictures/sendball.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
		always = yes
	}

	immediate = {
		#없음.
	}

	option = {
		name = eafp_kor_mainline.1.oa
		trigger = {
			always = yes
		}
		change_global_variable = {
			name = lia_global_var_je_regent
			add = 99
		}
		change_variable = {
			name = lia_var_je_kings_health
			add = 1
		}
		custom_tooltip = {
			text = eafp_kor_mainline.1.ta
		}
		ai_chance = {
			base = 1
		}
	}
	option = {
		name = eafp_kor_mainline.1.ob
		trigger = {
			always = yes
		}
		change_global_variable = {
			name = lia_global_var_je_regent
			add = 100
		}
		change_variable = {
			name = lia_var_je_kings_health
			add = 0
		}
		custom_tooltip = {
			text = eafp_kor_mainline.1.tb
		}
		ai_chance = {
			base = 1
		}
	}
}
#exiles_events.100 = {
#	type = country_event
#	placement = root
#
#	duration = 3
#
#	title = exiles_events.100.t
#	desc = exiles_events.100.d
#	flavor = exiles_events.100.f
#
#	gui_window = event_window_1char_tabloid
#
#	left_icon = scope:repatriated_scope
#
#	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
#	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
#
#	icon = "gfx/interface/icons/event_icons/event_scales.dds"
#
#	cooldown = { months = normal_modifier_time }
#
#	trigger = {
#		# triggered by return_to_home_country interaction
#	}
#	
#	immediate = {
#	}
#	
#	option = { # We kicked them out for a reason!
#		name = exiles_events.100.a 
#		default_option = yes
#		scope:repatriated_scope = {
#			add_modifier = {
#				name = repatriated_agitator
#			}
#		}
#	}
#
#	option = { # Welcome home!
#		name = exiles_events.100.b
#		scope:repatriated_scope = {
#			add_modifier = {
#				name = repatriated_agitator
#				multiplier = 2
#			}
#		}
#	}
#}


##100번~199번 - 헌종 성장+개인 이벤트

#
#lia_event_rtc.2 = {	#조선용 아편전쟁 뉴스
#	type = country_event
#	placement = ROOT
#
#	title = lia_event_rtc.2.t
#	desc = lia_event_rtc.2.d
#	flavor = lia_event_rtc.2.f
#
#	duration = 3
#
#	event_image = {
#		video = "gfx/event_pictures/unspecific_naval_battle.bk2"
#	}
#
#	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
#	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"
#
#	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
#
#	trigger = {
#	}
#
#	immediate = {
#	}
#
#	option = {
#		name = lia_event_rtc.2.a
#		
#		ai_chance = {
#			base = 100
#		}
#	}
#}
#lia_event_rtc.7 = {	#태평천국 반란-그 외
#	type = country_event
#	placement = ROOT
#
#	title = lia_event_rtc.7.t
#	desc = lia_event_rtc.7.d
#	flavor = lia_event_rtc.7.f
#
#	duration = 3
#
#	event_image = {
#		video = "gfx/event_pictures/asia_union_leader.bk2"
#	}
#
#	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
#	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"
#
#	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
#
#	trigger = {
#	}
#
#	immediate = {
#	}
#
#	option = {
#		name = lia_event_rtc.7.a
#		ai_chance = {
#			base = 1
#		}
#	}	
#}


####1500번대는 경복궁 중건 관련 이벤트
eafp_kor_mainline.1500 = {	#시작해볼까?
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1500.t
	desc = eafp_kor_mainline.1500.d
	flavor = eafp_kor_mainline.1500.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/sendball.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
	}

	option = {
		name = eafp_kor_mainline.1500.a
		default_option = yes
	}
}
eafp_kor_mainline.1501 = {	#원납전 걷기 시작
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1501.t
	desc = eafp_kor_mainline.1501.d
	flavor = eafp_kor_mainline.1501.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/seeking.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
	}

	option = {
		name = eafp_kor_mainline.1501.a
		default_option = yes
		add_modifier = {
			name = lia_modi_wonnap
			months = 3
		}
		hidden_effect = {
			trigger_event = {
				id = eafp_kor_mainline.1502
				days = { 80 100 }
			}
		}
	}
}

eafp_kor_mainline.1502 = {	#매관매직?
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1502.t
	desc = eafp_kor_mainline.1502.d
	flavor = eafp_kor_mainline.1502.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/sendball.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
	}

	option = {
		name = eafp_kor_mainline.1502.a
		default_option = yes
		hidden_effect = {
			trigger_event = {
				id = eafp_kor_mainline.1503
				days = { 80 100 }
			}
		}
	}
	option = {
		name = eafp_kor_mainline.1502.b
		
		add_modifier = {
			name = lia_modi_wonnap
			months = 3
		}
		add_modifier = {
			name = lia_modi_wonnap_bad
			months = 12
		}
		hidden_effect = {
			trigger_event = {
				id = eafp_kor_mainline.1503
				days = { 80 100 }
			}
		}
	}
}

eafp_kor_mainline.1503 = {	#강제로 더 뜯기
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1503.t
	desc = eafp_kor_mainline.1503.d
	flavor = eafp_kor_mainline.1503.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/seeking.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
	}

	option = {
		name = eafp_kor_mainline.1503.a
		default_option = yes

	}
	option = {
		name = eafp_kor_mainline.1503.b
		default_option = yes
		add_modifier = {
			name = lia_modi_wonnap
			months = 3
		}
		add_radicals = {
			value = 0.04
			strata = rich
		}
	}
}

eafp_kor_mainline.1504 = {	#화재
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1504.t
	desc = eafp_kor_mainline.1504.d
	flavor = eafp_kor_mainline.1504.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/bigfire.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		NOT = { has_variable = lia_var_rlg_gbg_rebuild_1504 }
		var:lia_var_rlg_gyeongbokgung_rebuild >= 250
	}

	immediate = {
		set_variable = lia_var_rlg_gbg_rebuild_1504
		trigger_event = {
			id = eafp_kor_mainline.1505
			days = { 15 30 }
		}
	}

	option = {
		name = eafp_kor_mainline.1504.a
		default_option = yes
		change_variable = {
			name = lia_var_rlg_gyeongbokgung_rebuild
			subtract = 250
		}
	}
	option = {
		name = eafp_kor_mainline.1504.b
		change_variable = {
			name = lia_var_rlg_gyeongbokgung_rebuild
			subtract = 250
		}
	}
	option = {
		name = eafp_kor_mainline.1504.c
		change_variable = {
			name = lia_var_rlg_gyeongbokgung_rebuild
			subtract = 250
		}
	}
	option = {
		name = eafp_kor_mainline.1504.dy
		change_variable = {
			name = lia_var_rlg_gyeongbokgung_rebuild
			subtract = 250
		}
	}
	option = {
		name = eafp_kor_mainline.1504.e
		change_variable = {
			name = lia_var_rlg_gyeongbokgung_rebuild
			subtract = 250
		}
	}
}

eafp_kor_mainline.1505 = {	#당백전 논의
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1505.t
	desc = eafp_kor_mainline.1505.d
	flavor = eafp_kor_mainline.1505.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/seeking.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
	}

	option = {
		name = eafp_kor_mainline.1505.a
		default_option = yes
		hidden_effect = {
			trigger_event = {
				id = eafp_kor_mainline.1506
				days = { 7 14 }
			}
		}
	}
}

eafp_kor_mainline.1506 = {	#당백전 수락
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1506.t
	desc = eafp_kor_mainline.1506.d
	flavor = eafp_kor_mainline.1506.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/sendball.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
	}

	option = {
		name = eafp_kor_mainline.1506.a
		default_option = yes
		set_variable = lia_var_rlg_dangbaek_possible
	}
}

eafp_kor_mainline.1507 = {	#상소문
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1507.t
	desc = eafp_kor_mainline.1507.d
	flavor = eafp_kor_mainline.1507.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/seeking.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		NOT = { has_variable = lia_var_rlg_gbg_rebuild_1507 }
		var:lia_var_rlg_gyeongbokgung_rebuild >= 600
	}

	immediate = {
		set_variable = lia_var_rlg_gbg_rebuild_1507
	}

	option = {
		name = eafp_kor_mainline.1507.a
		default_option = yes
		
		change_variable = {
			name = lia_var_rlg_gyeongbokgung_rebuild
			subtract = 50
		}
		add_loyalists = {
			value = 0.01
			strata = poor
		}
	}
	option = {
		name = eafp_kor_mainline.1507.b
	}
	option = {
		name = eafp_kor_mainline.1507.c
		trigger = {
			empty_agitator_slots >= 1
		}
		random_scope_character = {
			limit = {
				is_ruler = no
				is_heir = no
				is_busy = no
				has_role = politician
				this.interest_group = {
					is_interest_group_type = ig_landowners
				}
			}
			exile_character = yes
		}
		add_radicals = {
			value = 0.05
			interest_group = ig:ig_landowners
		}
		change_variable = {
			name = lia_var_rlg_gyeongbokgung_rebuild
			add = 50
		}
	}
}

eafp_kor_mainline.1509 = {	#당백전 정책 성공
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1509.t
	desc = eafp_kor_mainline.1509.d
	flavor = eafp_kor_mainline.1509.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/future.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
	}

	option = {
		name = eafp_kor_mainline.1509.a
		default_option = yes
	}
}

eafp_kor_mainline.1510 = {	#공사끝!
	type = country_event
	placement = ROOT

	title = eafp_kor_mainline.1510.t
	desc = eafp_kor_mainline.1510.d
	flavor = eafp_kor_mainline.1510.f

	duration = 3

	event_image = {
		texture = "gfx/event_pictures/future.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/city_center"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
	}

	option = {
		name = eafp_kor_mainline.1510.a
		default_option = yes
		random_scope_state = {
			limit = {
				has_building = building_gyeongbokgung_poor
			}
			remove_building = building_gyeongbokgung_poor
			create_building = {
				building = "building_gyeongbokgung"
				level = 1
			}
		}
	}
}