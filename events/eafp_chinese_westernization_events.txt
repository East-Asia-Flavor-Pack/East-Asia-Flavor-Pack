namespace = chinese_westernization

#################### 중국 서구화 시작 ####################
chinese_westernization.1 = {
	type = country_event
	placement = root

	title = chinese_westernization.1.t
	desc = chinese_westernization.1.d
	flavor = chinese_westernization.1.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_journal_entry = je_chinese_westernization }
		any_state_region = {
			OR = {
				is_homeland = cu:han
				is_homeland = cu:manchu
			}
			OR = {
				region = sr:region_south_china
				region = sr:region_north_china
				region = sr:region_manchuria
			}
			any_scope_state = {
				NOT = {
					owner = {
						OR = {
							this = ROOT
							top_overlord = ROOT
						}
					}
				}
				is_treaty_port = no
			}
		}
	}

	immediate = {
		add_journal_entry = { type = je_chinese_westernization }
	}

	option = {
		name = chinese_westernization.1.a
		default_option = yes
		add_journal_entry = { type = je_chinese_westernization }
		remove_modifier = the_center_of_the_world
		hidden_effect = {
			trigger_event = { id = chinese_westernization.401 months = 4 }
		}
		ai_chance = {
			base = 1
		}
	}
}

#################### 육군 ####################

chinese_westernization.101 = { # 의용부대의 등장
	type = country_event
	placement = root

	title = chinese_westernization.101.t
	desc = chinese_westernization.101.d
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	trigger = {
		exists = c:TPG
	}

	immediate = {
		set_variable = chi_the_emergence_of_militias
	}

	option = {
		name = chinese_westernization.101.a
		default_option = yes

		custom_tooltip = chinese_westernization.101.tt

		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.102 = { # (도시 이름) 병공창
	type = country_event
	placement = scope:first_modern_arsenal_state

	title = chinese_westernization.102.t
	desc = chinese_westernization.102.d
	flavor = chinese_westernization.102.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_variable = chi_first_modern_arsenal }
		any_scope_building = {
			# is_building_type = building_arms_industry
			has_active_production_method = pm_rifles
			is_under_construction = no
		}
	}

	immediate = {
		set_variable = chi_first_modern_arsenal
		save_scope_as = chi_scope
		random_scope_building = {
			limit = {
				# is_building_type = building_arms_industry
				has_active_production_method = pm_rifles
				is_under_construction = no
			}
			save_scope_as = first_modern_arsenal
			state = { save_scope_as = first_modern_arsenal_state }
		}
	}

	option = {
		name = chinese_westernization.102.a
		scope:first_modern_arsenal = {
			add_modifier = {
				name = chi_first_modern_arsenal
				months = long_modifier_time
				is_decaying = yes
			}
		}
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.103 = { # 군대 훈련 일원화 TODO
	type = country_event
	placement = root
	title = chinese_westernization.103.t
	desc = chinese_westernization.103.d
	flavor = tchinese_westernization.103.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		NOT = { has_variable = chi_unifying_military_training }
		AND = {
			OR = {
				has_law = law_type:law_peasant_levies
				has_law = law_type:law_national_militia
			}
			OR = {
				is_enacting_law = law_type:law_mass_conscription
				is_enacting_law = law_type:law_professional_army
			}
		}
	}
	immediate = {
		set_variable = chi_unifying_military_training
	}
	option = { # 함
		name = chinese_westernization.103.a
		default_option = yes
		ig:ig_landowners = {
			add_modifier = {
				name = military_training_unified_ig_landowners
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			pop_type = aristocrats
			value = 0.15
		}
		add_radicals = {
			pop_type = clergymen
			value = 0.15
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 안함
		name = chinese_westernization.103.b
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.121 = { # (도시 이름) 무비학당 설립 시도
	type = country_event
	placement = scope:military_academy_state

	title = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.121.t1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.121.t2
				trigger = { always = yes }
			}
		}
	}
	desc = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.121.d1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.121.d2
				trigger = { always = yes }
			}
		}
	}
	flavor = chinese_westernization.121.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		# je_chi_military_academy로 트리거
	}

	immediate = {
		save_scope_as = chi_scope
	}

	option = {
		name = chinese_westernization.121.a
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.122 = { # 관료들의 반발
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.122.t
    desc = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.122.d1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.122.d2
				trigger = { always = yes }
			}
		}
	}
    flavor = chinese_westernization.122.f

    duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	
	trigger = {
		
	}
	
	immediate = {
		
	}

	option = {
		name = chinese_westernization.122.a
		add_medium_peril_effect = yes
		expedition_moderate_progress_effect = yes
	}

	option = {
		name = chinese_westernization.122.b
		default_option = yes
		add_small_peril_effect = yes
		custom_tooltip = chi_military_academy_delayed_tt
	}
}

chinese_westernization.123 = { # 군인들의 반발
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.123.t
    desc = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.123.d1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.123.d2
				trigger = { always = yes }
			}
		}
	}
    flavor = chinese_westernization.123.f

    duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	
	trigger = {
		
	}
	
	immediate = {
		
	}

	option = {
		name = chinese_westernization.123.a
		chi_military_academy_gain_large_peril = yes
		chi_military_academy_gain_progress = yes
	}

	option = {
		name = chinese_westernization.123.b
		default_option = yes
		chi_military_academy_gain_peril = yes
	}
}

chinese_westernization.124 = { # 세금과 뇌물
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.124.t
    desc = chinese_westernization.124.d
    flavor = chinese_westernization.124.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {

	}

	immediate = {

	}

	option = {
		name = chinese_westernization.124.a
		default_option = yes
		chi_military_academy_gain_progress = yes
		add_modifier = {
			name = chiwes124a
			multiplier = money_amount_multiplier_small
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.124.b
		chi_military_academy_gain_progress = yes
		chi_military_academy_gain_peril = yes
	}
}

chinese_westernization.125 = { # 외국 장교단의 지원
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.125.t
    desc = chinese_westernization.125.d
    flavor = chinese_westernization.125.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.125.a
		default_option = yes
		chi_military_academy_gain_large_progress = yes
		add_modifier = {
			name = chiwes125a
			multiplier = money_amount_multiplier_small
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.125.b
		chi_military_academy_gain_progress = yes
		add_modifier = {
			name = chiwes125b
			multiplier = money_amount_multiplier_medium
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.125.c
		custom_tooltip = chi_military_academy_delayed_tt
	}
}

chinese_westernization.126 = { # 관료의 지원
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.126.t
    desc = chinese_westernization.126.d
    flavor = chinese_westernization.126.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.126.a
		default_option = yes
		chi_military_academy_gain_progress = yes
	}
}

chinese_westernization.127 = { # 범죄 혐의
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.127.t
    desc = chinese_westernization.127.d
    flavor = chinese_westernization.127.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.127.a
		random_list = {
			10 = {
				trigger_event = { id = chinese_westernization.128 days = 20 popup = yes }
			}
			10 = {
				trigger_event = { id = chinese_westernization.129 days = 20 popup = yes}
			}
		}
	}

	option = {
		name = chinese_westernization.127.b
		default_option = yes
		chi_military_academy_gain_progress = yes
	}
}

chinese_westernization.128 = { # 소문은 소문일뿐
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.128.t
    desc = chinese_westernization.128.d
    flavor = chinese_westernization.128.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.128.a
		default_option = yes
		chi_military_academy_gain_peril = yes
	}
}

chinese_westernization.129 = { # 감사
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.129.t
    desc = chinese_westernization.129.d
    flavor = chinese_westernization.129.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.129.a
		default_option = yes
		chi_military_academy_gain_large_progress = yes
	}
}

chinese_westernization.130 = { # 밑 빠진 독
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.130.t
    desc = chinese_westernization.130.d
    flavor = chinese_westernization.130.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.130.a
		default_option = yes
		chi_military_academy_gain_large_peril = yes
	}

	option = {
		name = chinese_westernization.130.b
		chi_military_academy_gain_progress = yes
		chi_military_academy_gain_peril = yes
		add_modifier = {
			name = chiwes130b
			multiplier = money_amount_multiplier_medium
			months = normal_modifier_time
		}
	}
}

chinese_westernization.131 = { # 폭우
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.131.t
    desc = chinese_westernization.131.d
    flavor = chinese_westernization.131.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.131.a
		default_option = yes
		custom_tooltip = chi_military_academy_delayed_tt
	}

	option = {
		name = chinese_westernization.131.b
		chi_military_academy_gain_progress = yes
		add_modifier = {
			name = chiwes131b
			multiplier = money_amount_multiplier_medium
			months = normal_modifier_time
		}
	}
}

chinese_westernization.132 = { # 아낌없는 기부
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.132.t
    desc = chinese_westernization.132.d
    flavor = chinese_westernization.132.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.132.a
		default_option = yes
		chi_military_academy_gain_progress = yes
	}

	option = {
		name = chinese_westernization.132.b
		custom_tooltip = chi_military_academy_delayed_tt
	}
}

chinese_westernization.133 = { # 예산 삭감
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.133.t
    desc = chinese_westernization.133.d
    flavor = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.133.f1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.133.f2
				trigger = { always = yes }
			}
		}
	}

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.133.a
		default_option = yes
		chi_military_academy_gain_large_peril = yes
		chi_military_academy_gain_progress = yes
	}

	option = {
		name = chinese_westernization.133.b
		chi_military_academy_gain_peril = yes
	}
}

chinese_westernization.134 = { # 관료주의적 방해
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.134.t
    desc = chinese_westernization.134.d
    flavor = chinese_westernization.134.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.134.a
		default_option = yes
		chi_military_academy_gain_peril = yes
		chi_military_academy_gain_progress = yes
	}

	option = {
		name = chinese_westernization.134.b
		random_list = {
			20 = {
				chi_military_academy_gain_peril = yes
			}
			20 = {
				chi_military_academy_gain_progress = yes
			}
			20 = {
				chi_military_academy_gain_peril = yes
				chi_military_academy_gain_progress = yes
			}
			20 = {
				chi_military_academy_gain_large_peril = yes
				chi_military_academy_gain_progress = yes
			}
			20 = {
				chi_military_academy_gain_peril = yes
				chi_military_academy_gain_large_progress = yes
			}
		}
	}
}

chinese_westernization.135 = { # 박애주의 선교사
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.135.t
    desc = chinese_westernization.135.d
    flavor = chinese_westernization.135.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.135.a
		default_option = yes
		chi_military_academy_gain_progress = yes
		add_modifier = {
			name = chiwes135a
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.135.b
		custom_tooltip = chi_military_academy_delayed_tt
	}
}

chinese_westernization.136 = { # 끔찍한 소문
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.136.t
    desc = chinese_westernization.136.d
    flavor = chinese_westernization.136.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.136.a
		default_option = yes
		chi_military_academy_gain_peril = yes
		add_modifier = {
			name = chiwes136a
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.136.b
		chi_military_academy_gain_large_peril = yes
	}
}

chinese_westernization.137 = { # 황제의 칙령
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.137.t
    desc = chinese_westernization.137.d
    flavor = chinese_westernization.137.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.137.a
		default_option = yes
		chi_military_academy_gain_large_progress = yes
	}
}

chinese_westernization.138 = { # 사보타주 시도
	type = country_event
    placement = scope:military_academy_state

    title = chinese_westernization.138.t
    desc = chinese_westernization.138.d
    flavor = chinese_westernization.138.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.138.a
		default_option = yes
		chi_military_academy_gain_peril = yes
	}
}

chinese_westernization.139 = { # (도시 이름) 무비학당 설립 실패
	type = country_event
    placement = scope:military_academy_state

	title = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.139.t1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.139.t2
				trigger = { always = yes }
			}
		}
	}
    desc = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.139.d1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.139.d2
				trigger = { always = yes }
			}
		}
	}
    flavor = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.139.f1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.139.f2
				trigger = { always = yes }
			}
		}
	}

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.139.a
		default_option = yes
	}
}

chinese_westernization.140 = { # (도시 이름) 무비학당 개교
	type = country_event
    placement = scope:military_academy_state

	title = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.140.t1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.140.t2
				trigger = { always = yes }
			}
		}
	}
    desc = {
		first_valid = {
			triggered_desc = {
				desc = chinese_westernization.140.d1
				trigger = { scope:military_academy_state = { is_coastal = yes } }
			}
			triggered_desc = {
				desc = chinese_westernization.140.d2
				trigger = { always = yes }
			}
		}
	}
    flavor = chinese_westernization.140.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {
		if = {
			limit = { has_variable = chi_military_academy_established }
			change_variable = {
				name = chi_military_academy_established
				add = 1
			}
		}
		else = {
			set_variable = {
				name = chi_military_academy_established
				value = 1
			}
		}
		scope:military_academy_state = {
			set_variable = chi_military_academy_state
		}
	}

	option = {
		name = chinese_westernization.140.a
		default_option = yes
		decrease_decadent_bannermen_effect = yes
		add_modifier = {
			name = chiwes140a
			months = normal_modifier_time
			is_decaying = yes
		}
	}
}

chinese_westernization.181 = { # 신건육군
	type = country_event
	placement = root

	title = chinese_westernization.181.t
	desc = chinese_westernization.181.d
	flavor = chinese_westernization.181.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		has_law = law_type:law_professional_army
		any_scope_building = {
			filter = { is_building_type = building_barracks }
			percent >= 0.5
			NOT = {
				OR = {
					has_active_production_method = pm_irregular_infantry
					has_active_production_method = pm_no_artillery
					has_active_production_method = pm_cannon_artillery
				}
			}
		}
		has_technology_researched = napoleonic_warfare
		has_technology_researched = general_staff
		has_technology_researched = shell_gun
	}

	immediate = {
	}

	option = {
		name = chinese_westernization.181.a
		
		ig:ig_armed_forces = {
			set_interest_group_name = ig_beiyang_army
			remove_ideology = ideology_stratocratic
			add_ideology = ideology_jingoist
			leader = { remove_as_interest_group_leader = yes }
			add_modifier = {
				name = chi_triumphant_armed_forces
				months = long_modifier_time
			}
		}
		largely_decrease_decadent_bannermen_effect = yes

		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.199 = { # 육군의 완전한 현대화
	type = country_event
	placement = root

	title = chinese_westernization.199.t
	desc = chinese_westernization.199.d
	flavor = chinese_westernization.199.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	option = {
		name = chinese_westernization.199.a
		default_option = yes
		
		add_modifier = {
			name = chiwes199a
			months = normal_modifier_time
		}

		ai_chance = {
			base = 1
		}
	}

	option = {
		name = chinese_westernization.199.b

		add_modifier = {
			name = chiwes199b
			months = normal_modifier_time
		}

		ai_chance = {
			base = 1
		}
	}
}

#################### 해군 ####################

chinese_westernization.201 = { # (항구 이름) 조선소 (steamship 1868년)
	type = country_event
	placement = scope:first_modern_shipyard_state

	title = chinese_westernization.201.t
	desc = chinese_westernization.201.d
	flavor = chinese_westernization.201.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_variable = chi_first_modern_shipyard }
		any_scope_building = {
			# is_building_type = building_shipyards
			has_active_production_method = pm_metal_shipbuilding
		}
	}

	immediate = {
		set_variable = chi_first_modern_shipyard
		save_scope_as = chi_scope
		random_scope_building = {
			limit = {
				# is_building_type = building_shipyards
				has_active_production_method = pm_metal_shipbuilding
				is_under_construction = no
			}
			save_scope_as = first_modern_shipyard
			state = { save_scope_as = first_modern_shipyard_state }
		}
	}

	option = {
		name = chinese_westernization.201.a
		scope:first_modern_shipyard = {
			add_modifier = {
				name = chi_first_modern_shipyard
				months = long_modifier_time
				is_decaying = yes
			}
		}
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}


chinese_westernization.221 = { # (항구 이름) 수사학당 설립 시도
	type = country_event
	placement = scope:naval_academy_state

	title = chinese_westernization.221.t
	desc = chinese_westernization.221.d
	flavor = chinese_westernization.221.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		# je_chi_naval_academy로 트리거
	}

	immediate = {
		save_scope_as = chi_scope
	}

	option = {
		name = chinese_westernization.221.a
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.222 = { # 관료들의 반발
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.222.t
    desc = chinese_westernization.222.d
    flavor = chinese_westernization.222.f

    duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	
	trigger = {
		
	}
	
	immediate = {
		
	}

	option = {
		name = chinese_westernization.222.a
		add_medium_peril_effect = yes
		expedition_moderate_progress_effect = yes
	}

	option = {
		name = chinese_westernization.222.b
		default_option = yes
		add_small_peril_effect = yes
		custom_tooltip = chi_naval_academy_delayed_tt
	}
}

chinese_westernization.223 = { # 군인들의 반발
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.223.t
    desc = chinese_westernization.223.d
    flavor = chinese_westernization.223.f

    duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	
	trigger = {
		
	}
	
	immediate = {
		
	}

	option = {
		name = chinese_westernization.223.a
		chi_naval_academy_gain_large_peril = yes
		chi_naval_academy_gain_progress = yes
	}

	option = {
		name = chinese_westernization.223.b
		default_option = yes
		chi_naval_academy_gain_peril = yes
	}
}

chinese_westernization.224 = { # 세금과 뇌물
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.224.t
    desc = chinese_westernization.224.d
    flavor = chinese_westernization.224.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {

	}

	immediate = {

	}

	option = {
		name = chinese_westernization.224.a
		default_option = yes
		chi_naval_academy_gain_progress = yes
		add_modifier = {
			name = chiwes224a
			multiplier = money_amount_multiplier_small
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.224.b
		chi_naval_academy_gain_progress = yes
		chi_naval_academy_gain_peril = yes
	}
}

chinese_westernization.225 = { # 외국 장교단의 지원
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.225.t
    desc = chinese_westernization.225.d
    flavor = chinese_westernization.225.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.225.a
		default_option = yes
		chi_naval_academy_gain_large_progress = yes
		add_modifier = {
			name = chiwes225a
			multiplier = money_amount_multiplier_small
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.225.b
		chi_naval_academy_gain_progress = yes
		add_modifier = {
			name = chiwes225b
			multiplier = money_amount_multiplier_medium
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.225.c
		custom_tooltip = chi_naval_academy_delayed_tt
	}
}

chinese_westernization.226 = { # 관료의 지원
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.226.t
    desc = chinese_westernization.226.d
    flavor = chinese_westernization.226.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.226.a
		default_option = yes
		chi_naval_academy_gain_progress = yes
	}
}

chinese_westernization.227 = { # 범죄 혐의
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.227.t
    desc = chinese_westernization.227.d
    flavor = chinese_westernization.227.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.227.a
		random_list = {
			10 = {
				trigger_event = { id = chinese_westernization.228 days = 20 popup = yes }
			}
			10 = {
				trigger_event = { id = chinese_westernization.229 days = 20 popup = yes}
			}
		}
	}

	option = {
		name = chinese_westernization.227.b
		default_option = yes
		chi_naval_academy_gain_progress = yes
	}
}

chinese_westernization.228 = { # 소문은 소문일뿐
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.228.t
    desc = chinese_westernization.228.d
    flavor = chinese_westernization.228.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.228.a
		default_option = yes
		chi_naval_academy_gain_peril = yes
	}
}

chinese_westernization.229 = { # 감사
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.229.t
    desc = chinese_westernization.229.d
    flavor = chinese_westernization.229.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.229.a
		default_option = yes
		chi_naval_academy_gain_large_progress = yes
	}
}

chinese_westernization.230 = { # 밑 빠진 독
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.230.t
    desc = chinese_westernization.230.d
    flavor = chinese_westernization.230.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.230.a
		default_option = yes
		chi_naval_academy_gain_large_peril = yes
	}

	option = {
		name = chinese_westernization.230.b
		chi_naval_academy_gain_progress = yes
		chi_naval_academy_gain_peril = yes
		add_modifier = {
			name = chiwes230b
			multiplier = money_amount_multiplier_medium
			months = normal_modifier_time
		}
	}
}

chinese_westernization.231 = { # 폭우
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.231.t
    desc = chinese_westernization.231.d
    flavor = chinese_westernization.231.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.231.a
		default_option = yes
		custom_tooltip = chi_naval_academy_delayed_tt
	}

	option = {
		name = chinese_westernization.231.b
		chi_naval_academy_gain_progress = yes
		add_modifier = {
			name = chiwes231b
			multiplier = money_amount_multiplier_medium
			months = normal_modifier_time
		}
	}
}

chinese_westernization.232 = { # 아낌없는 기부
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.232.t
    desc = chinese_westernization.232.d
    flavor = chinese_westernization.232.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.232.a
		default_option = yes
		chi_naval_academy_gain_progress = yes
	}

	option = {
		name = chinese_westernization.232.b
		custom_tooltip = chi_naval_academy_delayed_tt
	}
}

chinese_westernization.233 = { # 예산 삭감
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.233.t
    desc = chinese_westernization.233.d
    flavor = chinese_westernization.233.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.233.a
		default_option = yes
		chi_naval_academy_gain_large_peril = yes
		chi_naval_academy_gain_progress = yes
	}

	option = {
		name = chinese_westernization.233.b
		chi_naval_academy_gain_peril = yes
	}
}

chinese_westernization.234 = { # 관료주의적 방해
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.234.t
    desc = chinese_westernization.234.d
    flavor = chinese_westernization.234.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.234.a
		default_option = yes
		chi_naval_academy_gain_peril = yes
		chi_naval_academy_gain_progress = yes
	}

	option = {
		name = chinese_westernization.234.b
		random_list = {
			20 = {
				chi_naval_academy_gain_peril = yes
			}
			20 = {
				chi_naval_academy_gain_progress = yes
			}
			20 = {
				chi_naval_academy_gain_peril = yes
				chi_naval_academy_gain_progress = yes
			}
			20 = {
				chi_naval_academy_gain_large_peril = yes
				chi_naval_academy_gain_progress = yes
			}
			20 = {
				chi_naval_academy_gain_peril = yes
				chi_naval_academy_gain_large_progress = yes
			}
		}
	}
}

chinese_westernization.235 = { # 박애주의 선교사
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.235.t
    desc = chinese_westernization.235.d
    flavor = chinese_westernization.235.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.235.a
		default_option = yes
		chi_naval_academy_gain_progress = yes
		add_modifier = {
			name = chiwes235a
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.235.b
		custom_tooltip = chi_naval_academy_delayed_tt
	}
}

chinese_westernization.236 = { # 끔찍한 소문
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.236.t
    desc = chinese_westernization.236.d
    flavor = chinese_westernization.236.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.236.a
		default_option = yes
		chi_naval_academy_gain_peril = yes
		add_modifier = {
			name = chiwes236a
			months = normal_modifier_time
		}
	}

	option = {
		name = chinese_westernization.236.b
		chi_naval_academy_gain_large_peril = yes
	}
}

chinese_westernization.237 = { # 황제의 칙령
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.237.t
    desc = chinese_westernization.237.d
    flavor = chinese_westernization.237.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.237.a
		default_option = yes
		chi_naval_academy_gain_large_progress = yes
	}
}

chinese_westernization.238 = { # 사보타주 시도
	type = country_event
    placement = scope:naval_academy_state

    title = chinese_westernization.238.t
    desc = chinese_westernization.238.d
    flavor = chinese_westernization.238.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.238.a
		default_option = yes
		chi_naval_academy_gain_peril = yes
	}
}

chinese_westernization.239 = { # (항구 이름) 수사학당 설립 실패
	type = country_event
    placement = scope:naval_academy_state

	title = chinese_westernization.239.t
    desc = chinese_westernization.239.d
    flavor = chinese_westernization.239.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.239.a
		default_option = yes
	}
}

chinese_westernization.240 = { # (항구 이름) 수사학당 개교
	type = country_event
    placement = scope:naval_academy_state

	title = chinese_westernization.240.t
    desc = chinese_westernization.240.d
    flavor = chinese_westernization.240.f

    event_image = {
		video = "gfx/event_pictures/africa_diplomats_negotiating.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/diplomats_negotiating"

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

    duration = 1
	
	trigger = {
		
	}

	immediate = {

	}

	option = {
		name = chinese_westernization.240.a
		default_option = yes
		set_variable = { name = chi_naval_academy_established }
		add_modifier = {
			name = chiwes240a
			months = normal_modifier_time
			is_decaying = yes
		}
	}
}

chinese_westernization.299 = { # 해군의 완전한 현대화
	type = country_event
	placement = root

	title = chinese_westernization.299.t
	desc = chinese_westernization.299.d
	flavor = chinese_westernization.299.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	immediate = {
	}

	option = {
		name = chinese_westernization.299.a
		default_option = yes
		
		add_modifier = {
			name = chiwes299a
			months = normal_modifier_time
		}

		ai_chance = {
			base = 1
		}
	}

	option = {
		name = chinese_westernization.299.b

		add_modifier = {
			name = chiwes299b
			months = normal_modifier_time
		}

		ai_chance = {
			base = 1
		}
	}
}

# 상해, 천진, 한구 - 복주, 광주, 하문, 항주 <- 거의 이 순서로 조계지 세워짐

#################### 산업 ####################

chinese_westernization.301 = { # 최초의 철도
	type = country_event
	placement = scope:first_railroad_state

	title = chinese_westernization.301.t
	desc = chinese_westernization.301.d
	flavor = chinese_westernization.301.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_variable = chi_first_railroad }
		any_scope_building = {
			is_building_type = building_railway
			is_under_construction = no
		}
	}

	immediate = {
		set_variable = chi_first_railroad
		save_scope_as = chi_scope
		random_scope_building = {
			limit = {
				is_building_type = building_railway
				is_under_construction = no
			}
			save_scope_as = first_railroad
			state = { save_scope_as = first_railroad_state }
		}
		if = {
			limit = { NOT = { has_variable = chiwes302 } }
			set_variable = chiwes302
		}
	}

	option = {
		name = chinese_westernization.301.a
		scope:first_railroad = {
			add_modifier = {
				name = chi_first_railroad
				months = long_modifier_time
				is_decaying = yes
			}
		}
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.302 = { # 철도 공포
	type = country_event
	placement = root

	title = chinese_westernization.302.t
	desc = chinese_westernization.302.d
	flavor = chinese_westernization.302.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_variable = chiwes302 }
		any_scope_building = {
			is_building_type = building_railway
			is_under_construction = yes
		}
	}

	immediate = {
		save_scope_as = chi_scope
		random_scope_building = {
			limit = {
				is_building_type = building_railway
				is_under_construction = yes
			}
			save_scope_as = first_railroad
			state = {
				save_scope_as = first_railroad_state
				unset_available_for_autonomous_investment = scope:first_railroad.type
			}
		}
	}

	option = {
		name = chinese_westernization.302.a
		default_option = yes
		scope:first_railroad_state = {
			remove_building = building_railway
		}
		# TODO - 철도 건설 못 하게 막기
		ai_chance = {
			base = 0.8
		}
	}

	option = {
		name = chinese_westernization.302.b
		hidden_effect = {
			set_variable = chiwes302
			scope:first_railroad_state = {
				set_available_for_autonomous_investment = scope:first_railroad.type
			}
		}
		add_modifier = {
			name = chiwes302b
			is_decaying = yes
			years = 3
		}
		ai_chance = {
			base = 0.2
		}
	}
}

chinese_westernization.303 = { # (광산 이름) 광산 (개평광산 1881년)
	type = country_event
	placement = scope:first_modern_mine_state

	title = chinese_westernization.303.t
	desc = chinese_westernization.303.d
	flavor = chinese_westernization.303.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_variable = chi_first_modern_mine }
		any_scope_building = {
			OR = {
				has_active_production_method = pm_condensing_engine_pump_building_coal_mine
				has_active_production_method = pm_condensing_engine_pump_building_iron_mine
				has_active_production_method = pm_condensing_engine_pump_building_lead_mine
				has_active_production_method = pm_condensing_engine_pump_building_sulfur_mine
				has_active_production_method = pm_diesel_pump_building_coal_mine
				has_active_production_method = pm_diesel_pump_building_iron_mine
				has_active_production_method = pm_diesel_pump_building_lead_mine
				has_active_production_method = pm_diesel_pump_building_sulfur_mine
    		}
		}
	}

	immediate = {
		set_variable = chi_first_modern_mine
		save_scope_as = chi_scope
		random_scope_building = {
			limit = {
				OR = {
					has_active_production_method = pm_condensing_engine_pump_building_coal_mine
					has_active_production_method = pm_condensing_engine_pump_building_iron_mine
					has_active_production_method = pm_condensing_engine_pump_building_lead_mine
					has_active_production_method = pm_condensing_engine_pump_building_sulfur_mine
					has_active_production_method = pm_diesel_pump_building_coal_mine
					has_active_production_method = pm_diesel_pump_building_iron_mine
					has_active_production_method = pm_diesel_pump_building_lead_mine
					has_active_production_method = pm_diesel_pump_building_sulfur_mine
				}
				is_under_construction = no
			}
			save_scope_as = first_modern_mine
			state = { save_scope_as = first_modern_mine_state }
		}
	}

	option = {
		name = chinese_westernization.303.a
		scope:first_modern_mine = {
			add_modifier = {
				name = chi_first_modern_mine
				months = long_modifier_time
				is_decaying = yes
			}
		}
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.304 = { # (도시 이름) 방직 공장 (상해궤기직포국 1889년)
	type = country_event
	placement = scope:first_modern_cotton_mill_state

	title = chinese_westernization.303.t
	desc = chinese_westernization.303.d
	flavor = chinese_westernization.303.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_variable = chi_first_modern_cotton_mill }
		any_scope_building = {
			has_active_production_method = pm_sewing_machines
		}
	}

	immediate = {
		set_variable = chi_first_modern_cotton_mill
		save_scope_as = chi_scope
		random_scope_building = {
			limit = {
				has_active_production_method = pm_sewing_machines
				is_under_construction = no
			}
			save_scope_as = first_modern_cotton_mill
			state = { save_scope_as = first_modern_cotton_mill_state }
		}
	}

	option = {
		name = chinese_westernization.303.a
		scope:first_modern_cotton_mill = {
			add_modifier = {
				name = chi_first_modern_cotton_mill
				months = long_modifier_time
				is_decaying = yes
			}
		}
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}


# 윤선초상국 (주식회사, 조선소)

#################### 정부 개혁 ####################

chinese_westernization.401 = { # 경사동문관
	type = country_event
	placement = root

	title = chinese_westernization.401.t
	desc = chinese_westernization.401.d
	flavor = chinese_westernization.401.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	option = {
		name = chinese_westernization.401.a
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.402 = { # 호부의 은행 설립 건의
	type = country_event
	placement = root
	title = chinese_westernization.402.t
	desc = chinese_westernization.402.d
	flavor = chinese_westernization.402.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		has_technology_researched = central_banking
	}
	option = { # 대청은행 설립
		name = chinese_westernization.402.a
		chi_mint_centralization_progress = yes
	}
}

chinese_westernization.403 = { # 조폐 중앙화 완료
	type = country_event
	placement = root
	title = chinese_westernization.403.t
	desc = chinese_westernization.403.d
	flavor = chinese_westernization.403.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	option = {
		name = chinese_westernization.403.a
		custom_tooltip = {
			text = chi_finished_mint_centralization_tt
			remove_variable = chi_non_centralized_minting_var
		}
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.421 = { # 보갑제 개편?
	type = country_event
	placement = root
	title = chinese_westernization.421.t
	desc = chinese_westernization.421.d
	flavor = tchinese_westernization.421.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		has_journal_entry = je_chinese_westernization_government_reform
		NOT = { has_variable = chi_baojia_system }
		AND = {
			has_law = law_type:law_no_police
			OR = {
				is_enacting_law = law_type:law_local_police
				is_enacting_law = law_type:law_dedicated_police
				is_enacting_law = law_type:law_militarized_police
			}
		}
	}
	immediate = {
		currently_enacting_law = { save_scope_as = current_law_scope }
		ig:ig_landowners = { save_scope_as = landowners }
		set_variable = chi_baojia_system
	}
	option = { # 그냥 놔두기 (이중 경찰제도)
		name = chinese_westernization.421.a
		default_option = yes
		ig:ig_landowners = {
			add_modifier = {
				name = baojia_system_retained_ig_landowners
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = baojia_system_retained_ig_intelligentsia
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			strata = poor
			value = 0.04
		}
		add_loyalists = {
			pop_type = aristocrats
			value = 0.2
		}
		add_loyalists = {
			pop_type = clergymen
			value = 0.1
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 보갑제 개혁 (세금 수취 역할까지)
		name = chinese_westernization.421.b
		add_modifier = {
			name = baojia_system_reformed_tax
			months = long_modifier_time
			is_decaying = yes
		}
		add_radicals = {
			strata = poor
			value = 0.02
		}
		add_loyalists = {
			pop_type = aristocrats
			value = 0.1
		}
		add_loyalists = {
			pop_type = clergymen
			value = 0.05
		}
		ai_chance = {
			base = 1
		}
	}
	option = { # 보갑제 개혁 (군사적 역할까지)
		name = chinese_westernization.421.c
		add_modifier = {
			name = baojia_system_reformed_military
			months = long_modifier_time
			is_decaying = yes
		}
		add_radicals = {
			strata = poor
			value = 0.02
		}
		add_loyalists = {
			pop_type = aristocrats
			value = 0.1
		}
		add_loyalists = {
			pop_type = clergymen
			value = 0.05
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 보갑제 전면 폐지
		name = chinese_westernization.421.d
		add_modifier = {
			name = baojia_system_abolished
			months = very_long_modifier_time
			is_decaying = yes
		}
		ig:ig_landowners = {
			add_modifier = {
				name = baojia_system_abolished_ig_landowners
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = baojia_system_abolished_ig_intelligentsia
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			strata = poor
			value = 0.04
		}
		add_radicals = {
			pop_type = aristocrats
			value = 0.2
		}
		add_radicals = {
			pop_type = clergymen
			value = 0.1
		}
		ai_chance = {
			base = 0
		}
	}
}

chinese_westernization.422 = { # 과거제의 행방
	type = country_event
	placement = root
	title = chinese_westernization.422.t
	desc = chinese_westernization.422.d
	flavor = tchinese_westernization.422.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		has_journal_entry = je_chinese_westernization_government_reform
		NOT = { has_variable = chi_imperial_examination }
		AND = {
			OR = {
				has_law = law_type:law_no_schools
				has_law = law_type:law_religious_schools
			}
			OR = {
				# is_enacting_law = law_type:law_religious_schools
				is_enacting_law = law_type:law_private_schools
				is_enacting_law = law_type:law_public_schools
			}
		}
	}
	immediate = {
		currently_enacting_law = { save_scope_as = current_law_scope }
		set_variable = chi_imperial_examination
	}
	option = { # 그냥 놔두기
		name = chinese_westernization.422.a
		default_option = yes
		ig:ig_devout = {
			add_modifier = {
				name = imperial_examination_retained_ig_devout
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			pop_type = clergymen
			value = 0.1
		}
		add_loyalists = {
			pop_type = aristocrats
			value = 0.05
		}
		add_loyalists = {
			pop_type = bureaucrats
			value = 0.05
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 일부 과목만 수정
		name = chinese_westernization.422.b
		ig:ig_devout = {
			add_modifier = {
				name = imperial_examination_reformed_ig_devout
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			pop_type = clergymen
			value = 0.2
		}
		add_radicals = {
			pop_type = bureaucrats
			value = 0.1
		}
		ai_chance = {
			base = 1
		}
	}
	option = { # 폐지
		name = chinese_westernization.422.c
		ig:ig_devout = {
			add_modifier = {
				name = imperial_examination_abolished_ig_devout
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			pop_type = clergymen
			value = 0.5
		}
		add_radicals = {
			pop_type = aristocrats
			value = 0.05
		}
		add_radicals = {
			pop_type = bureaucrats
			value = 0.25
		}
		ai_chance = {
			base = 1
		}
	}
}

# chinese_westernization.423 과거제의 행방 ( -> 선출 관료제 ) todo

chinese_westernization.424 = { # 유학 교육?
	type = country_event
	placement = root
	title = chinese_westernization.424.t
	desc = chinese_westernization.424.d
	flavor = tchinese_westernization.424.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		has_journal_entry = je_chinese_westernization_government_reform
		NOT = { has_variable = chi_confucian_education }
		AND = {
			OR = {
				has_law = law_type:law_no_schools
				has_law = law_type:law_religious_schools
			}
			OR = {
				is_enacting_law = law_type:law_private_schools
				is_enacting_law = law_type:law_public_schools
			}
		}
	}
	immediate = {
		currently_enacting_law = { save_scope_as = current_law_scope }
		set_variable = chi_confucian_education
	}
	option = { # 함
		name = chinese_westernization.424.a
		default_option = yes
		ig:ig_devout = {
			add_modifier = {
				name = confucian_education_ig_devout
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 안함
		name = chinese_westernization.424.b
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.425 = { # 행정 개혁 중 만주족에 힘 싣기
	type = country_event
	placement = root
	title = chinese_westernization.425.t
	desc = chinese_westernization.425.d
	flavor = tchinese_westernization.425.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		NOT = { has_variable = chi_abolish_dual_presidency }
		AND = {
			has_law = law_type:law_autocracy
			OR = {
				is_enacting_law = law_type:law_landed_voting
				is_enacting_law = law_type:law_wealth_voting
				is_enacting_law = law_type:law_census_voting
				is_enacting_law = law_type:law_universal_suffrage
				is_enacting_law = law_type:law_single_party_state
			}
		}
	}
	immediate = {
		set_variable = chi_abolish_dual_presidency
	}
	option = { # 완전히 만주쪽
		name = chinese_westernization.425.a
		add_radicals = {
			strata = rich
			culture = cu:han
			value = 0.2
		}
		add_radicals = {
			strata = middle
			culture = cu:han
			value = 0.1
		}
		add_loyalists = {
			culture = cu:manchu
			value = 0.3
		}
		custom_tooltip = {
			text = chinese_westernization.425.tta
			random_list = {
				1 = { trigger_event = { id = chinese_westernization.426 days = { 30 60 } } }
				1 = { trigger_event = { id = chinese_westernization.427 days = { 30 60 } } }
			}
		}
		custom_tooltip = {
			text = warlord_china_explosion_point_remove_5_tt
			post_notification = warlord_china_explosion_point_remove
			change_variable = {
				name = china_warlord_explosion
				subtract = 0.25
			}
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 약간 만주쪽
		name = chinese_westernization.425.b
		add_radicals = {
			strata = rich
			culture = cu:han
			value = 0.1
		}
		add_radicals = {
			strata = middle
			culture = cu:han
			value = 0.05
		}
		custom_tooltip = {
			text = chinese_westernization.425.ttb
			random_list = {
				1 = {}
				1 = { trigger_event = { id = chinese_westernization.426 days = { 30 60 } } }
			}
		}
		ai_chance = {
			base = 1
		}
	}
	option = { # 공평하게
		name = chinese_westernization.425.c
		default_option = yes
		add_radicals = {
			culture = cu:manchu
			value = 0.3
		}
		custom_tooltip = {
			text = warlord_china_explosion_point_add_5_tt
			post_notification = warlord_china_explosion_point_add
			change_variable = {
				name = china_warlord_explosion
				add = 0.25
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

chinese_westernization.426 = { # 한인의 반발
	type = country_event
	placement = root
	title = chinese_westernization.426.t
	desc = chinese_westernization.426.d
	flavor = tchinese_westernization.426.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	option = {
		name = chinese_westernization.426.a
		default_option = yes
		add_radicals = {
			culture = cu:han
			value = 0.05
		}
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.427 = { # 한인의 반발2
	type = country_event
	placement = root
	title = chinese_westernization.427.t
	desc = chinese_westernization.427.d
	flavor = tchinese_westernization.427.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	option = {
		name = chinese_westernization.427.a
		default_option = yes
		add_radicals = {
			culture = cu:han
			value = 0.075
		}
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.428 = { # 관제개혁에 따른 반발
	type = country_event
	placement = root
	title = chinese_westernization.428.t
	desc = chinese_westernization.428.d
	flavor = tchinese_westernization.428.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		NOT = { has_variable = chi_abolish_junji_chu }
		AND = {
			has_law = law_type:law_autocracy
			OR = {
				is_enacting_law = law_type:law_landed_voting
				is_enacting_law = law_type:law_wealth_voting
				is_enacting_law = law_type:law_census_voting
				is_enacting_law = law_type:law_universal_suffrage
				is_enacting_law = law_type:law_single_party_state
			}
		}
	}
	immediate = {
		set_variable = chi_gov_departments_reform
	}
	option = { # 기존 내각과 군기처를 없애고 책임내각을 조직
		name = chinese_westernization.428.a
		add_radicals = {
			culture = cu:han
			value = 0.1
		}
		add_loyalists = {
			culture = cu:manchu
			value = 0.3
		}
		ig:ig_landowners = {
			add_modifier = {
				name = abolish_junji_chu_ig_landowners
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = abolish_junji_chu_ig_intelligentsia
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 싫음 ㅅㄱ
		name = chinese_westernization.428.b
		add_loyalists = {
			culture = cu:han
			value = 0.1
		}
		add_radicals = {
			culture = cu:manchu
			value = 0.3
		}
		ig:ig_landowners = {
			add_modifier = {
				name = retain_junji_chu_ig_landowners
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = retain_junji_chu_ig_intelligentsia
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.429 = { # 만한금령 폐지
	type = country_event
	placement = root
	title = chinese_westernization.429.t
	desc = chinese_westernization.429.d
	flavor = tchinese_westernization.429.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		NOT = { has_variable = chi_abolish_junji_chu }
		AND = {
			has_law = law_type:law_autocracy
			OR = {
				is_enacting_law = law_type:law_landed_voting
				is_enacting_law = law_type:law_wealth_voting
				is_enacting_law = law_type:law_census_voting
				is_enacting_law = law_type:law_universal_suffrage
				is_enacting_law = law_type:law_single_party_state
			}
		}
	}
	immediate = {
		set_variable = chi_gov_departments_reform
	}
	option = { # 기존 내각과 군기처를 없애기
		name = chinese_westernization.428.a
		add_radicals = {
			culture = cu:han
			value = 0.1
		}
		add_loyalists = {
			culture = cu:manchu
			value = 0.3
		}
		ig:ig_landowners = {
			add_modifier = {
				name = abolish_junji_chu_ig_landowners
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = abolish_junji_chu_ig_intelligentsia
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 싫음 ㅅㄱ
		name = chinese_westernization.428.b
		add_loyalists = {
			culture = cu:han
			value = 0.1
		}
		add_radicals = {
			culture = cu:manchu
			value = 0.3
		}
		ig:ig_landowners = {
			add_modifier = {
				name = retain_junji_chu_ig_landowners
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = retain_junji_chu_ig_intelligentsia
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# chinese_westernization.431 선거권 제정 시작했을 때 뜰 이벤트, 

chinese_westernization.462 = { # 국폐칙례 (화폐 표준화) 币制则例
	type = country_event
	placement = root
	title = chinese_westernization.462.t
	desc = chinese_westernization.462.d
	flavor = tchinese_westernization.462.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		NOT = { has_variable = chi_currency_standardization }
	}
	immediate = {
		currently_enacting_law = { save_scope_as = current_law_scope }
		ig:ig_landowners = { save_scope_as = landowners }
	}
	option = { # 깡으로 화폐 수집
		name = chinese_westernization.462.a
		hidden_effect = {
			set_variable = chi_currency_standardization
			add_modifier = {
				name = chi_currency_standardization_decay
				months = long_modifier_time
				is_decaying = yes
			}
		}
		chi_mint_centralization_progress = yes
		add_modifier = {
			name = chi_currency_standardization_alone
			months = short_modifier_time
			multiplier = { # GDP 0.15% -> 총지불 19.5%
				value = root.gdp
				divide = 1000000
				multiply = 1.5
				round = yes
				multiply = 1000
			}
		}
		ig:ig_landowners = {
			add_modifier = {
				name = chi_currency_standardization_alone_ig_landowners
				months = long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = chi_currency_standardization_alone_ig_intelligentsia
				months = long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_rural_folk = {
			add_modifier = {
				name = chi_currency_standardization_alone_ig_rural_folk
				months = long_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			value = 0.015
		}
		ai_chance = {
			base = 0
		}
	}
	option = { # 외국 차관을 들여서 해결
		name = chinese_westernization.462.b
		chi_mint_centralization_progress = yes
		hidden_effect = {
			set_variable = chi_currency_standardization
			add_modifier = {
				name = chi_currency_standardization_decay
				months = long_modifier_time
				is_decaying = yes
			}
		}
		add_modifier = {
			name = chi_currency_standardization_with_foreigners
			months = long_modifier_time
			multiplier = { # GDP 0.05%  -> 총지불 26%
				value = root.gdp
				divide = 1000000
				multiply = 0.5
				round = yes
				multiply = 1000
			}
		}
		ig:ig_landowners = {
			add_modifier = {
				name = chi_currency_standardization_with_foreigners_ig_landowners
				months = long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_petty_bourgeoisie = {
			add_modifier = {
				name = chi_currency_standardization_with_foreigners_ig_petty_bourgeoisie
				months = long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = chi_currency_standardization_with_foreigners_ig_intelligentsia
				months = long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_rural_folk = {
			add_modifier = {
				name = chi_currency_standardization_with_foreigners_ig_rural_folk
				months = long_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			strata = poor
			value = 0.02
		}
		ai_chance = {
			base = 1
		}
	}
	option = { # 미루기
		name = chinese_westernization.462.c
		default_option = yes
		ig:ig_landowners = {
			add_modifier = {
				name = chi_currency_standardization_postponed_ig_landowners
				months = long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = chi_currency_standardization_postponed_ig_intelligentsia
				months = long_modifier_time
				is_decaying = yes
			}
		}
		ig:ig_rural_folk = {
			add_modifier = {
				name = chi_currency_standardization_postponed_ig_rural_folk
				months = long_modifier_time
				is_decaying = yes
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

chinese_westernization.463 = { # 민간 조폐 말소
	type = country_event
	placement = root
	title = chinese_westernization.463.t
	desc = chinese_westernization.463.d
	flavor = tchinese_westernization.463.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		NOT = { has_variable = chi_abolished_private_mints }
	}
	immediate = {
		currently_enacting_law = { save_scope_as = current_law_scope }
		ig:ig_landowners = { save_scope_as = landowners }
	}
	option = { # 권위로
		name = chinese_westernization.463.a
		chi_mint_centralization_progress = yes
		hidden_effect = {
			set_variable = chi_abolished_private_mints
			add_modifier = {
				name = chi_abolished_private_mints_decay
				months = long_modifier_time
				is_decaying = yes
			}
		}
		add_modifier = {
			name = chi_abolished_private_mints_with_stick
			months = long_modifier_time
		}
		add_modifier = {
			name = chi_abolished_private_mints_with_stick_ig
			months = very_long_modifier_time
			is_decaying = yes
		}
		ai_chance = {
			base = 2
		}
	}
	option = { # 적당히 구슬려서
		name = chinese_westernization.463.b
		hidden_effect = {
			set_variable = chi_abolished_private_mints
			add_modifier = {
				name = chi_abolished_private_mints_decay
				months = long_modifier_time
				is_decaying = yes
			}
		}
		chi_mint_centralization_progress = yes
		add_modifier = {
			name = chi_abolished_private_mints_with_carrot
			months = long_modifier_time
			multiplier = { # GDP 0.01%
				value = root.gdp
				divide = 1000000
				multiply = 0.1
				round = yes
				multiply = 1000
			}
		}
		add_modifier = {
			name = chi_abolished_private_mints_with_carrot_ig
			months = very_long_modifier_time
			is_decaying = yes
		}
		ai_chance = {
			base = 1
		}
	}
	option = { # 그냥 포기
		name = chinese_westernization.463.c
		default_option = yes
		add_modifier = {
			name = baojia_system_postponed
			months = very_long_modifier_time
		}
		ig:ig_landowners = {
			add_modifier = {
				name = chi_abolished_private_mints_postponed
				months = very_long_modifier_time
			}
		}
		ig:ig_intelligentsia = {
			add_modifier = {
				name = chi_abolished_private_mints_postponed
				months = very_long_modifier_time
			}
		}
		add_enactment_modifier = {
			name = governors_pleased
		}
		add_radicals = {
			strata = poor
			value = 0.04
		}
		add_loyalists = {
			pop_type = aristocrats
			value = 0.2
		}
		add_loyalists = {
			pop_type = clergymen
			value = 0.1
		}
		ai_chance = {
			base = 0
		}
	}
}

chinese_westernization.464 = { # 광산법 제정에 따른 반발
	type = country_event
	placement = root
	title = chinese_westernization.464.t
	desc = chinese_westernization.464.d
	flavor = tchinese_westernization.464.f

	event_image = {
		video = "gfx/event_pictures/asia_politician_parliament_motion.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/politician_parliament_motion"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	duration = 3

	trigger = {
		has_journal_entry = je_chinese_westernization_government_reform
		NOT = { has_variable = chi_mining_law }
		AND = {
			has_law = law_type:law_traditionalism
			currently_enacting_law.type = {
				is_same_law_group_as = law_type:law_traditionalism
			}
		}
	}
	immediate = {
		currently_enacting_law = { save_scope_as = current_law_scope }
		set_variable = chi_mining_law
	}
	option = { # 밀어붙이기
		name = chinese_westernization.464.a
		default_option = yes
		ig:ig_industrialists = {
			add_modifier = {
				name = mining_law_enacted_ig_industrialists
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			pop_type = capitalists
			value = 0.2
		}
		add_radicals = {
			pop_type = aristocrats
			value = 0.1
		}
		add_radicals = {
			pop_type = bureaucrats
			value = 0.1
		}
		ai_chance = {
			base = 1
		}
	}
	option = { # 그냥 놔두기
		name = chinese_westernization.464.b
		ig:ig_industrialists = {
			add_modifier = {
				name = imperial_examination_reformed_ig_industrialists
				months = very_long_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			pop_type = capitalists
			value = 0.1
		}
		add_loyalists = {
			pop_type = aristocrats
			value = 0.05
		}
		add_loyalists = {
			pop_type = bureaucrats
			value = 0.05
		}
		ai_chance = {
			base = 0
		}
	}
}


# 토지조사 (토지세 깎는 모디파이어 효과 완화)

# 경사대학당 (대학 건설)

# 유미유동 (Chinese Educational Mission)

# 오대신출양고찰

# 예비입헌공회 (헌법)

# 헌법 관련 이벤트 (만약 전제정치 유지 선택하면 중국 분열 +하는 식으로)
# 황제의 권력을 얼마나 제한하고 의회에 얼마나 권력을 실어주느냐가 관건이 될듯
# 만약 너무 의회에 힘을 실어주면 한족 권력 강화 -> 중국 불안정 순으로 진행할듯

# 흠정헌법대강 (헌법)

# 캉유웨이 좀 찾아보기 TODO

# 광산법 제정에 따른 반발

#################### 국제적 위상 ####################

chinese_westernization.501 = { # 위대한 회수
	type = country_event
	placement = root

	title = chinese_westernization.501.t
	desc = chinese_westernization.501.d
	flavor = chinese_westernization.501.f
	
	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
		NOT = { has_variable = chi_the_restoration_of_land_sovereignty }
		sr:region_north_china = {
			every_scope_state = {
				owner = c:CHI
				controller = c:CHI
			}
		}
		sr:region_south_china = {
			every_scope_state = {
				owner = c:CHI
				controller = c:CHI
			}
		}
	}

	immediate = {
		set_variable = chi_the_restoration_of_land_sovereignty
		save_scope_as = chi_scope
	}

	option = {
		name = chinese_westernization.501.a
		default_option = yes
		add_modifier = {
			name = chi_the_restoration_of_land_sovereignty
			months = very_long_modifier_time
		}
		ai_chance = {
			base = 1
		}
	}
}

