nip_tutorial_button = {
	name = "nip_tutorial_button"
	desc = "nip_tutorial_button_desc"

	visible = {
		always = yes
	}

	possible = {
		root.var:nip_tutorial_var < 30
	}

	effect = {
		trigger_event = {
			id = before_meiji.1
		}
		change_variable = {
			name = nip_tutorial_var
			add = 30
		}
	}
}

jap_tutorial_button = {
	name = "jap_tutorial_button"
	desc = "jap_tutorial_button_desc"

	visible = {
		always = yes
	}

	possible = {
		root.var:jap_tutorial_var < 30
	}

	effect = {
		trigger_event = {
			id = before_meiji.5
		}
		change_variable = {
			name = jap_tutorial_var
			add = 30
		}
	}
}

gakushuin_shien = {
	name = "gakushuin_shien"
	desc = "gakushuin_shien_desc"

	visible = {
		NOT = { has_variable = gakushuin_shien_var }
	}

	possible = {
		NOT = { has_variable = gakushuin_shien_var }
		has_technology_researched = academia
	}

	effect = {
		trigger_event = {
			id = before_meiji.1001
		}
		set_variable = gakushuin_shien_var 
	}
}

gakushuin_zaigen = {
	name = "gakushuin_zaigen"
	desc = "gakushuin_zaigen_desc"

	visible = {
		NOT = { has_variable = gakushuin_zaigen_var }
	}

	possible = {
		NOT = { has_variable = gakushuin_zaigen_var }
		gold_reserves > 300000
		has_technology_researched = academia
	}

	effect = {
		trigger_event = {
			id = before_meiji.1005
		}
		set_variable = gakushuin_zaigen_var 
	}
}

scripted_samurai_handling = {
	name = "scripted_samurai_handling"
	desc = "scripted_samurai_handling_desc"

	visible = {
		has_variable = daimyo_handling_start
	}

	possible = {
		has_variable = daimyo_handling_start
	}

	effect = {
		trigger_event = {
			id = meiji.1002
		}
		remove_variable = daimyo_handling_start
	}
}

scripted_samurai_handling = {
	name = "scripted_samurai_handling"
	desc = "scripted_samurai_handling_desc"

	visible = {
		has_variable = samurai_handling_start
	}

	possible = {
		ig:ig_armed_forces = {
			is_powerful = no
			is_in_government = no
			ig_clout < 0.15
		}
	}

	effect = {
		trigger_event = {
			id = meiji.1020
		}
		remove_variable = samurai_handling_start
	}
}

scripted_gundai_establish = {
	name = "scripted_gundai_establish"
	desc = "scripted_gundai_establish_desc"

	visible = {
		has_variable = gundai_establish_start
	}

	possible = {
		army_size >= 40
		navy_size >= 5
		has_technology_researched = general_staff
	}

	effect = {
		trigger_event = {
			id = meiji.8000
		}
		remove_variable = gundai_establish_start
	}
}

scripted_gundai_establish_1 = {
	name = "scripted_gundai_establish_1"
	desc = "scripted_gundai_establish_1_desc"

	visible = {
		has_variable = gundai_establish_1
	}

	possible = {
		is_enacting_law = law_type:law_professional_army
	}

	effect = {
		add_enactment_modifier = {
			name = gundai_establish_modifier
		}
		trigger_event = {
			id = meiji.8004
		}
		remove_variable = gundai_establish_1
	}
}

scripted_gundai_establish_2 = {
	name = "scripted_gundai_establish_2"
	desc = "scripted_gundai_establish_2_desc"

	visible = {
		has_variable = gundai_establish_1
	}

	possible = {
		is_enacting_law = law_type:law_mass_conscription
	}

	effect = {
		add_enactment_modifier = {
			name = gundai_establish_modifier
		}
		trigger_event = {
			id = meiji.8005
		}
		remove_variable = gundai_establish_1
	}
}


scripted_gundai_establish_3 = {
	name = "scripted_gundai_establish_3"
	desc = "scripted_gundai_establish_3_desc"

	visible = {
		has_variable = gundai_establish_2
	}

	possible = {
		is_enacting_law = law_type:law_national_militia
	}

	effect = {
		add_enactment_modifier = {
			name = gundai_establish_modifier
		}
		trigger_event = {
			id = meiji.8003
		}
		remove_variable = gundai_establish_2
	}
}

scripted_keisatsu_establish_1 = {
	name = "scripted_keisatsu_establish_1"
	desc = "scripted_keisatsu_establish_1_desc"

	visible = {
		has_variable = keisatsu_establish_1
	}

	possible = {
		is_enacting_law = law_type:law_local_police
	}

	effect = {
		add_enactment_modifier = {
			name = keisatsu_establish_modifier
		}
		trigger_event = {
			id = meiji.8007
		}
		remove_variable = keisatsu_establish_1
	}
}

scripted_keisatsu_establish_2 = {
	name = "scripted_keisatsu_establish_2"
	desc = "scripted_keisatsu_establish_2_desc"

	visible = {
		has_variable = keisatsu_establish_2
	}

	possible = {
		is_enacting_law = law_type:law_dedicated_police
	}

	effect = {
		add_enactment_modifier = {
			name = keisatsu_establish_modifier
		}
		trigger_event = {
			id = meiji.8007
		}
		remove_variable = keisatsu_establish_2
	}
}


scripted_keisatsu_establish_3 = {
	name = "scripted_keisatsu_establish_3"
	desc = "scripted_keisatsu_establish_3_desc"

	visible = {
		has_variable = keisatsu_establish_3
	}

	possible = {
		is_enacting_law = law_type:law_militarized_police
	}

	effect = {
		add_enactment_modifier = {
			name = keisatsu_establish_modifier
		}
		trigger_event = {
			id = meiji.8007
		}
		remove_variable = keisatsu_establish_3
	}
}

scripted_approach_the_power_gbr = {
	name = "scripted_approach_the_power_gbr"
	desc = "scripted_approach_the_power_gbr_desc"

	visible = {
		has_variable = scripted_approach_the_power_gbr
	}

	possible = {
	    navy_size > GBR_navy_size
		gdp > GBR_gdp
	}

	effect = {
		add_journal_entry = {
			type = je_approach_the_power_gbr
		}
		remove_variable = scripted_approach_the_power_gbr
	}
}

scripted_approach_the_power_fra = {
	name = "scripted_approach_the_power_fra"
	desc = "scripted_approach_the_power_fra_desc"

	visible = {
		has_variable = scripted_approach_the_power_fra
	}

	possible = {
		has_technology_researched = egalitarianism
	}

	effect = {
		add_journal_entry = {
			type = je_approach_the_power_fra
		}
		remove_variable = scripted_approach_the_power_fra
	}
}

scripted_approach_the_power_usa = {
	name = "scripted_approach_the_power_usa"
	desc = "scripted_approach_the_power_usa_desc"

	visible = {
		has_variable = scripted_approach_the_power_usa
	}

	possible = {
		NOT = { has_law = law_type:law_isolationism }
		NOT = { has_law = law_type:law_closed_borders }
	}

	effect = {
		add_journal_entry = {
			type = je_approach_the_power_usa
		}
		remove_variable = scripted_approach_the_power_usa
	}
}

scripted_approach_the_power_rus = {
	name = "scripted_approach_the_power_rus"
	desc = "scripted_approach_the_power_rus_desc"

	visible = {
		has_variable = scripted_approach_the_power_rus
	}

	possible = {
		army_size > RUS_army_size
		navy_size > RUS_navy_size
	}

	effect = {
		add_journal_entry = {
			type = je_approach_the_power_rus
		}
		remove_variable = scripted_approach_the_power_rus
	}
}

scripted_approach_the_power_gbr_1 = {
	name = "scripted_approach_the_power_gbr_1"
	desc = "scripted_approach_the_power_gbr_1_desc"

	visible = {
		has_variable = scripted_approach_the_power_gbr_1
	}

	possible = {
		has_variable = scripted_approach_the_power_gbr_1
	    navy_size > GBR_navy_size
		gdp > GBR_gdp
	}

	effect = {
		trigger_event = {
			id = meiji.6303
		}
		remove_variable = scripted_approach_the_power_gbr_1
	}
}

