# 프로그레스 바 벨류는 로컬용이니 effect에 쓰지 말것.

bakuhantaisei_bakufu_authority_progress_bar_value = {
	je:je_bakuhantaisei = {
		value = "scripted_bar_progress(bakuhantaisei_bakufu_authority_progress_bar)"
	}
}

bakuhantaisei_TOHOKU_loyalty_progress_bar_value = {
	je:je_bakuhantaisei_TOHOKU = {
		value = "scripted_bar_progress(bakuhantaisei_TOHOKU_loyalty_progress_bar)"
	}
}
bakuhantaisei_TOHOKU_independency_progress_bar_value = {
	je:je_bakuhantaisei_TOHOKU = {
		value = "scripted_bar_progress(bakuhantaisei_TOHOKU_independency_progress_bar)"
	}
}
bakuhantaisei_TOHOKU_goryo_progress_bar_value = {
	je:je_bakuhantaisei_TOHOKU = {
		value = "scripted_bar_progress(bakuhantaisei_TOHOKU_goryo_progress_bar)"
	}
}

bakuhantaisei_KANTO_loyalty_progress_bar_value = {
	je:je_bakuhantaisei_KANTO = {
		value = "scripted_bar_progress(bakuhantaisei_KANTO_loyalty_progress_bar)"
	}
}
bakuhantaisei_KANTO_independency_progress_bar_value = {
	je:je_bakuhantaisei_KANTO = {
		value = "scripted_bar_progress(bakuhantaisei_KANTO_independency_progress_bar)"
	}
}
bakuhantaisei_KANTO_goryo_progress_bar_value = {
	je:je_bakuhantaisei_KANTO = {
		value = "scripted_bar_progress(bakuhantaisei_KANTO_goryo_progress_bar)"
	}
}

bakuhantaisei_CHUBU_loyalty_progress_bar_value = {
	je:je_bakuhantaisei_CHUBU = {
		value = "scripted_bar_progress(bakuhantaisei_CHUBU_loyalty_progress_bar)"
	}
}
bakuhantaisei_CHUBU_independency_progress_bar_value = {
	je:je_bakuhantaisei_CHUBU = {
		value = "scripted_bar_progress(bakuhantaisei_CHUBU_independency_progress_bar)"
	}
}
bakuhantaisei_CHUBU_goryo_progress_bar_value = {
	je:je_bakuhantaisei_CHUBU = {
		value = "scripted_bar_progress(bakuhantaisei_CHUBU_goryo_progress_bar)"
	}
}

bakuhantaisei_KANSAI_loyalty_progress_bar_value = {
	je:je_bakuhantaisei_KANSAI = {
		value = "scripted_bar_progress(bakuhantaisei_KANSAI_loyalty_progress_bar)"
	}
}
bakuhantaisei_KANSAI_independency_progress_bar_value = {
	je:je_bakuhantaisei_KANSAI = {
		value = "scripted_bar_progress(bakuhantaisei_KANSAI_independency_progress_bar)"
	}
}
bakuhantaisei_KANSAI_goryo_progress_bar_value = {
	je:je_bakuhantaisei_KANSAI = {
		value = "scripted_bar_progress(bakuhantaisei_KANSAI_goryo_progress_bar)"
	}
}

bakuhantaisei_KYUSHU_loyalty_progress_bar_value = {
	je:je_bakuhantaisei_KYUSHU = {
		value = "scripted_bar_progress(bakuhantaisei_KYUSHU_loyalty_progress_bar)"
	}
}
bakuhantaisei_KYUSHU_independency_progress_bar_value = {
	je:je_bakuhantaisei_KYUSHU = {
		value = "scripted_bar_progress(bakuhantaisei_KYUSHU_independency_progress_bar)"
	}
}
bakuhantaisei_KYUSHU_goryo_progress_bar_value = {
	je:je_bakuhantaisei_KYUSHU = {
		value = "scripted_bar_progress(bakuhantaisei_KYUSHU_goryo_progress_bar)"
	}
}

bakuhantaisei_CHUGOKU_loyalty_progress_bar_value = {
	je:je_bakuhantaisei_CHUGOKU = {
		value = "scripted_bar_progress(bakuhantaisei_CHUGOKU_loyalty_progress_bar)"
	}
}
bakuhantaisei_CHUGOKU_independency_progress_bar_value = {
	je:je_bakuhantaisei_CHUGOKU = {
		value = "scripted_bar_progress(bakuhantaisei_CHUGOKU_independency_progress_bar)"
	}
}
bakuhantaisei_CHUGOKU_goryo_progress_bar_value = {
	je:je_bakuhantaisei_CHUGOKU = {
		value = "scripted_bar_progress(bakuhantaisei_CHUGOKU_goryo_progress_bar)"
	}
}

bakuhantaisei_SHIKOKU_loyalty_progress_bar_value = {
	je:je_bakuhantaisei_SHIKOKU = {
		value = "scripted_bar_progress(bakuhantaisei_SHIKOKU_loyalty_progress_bar)"
	}
}
bakuhantaisei_SHIKOKU_independency_progress_bar_value = {
	je:je_bakuhantaisei_SHIKOKU = {
		value = "scripted_bar_progress(bakuhantaisei_SHIKOKU_independency_progress_bar)"
	}
}
bakuhantaisei_SHIKOKU_goryo_progress_bar_value = {
	je:je_bakuhantaisei_SHIKOKU = {
		value = "scripted_bar_progress(bakuhantaisei_SHIKOKU_goryo_progress_bar)"
	}
}

# 전국 고쿠다카 통계에 따라 게임 내 해당 주에 위치한 쿠니의 고쿠다카 싹 더한 값 (1834년 기준 아마?)
# 값 바뀌는 건 하기 귀찮다.

TOHOKU_kokudaka_value = {
	value = 4169562.58
}
KANTO_kokudaka_value = {
	value = 5265145.59
}
CHUBU_kokudaka_value = {
	value = 5690849.96
}
KANSAI_kokudaka_value = {
	value = 4525692.06
}
KYUSHU_kokudaka_value = {
	value = 3986900.89
}
CHUGOKU_kokudaka_value = {
	value = 3441813.28
}
SHIKOKU_kokudaka_value = {
	value = 1353238.74
}

# 막번체제 프로그레스 바 초기값 여기서 설정함

bakuhantaisei_TOHOKU_loyalty_progress_bar_initial_value = {
	value = 77.5
}
bakuhantaisei_KANTO_loyalty_progress_bar_initial_value = {
	value = 92.5
}
bakuhantaisei_CHUBU_loyalty_progress_bar_initial_value = {
	value = 75
}
bakuhantaisei_KANSAI_loyalty_progress_bar_initial_value = {
	value = 83.5
}
bakuhantaisei_KYUSHU_loyalty_progress_bar_initial_value = {
	value = 28.8
}
bakuhantaisei_CHUGOKU_loyalty_progress_bar_initial_value = {
	value = 45.8
}
bakuhantaisei_SHIKOKU_loyalty_progress_bar_initial_value = {
	value = 67.5
}

bakuhantaisei_TOHOKU_independency_progress_bar_initial_value = {
	value = 100
	subtract = bakuhantaisei_TOHOKU_loyalty_progress_bar_initial_value
}
bakuhantaisei_KANTO_independency_progress_bar_initial_value = {
	value = 100
	subtract = bakuhantaisei_KANTO_loyalty_progress_bar_initial_value
}
bakuhantaisei_CHUBU_independency_progress_bar_initial_value = {
	value = 100
	subtract = bakuhantaisei_CHUBU_loyalty_progress_bar_initial_value
}
bakuhantaisei_KANSAI_independency_progress_bar_initial_value = {
	value = 100
	subtract = bakuhantaisei_KANSAI_loyalty_progress_bar_initial_value
}
bakuhantaisei_KYUSHU_independency_progress_bar_initial_value = {
	value = 100
	subtract = bakuhantaisei_KYUSHU_loyalty_progress_bar_initial_value
}
bakuhantaisei_CHUGOKU_independency_progress_bar_initial_value = {
	value = 100
	subtract = bakuhantaisei_CHUGOKU_loyalty_progress_bar_initial_value
}
bakuhantaisei_SHIKOKU_independency_progress_bar_initial_value = {
	value = 100
	subtract = bakuhantaisei_SHIKOKU_loyalty_progress_bar_initial_value
}

bakuhantaisei_TOHOKU_goryo_progress_bar_initial_value = {
	value = 13.103 # 4169562.58132 중 546340.0974
}
bakuhantaisei_KANTO_goryo_progress_bar_initial_value = {
	value = 17.825 # 5265145.592638 중 938531.51803
}
bakuhantaisei_CHUBU_goryo_progress_bar_initial_value = {
	value = 26.963 # 5690849.95547 중 1534434.69525
}
bakuhantaisei_KANSAI_goryo_progress_bar_initial_value = {
	value = 12.712 # 4525692.06459 중 575328.50707
}
bakuhantaisei_KYUSHU_goryo_progress_bar_initial_value = {
	value = 5.098 # 3986900.891096 중 203249.82362
}
bakuhantaisei_CHUGOKU_goryo_progress_bar_initial_value = {
	value = 9.208 # 3441813.27681 중 396156.67131 *0.8
}
bakuhantaisei_SHIKOKU_goryo_progress_bar_initial_value = {
	value = 5.855 # 1353238.74474 중 396156.67131 *0.2
}

bakufu_kaikaku_bakufu_politicians_activeness = { # 인물들이 행동을 취하는데 얼마나 적극적인가?? 정치인 임명 시 정치력 대비 얼마 투자하는지 비율 + 행동을 얼마나 적극적으로 취하는가
	value = 0.2
	if = {
		limit = { has_trait = direct }
		add = 0.1
	}
	if = {
		limit = { has_trait = persistent }
		add = 0.05
	}
	if = {
		limit = { has_trait = cautious }
		add = -0.05
	}
	if = {
		limit = { has_trait = arrogant }
		add = 0.05
	}
	if = {
		limit = { has_trait = reckless }
		add = 0.05
	}
	if = {
		limit = { has_trait = tactful }
		add = -0.05
	}
	if = {
		limit = { has_trait = ambitious }
		add = 0.3
	}
	if = {
		limit = { has_trait = imperious }
		add = 0.1
	}
	if = {
		limit = { has_trait = reserved }
		multiply = 0.5
	}
	if = {
		limit = { has_trait = brave }
		add = 0.2
	}
	if = {
		limit = { has_trait = senile }
		multiply = 0.5
	}
	add = {
		value = modifier:character_health_add
		divide = 5
	}
	add = {
		value = popularity
		divide = 500
	}
	min = 0
	max = 1
}

eafp_bakuhantaisei_politician_influence_monthly_add = { # 월마다 정치적 영향력 상승량
	value = 2
	if = {
		limit = { is_hitotsubashiha = yes }
		add = { # 0-0.5
			value = owner.var:hitotsubashiha_influence_var
			multiply = 0.005
		}
	}
	else_if = {
		limit = { is_nankiha = yes }
		add = { # 0-0.5
			value = owner.var:nankiha_influence_var
			multiply = 0.005
		}
	}
	else = {
		add = 0.25
	}
	# skill traits의 interest_group_pol_str_mult 값 * 20
	if = {
		limit = { has_trait = popular_commander }
		add = 0.4
	}
	if = {
		limit = { has_trait = celebrity_commander }
		add = 1
	}
	if = {
		limit = { has_trait = basic_political_operator }
		add = 1
	}
	if = {
		limit = { has_trait = experienced_political_operator }
		add = 2
	}
	if = {
		limit = { has_trait = expert_political_operator }
		add = 4
	}
	if = {
		limit = { has_trait = inspirational_orator }
		add = 1
	}
	if = {
		limit = { has_trait = demagogue }
		add = 2
	}
	if = {
		limit = { has_trait = firebrand }
		add = 3
	}
	if = {
		limit = { has_trait = master_bureaucrat }
		add = 1
	}
	if = {
		limit = { has_trait = political_appointee }
		add = -1
	}
	if = {
		limit = { has_trait = inept }
		add = -2
	}
	if = {
		limit = { has_trait = inexperienced }
		add = -1
	}
	add = {
		value = popularity
		multiply = 0.05
	}
}

bakufu_hitotsubashiha_hiritsu = {
	value = var:hitotsubashiha_influence_var
	divide = {
		value = var:hitotsubashiha_influence_var
		add = var:nankiha_influence_var
	}
}

bakufu_nankiha_hiritsu = {
	value = var:nankiha_influence_var
	divide = {
		value = var:hitotsubashiha_influence_var
		add = var:nankiha_influence_var
	}
}

bakufu_kaikaku_hitotsubashiha_approval_progress_bar_value = {
	je:je_bakufu_kaikaku = {
		value = "scripted_bar_progress(bakufu_kaikaku_hitotsubashiha_approval_progress_bar)"
	}
}
bakufu_kaikaku_nankiha_approval_progress_bar_value = {
	je:je_bakufu_kaikaku = {
		value = "scripted_bar_progress(bakufu_kaikaku_nankiha_approval_progress_bar)"
	}
}

hitosubashiha_minus_nankiha_value = {
	value = 0
	every_scope_character = {
		limit = {
			has_variable = eafp_bakuhantaisei_politician_influence
		}
		if = {
			limit = { is_hitotsubashiha = yes }
			add = 1
		}
		else_if = {
			limit = { is_nankiha = yes }
			subtract = 1
		}
	}
}

moderate_margin_value = { # 얼마나 중도파가 뽑히는 지를 나타내는 값.
	value = 10
	add = {
		value = bakuhantaisei_bakufu_authority_progress_bar_value
		multiply = 40
		divide = 4000
	}
}

moderate_margin_value_2 = { # 얼마나 중도파가 뽑히는 지를 나타내는 값.
	value = 10
	subtract = {
		value = bakuhantaisei_bakufu_authority_progress_bar_value
		multiply = 40
		divide = 4000
	}
}