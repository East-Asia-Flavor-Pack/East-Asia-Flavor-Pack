namespace = nian_army

nian_army.1 = {
	type = country_event
	placement = root
	event_image = {
		video = "asia_union_leader"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	title = nian_army.1.t
	desc = nian_army.1.d
	flavor = nian_army.1.f

	duration = 3

	trigger = {
		#Triggered by JE
	}

	cooldown = { months = very_long_modifier_time }

	immediate = {
	}

	option = {
		name = nian_army.1.a
		default_option = yes
		show_as_tooltip = {
			add_journal_entry = { type = je_nian_army }
		}
	}
}

nian_army.2 = {
	type = country_event
	placement = root
	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.2.t
	desc = nian_army.2.d
	flavor = nian_army.2.f

	duration = 3

	trigger = {
		
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			save_scope_as = state1
		}
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
				NOT = { THIS = scope:state1 }
			}
			save_scope_as = state2
		}
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
				NOT = { THIS = scope:state1 }
				NOT = { THIS = scope:state2 }
			}
			save_scope_as = state3
		}
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
				NOT = { THIS = scope:state1 }
				NOT = { THIS = scope:state2 }
				NOT = { THIS = scope:state3 }
			}
			save_scope_as = state4
		}
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
				NOT = { THIS = scope:state1 }
				NOT = { THIS = scope:state2 }
				NOT = { THIS = scope:state3 }
				NOT = { THIS = scope:state4 }
			}
			save_scope_as = state5
		}
	}

	option = {
		name = nian_army.2.a
		default_option = yes
		every_scope_state = {
			limit = {
				OR = {
					THIS = scope:state1
					THIS = scope:state2
					THIS = scope:state3
					THIS = scope:state4
					THIS = scope:state5
				}
			}
			add_radicals_in_state = {
				value = small_radicals
				culture = cu:han
			}
			kill_population_percent_in_state = {
				percent = 0.005
				culture = cu:han
			}
			kill_population_percent_in_state = {
				percent = 0.01
				pop_type = farmers
				culture = cu:han
			}
			kill_population_percent_in_state = {
				percent = 0.01
				pop_type = laborers
				culture = cu:han
			}
			kill_population_percent_in_state = {
				percent = 0.01
				pop_type = peasants
				culture = cu:han
			}
			state_region = {
				add_devastation = 30 
			}
		}

	}
	option = {
		name = nian_army.2.b

		every_scope_state = {
			limit = {
				OR = {
					THIS = scope:state1
					THIS = scope:state2
					THIS = scope:state3
					THIS = scope:state4
					THIS = scope:state5
				}
			}
			kill_population_percent_in_state = {
				percent = 0.0025
				culture = cu:han
			}
			kill_population_percent_in_state = {
				percent = 0.005
				pop_type = farmers
				culture = cu:han
			}
			kill_population_percent_in_state = {
				percent = 0.005
				pop_type = laborers
				culture = cu:han
			}
			kill_population_percent_in_state = {
				percent = 0.005
				pop_type = peasants
				culture = cu:han
			}
			state_region = {
				add_devastation = 15
			}
		}
	}
}

nian_army.3 = {
	type = country_event
	placement = root
	event_image = {
		video = "asia_union_leader"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.3.t
	desc = nian_army.3.d
	flavor = nian_army.3.f

	duration = 3

	trigger = {
	}

	immediate = {

	}

	option = {
		name = nian_army.3.a
		default_option = yes
		# TODO

	}
}

nian_army.11 = {
	type = country_event
	placement = scope:state_scope
	event_image = {
		video = "europenorthamerica_russian_serfs"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.11.t
	desc = nian_army.11.d
	flavor = nian_army.11.f

	duration = 3
	
	cooldown = { months = normal_modifier_time }

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			weight = {
				base = 0.1
				modifier = {
					turmoil > 0.1
					add = 1
				}
				modifier = {
					turmoil > 0.2
					add = 1
				}
				modifier = {
					turmoil > 0.3
					add = 1
				}
				modifier = {
					turmoil > 0.4
					add = 1
				}
				modifier = {
					turmoil > 0.5
					add = 1
				}
				modifier = {
					turmoil > 0.6
					add = 1
				}
				modifier = {
					turmoil > 0.7
					add = 1
				}
				modifier = {
					turmoil > 0.8
					add = 1
				}
				modifier = {
					turmoil > 0.9
					add = 1
				}
			}
			save_scope_as = state_scope
		}
	}

	option = { # 채우기
		name = nian_army.11.a
		default_option = yes
		scope:state_scope = {
			add_radicals_in_state = {
				value = medium_radicals
			}
		}
		custom_description = {
			text = nian_army_drift
			value = 5
	        change_variable = {
	            name = nian_army_progress_var
	            add = 5
	        }
		}
	}
	option = { # 넘어가기
		name = nian_army.11.b
		add_treasury = { # 주 gdp 0.5%
			value = scope:state_scope.gdp
			divide = 1000000
			multiply = 0.5
			round = yes
			multiply = -1000
		}
		custom_description = {
			text = nian_army_drift
			value = 5
	        change_variable = {
	            name = nian_army_progress_var
	            add = 5
	        }
		}
	}
}

nian_army.12 = {
	type = country_event
	placement = scope:state_scope
	event_image = {
		video = "asia_union_leader"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.12.t
	desc = nian_army.12.d
	flavor = nian_army.12.f

	duration = 3
	
	cooldown = { months = normal_modifier_time }

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			weight = {
				base = 0.1
				modifier = {
					turmoil > 0.1
					add = 1
				}
				modifier = {
					turmoil > 0.2
					add = 1
				}
				modifier = {
					turmoil > 0.3
					add = 1
				}
				modifier = {
					turmoil > 0.4
					add = 1
				}
				modifier = {
					turmoil > 0.5
					add = 1
				}
				modifier = {
					turmoil > 0.6
					add = 1
				}
				modifier = {
					turmoil > 0.7
					add = 1
				}
				modifier = {
					turmoil > 0.8
					add = 1
				}
				modifier = {
					turmoil > 0.9
					add = 1
				}
			}
			save_scope_as = state_scope
		}
	}

	option = { # 연좌
		name = nian_army.11.a
		default_option = yes
		scope:state_scope = {
			add_radicals_in_state = {
				value = medium_radicals
			}
		}
		custom_description = {
			text = nian_army_drift
			value = -10
	        change_variable = {
	            name = nian_army_progress_var
	            add = -10
	        }
		}
	}
	option = { # 넘어가기
		name = nian_army.12.b
		custom_description = {
			text = nian_army_drift
			value = 10
	        change_variable = {
	            name = nian_army_progress_var
	            add = 10
	        }
		}
	}
}

nian_army.14 = {
	type = country_event
	placement = scope:state_scope
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.14.t
	desc = nian_army.14.d
	flavor = nian_army.14.f

	duration = 3
	
	cooldown = { months = normal_modifier_time }

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			weight = {
				base = 0.1
				modifier = {
					turmoil > 0.1
					add = 1
				}
				modifier = {
					turmoil > 0.2
					add = 1
				}
				modifier = {
					turmoil > 0.3
					add = 1
				}
				modifier = {
					turmoil > 0.4
					add = 1
				}
				modifier = {
					turmoil > 0.5
					add = 1
				}
				modifier = {
					turmoil > 0.6
					add = 1
				}
				modifier = {
					turmoil > 0.7
					add = 1
				}
				modifier = {
					turmoil > 0.8
					add = 1
				}
				modifier = {
					turmoil > 0.9
					add = 1
				}
			}
			save_scope_as = state_scope
		}
	}

	option = { # 전략 바꾸기
		name = nian_army.14.a
		default_option = yes
		custom_description = {
			text = nian_army_drift
			value = -5
	        change_variable = {
	            name = nian_army_progress_var
	            add = -5
	        }
		}
		add_modifier = {
			name = niaarm14a # TODO
			months = short_modifier_time
		}
	}
	option = { # 그대로 실행
		name = nian_army.14.b
		custom_description = {
			text = nian_army_drift
			value = -10
	        change_variable = {
	            name = nian_army_progress_var
	            add = -10
	        }
		}
		add_modifier = {
			name = niaarm14b # TODO
			months = short_modifier_time
		}
		scope:state_scope = {
			add_radicals_in_state = {
				value = small_radicals
			}
		}
	}
}

nian_army.15 = {
	type = country_event
	placement = scope:state_scope
	event_image = {
		video = "europenorthamerica_russian_serfs"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.15.t
	desc = nian_army.15.d
	flavor = nian_army.15.f

	duration = 3
	
	cooldown = { months = normal_modifier_time }

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			weight = {
				base = 0.1
				modifier = {
					turmoil > 0.1
					add = 1
				}
				modifier = {
					turmoil > 0.2
					add = 1
				}
				modifier = {
					turmoil > 0.3
					add = 1
				}
				modifier = {
					turmoil > 0.4
					add = 1
				}
				modifier = {
					turmoil > 0.5
					add = 1
				}
				modifier = {
					turmoil > 0.6
					add = 1
				}
				modifier = {
					turmoil > 0.7
					add = 1
				}
				modifier = {
					turmoil > 0.8
					add = 1
				}
				modifier = {
					turmoil > 0.9
					add = 1
				}
			}
			save_scope_as = state_scope
		}
	}

	option = { # 강제 시행
		name = nian_army.15.a
		default_option = yes
		custom_description = {
			text = nian_army_drift
			value = -5
	        change_variable = {
	            name = nian_army_progress_var
	            add = -5
	        }
		}
		scope:state_scope = {
			add_radicals_in_state = {
				value = medium_radicals
			}
			add_modifier = {
				name = niaarm15a
				months = short_modifier_time
			}
		}
	}
	option = { # 보상 후 시행
		name = nian_army.15.b
		custom_description = {
			text = nian_army_drift
			value = -5
	        change_variable = {
	            name = nian_army_progress_var
	            add = -5
	        }
		}
		scope:state_scope = {
			add_modifier = {
				name = niaarm15b
				months = short_modifier_time
			}
		}
	}
	option = { # 안함
		name = nian_army.15.c
		custom_description = {
			text = nian_army_drift
			value = 10
	        change_variable = {
	            name = nian_army_progress_var
	            add = 10
	        }
		}
	}
}

nian_army.16 = {
	type = country_event
	placement = scope:state_scope
	event_image = {
		video = "votp_prison"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.16.t
	desc = nian_army.16.d
	flavor = nian_army.16.f

	duration = 3
	
	cooldown = { months = normal_modifier_time }

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			weight = {
				base = 0.1
				modifier = {
					turmoil > 0.1
					add = 1
				}
				modifier = {
					turmoil > 0.2
					add = 1
				}
				modifier = {
					turmoil > 0.3
					add = 1
				}
				modifier = {
					turmoil > 0.4
					add = 1
				}
				modifier = {
					turmoil > 0.5
					add = 1
				}
				modifier = {
					turmoil > 0.6
					add = 1
				}
				modifier = {
					turmoil > 0.7
					add = 1
				}
				modifier = {
					turmoil > 0.8
					add = 1
				}
				modifier = {
					turmoil > 0.9
					add = 1
				}
			}
			save_scope_as = state_scope
		}
	}

	option = { # 처형
		name = nian_army.16.a
		default_option = yes
		scope:state_scope = {
			add_radicals_in_state = {
				value = small_radicals
			}
		}
	}
	option = { # 회유
		name = nian_army.16.b
		custom_description = {
			text = nian_army_drift
			value = 5
	        change_variable = {
	            name = nian_army_progress_var
	            add = 5
	        }
		}
	}
}

nian_army.17 = {
	type = country_event
	placement = scope:state_scope
	event_image = {
		video = "votp_prison"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.17.t
	desc = nian_army.17.d
	flavor = nian_army.17.f

	duration = 3
	
	cooldown = { months = normal_modifier_time }

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			weight = {
				base = 0.1
				modifier = {
					turmoil > 0.1
					add = 1
				}
				modifier = {
					turmoil > 0.2
					add = 1
				}
				modifier = {
					turmoil > 0.3
					add = 1
				}
				modifier = {
					turmoil > 0.4
					add = 1
				}
				modifier = {
					turmoil > 0.5
					add = 1
				}
				modifier = {
					turmoil > 0.6
					add = 1
				}
				modifier = {
					turmoil > 0.7
					add = 1
				}
				modifier = {
					turmoil > 0.8
					add = 1
				}
				modifier = {
					turmoil > 0.9
					add = 1
				}
			}
			save_scope_as = state_scope
		}
	}

	option = { # 처형
		name = nian_army.17.a
		default_option = yes
		scope:state_scope = {
			add_radicals_in_state = {
				value = small_radicals
			}
		}
	}
	option = { # 봐줌
		name = nian_army.17.b
		custom_description = {
			text = nian_army_drift
			value = 5
	        change_variable = {
	            name = nian_army_progress_var
	            add = 5
	        }
		}
	}
}

nian_army.18 = {
	type = country_event
	placement = scope:state_scope
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.18.t
	desc = nian_army.18.d
	flavor = nian_army.18.f

	duration = 3
	
	cooldown = { months = normal_modifier_time }

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			weight = {
				base = 0.1
				modifier = {
					turmoil > 0.1
					add = 1
				}
				modifier = {
					turmoil > 0.2
					add = 1
				}
				modifier = {
					turmoil > 0.3
					add = 1
				}
				modifier = {
					turmoil > 0.4
					add = 1
				}
				modifier = {
					turmoil > 0.5
					add = 1
				}
				modifier = {
					turmoil > 0.6
					add = 1
				}
				modifier = {
					turmoil > 0.7
					add = 1
				}
				modifier = {
					turmoil > 0.8
					add = 1
				}
				modifier = {
					turmoil > 0.9
					add = 1
				}
			}
			save_scope_as = state_scope
		}
	}

	option = { # 소탕
		name = nian_army.18.a
		default_option = yes
		custom_description = {
			text = nian_army_drift
			value = 5
	        change_variable = {
	            name = nian_army_progress_var
	            add = 5
	        }
		}
		add_modifier = {
			name = niaarm18a
			months = short_modifier_time
		}
	}
	option = { # 방어 굳히기
		name = nian_army.18.b
		custom_description = {
			text = nian_army_drift
			value = 10
	        change_variable = {
	            name = nian_army_progress_var
	            add = 10
	        }
		}
		add_modifier = {
			name = niaarm18b
			months = short_modifier_time
		}
	}
}

nian_army.19 = {
	type = country_event
	placement = scope:state_scope
	event_image = {
		video = "votp_prison"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = nian_army.19.t
	desc = nian_army.19.d
	flavor = nian_army.19.f

	duration = 3
	
	cooldown = { months = normal_modifier_time }

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_china_proper = yes
				region = sr:region_north_china
			}
			weight = {
				base = 0.1
				modifier = {
					turmoil > 0.1
					add = 1
				}
				modifier = {
					turmoil > 0.2
					add = 1
				}
				modifier = {
					turmoil > 0.3
					add = 1
				}
				modifier = {
					turmoil > 0.4
					add = 1
				}
				modifier = {
					turmoil > 0.5
					add = 1
				}
				modifier = {
					turmoil > 0.6
					add = 1
				}
				modifier = {
					turmoil > 0.7
					add = 1
				}
				modifier = {
					turmoil > 0.8
					add = 1
				}
				modifier = {
					turmoil > 0.9
					add = 1
				}
			}
			save_scope_as = state_scope
		}
	}

	option = { # 공개 처형
		name = nian_army.19.a
		default_option = yes
		scope:state_scope = {
			add_radicals_in_state = {
				value = small_radicals
			}
		}
		custom_description = {
			text = nian_army_drift
			value = -10
	        change_variable = {
	            name = nian_army_progress_var
	            add = -10
	        }
		}
	}
	option = { # 비밀 처형
		name = nian_army.19.b
		custom_description = {
			text = nian_army_drift
			value = -5
	        change_variable = {
	            name = nian_army_progress_var
	            add = -5
	        }
		}
	}
}