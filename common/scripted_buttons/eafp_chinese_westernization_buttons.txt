attempt_to_establish_a_military_academy_button = {
	name = "attempt_to_establish_a_military_academy_button"
	desc = "attempt_to_establish_a_military_academy_button_desc"

	visible = { always = yes }
	
	possible = {
		NOT = { has_journal_entry = je_chi_military_academy }
		NOT = { has_modifier = chiwes140a }
		custom_tooltip = {
			text = chi_military_academy_not_established_tt
			NOT = { 
				has_variable = chi_military_academy_established
				var:chi_military_academy_established >= 3
			}
		}
	}

	effect = {
		add_journal_entry = {
			type = je_chi_military_academy
		}
	}

	ai_chance = {
		base = 0
		modifier = {
			trigger = { 
				weekly_net_fixed_income > money_amount_multiplier_small
			}
			add = 10
		}
		modifier = {
			trigger = { 
				weekly_net_fixed_income > money_amount_multiplier_medium
				gold_reserves > 0
			}
			add = 10
		}
		modifier = {
			trigger = {
				OR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
			add = -1000
		}		
	}
}

attempt_to_establish_a_naval_academy_button = {
	name = "attempt_to_establish_a_naval_academy_button"
	desc = "attempt_to_establish_a_naval_academy_button_desc"

	visible = { always = yes }
	
	possible = {
		NOT = { has_journal_entry = je_chi_naval_academy }
		NOT = { has_modifier = chiwes240a }
		custom_tooltip = {
			text = chi_naval_academy_not_established_tt
			NOT = {
				has_variable = chi_naval_academy_established
			}
		}
	}

	effect = {
		add_journal_entry = {
			type = je_chi_naval_academy
		}
	}

	ai_chance = {
		base = 0
		modifier = {
			trigger = { 
				weekly_net_fixed_income > money_amount_multiplier_small
			}
			add = 10
		}
		modifier = {
			trigger = { 
				weekly_net_fixed_income > money_amount_multiplier_medium
				gold_reserves > 0
			}
			add = 10
		}
		modifier = {
			trigger = {
				OR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
			add = -1000
		}		
	}
}

establish_tongwenguan = {
	name = "establish_tongwenguan_button"
	desc = "establish_tongwenguan_button_desc"

	visible = {
		NOT = { has_variable = chi_tongwenguan }
	}

	possible = {
		always = yes
	}

	effect = {
		trigger_event = chinese_westernization.401
		show_as_tooltip = {
			remove_modifier = center_of_the_world
			add_modifier = {
				name = center_of_the_world
				multiplier = 0.5
			}
		}
		hidden_effect = {
			set_variable = chi_tongwenguan
		}
	}

	ai_chance = {
		base = 1000
	}
}

establish_taching_government_bank = {
	name = "establish_taching_government_bank_button"
	desc = "establish_taching_government_bank_button_desc"

	visible = {
		NOT = { has_variable = chi_central_bank }
	}

	possible = {
		has_technology_researched = central_banking
	}

	effect = {
		trigger_event = chinese_westernization.402
		show_as_tooltip = {
			chi_mint_centralization_progress = yes
		}
		hidden_effect = {
			set_variable = chi_central_bank
		}
	}

	ai_chance = {
		base = 1000
	}
}