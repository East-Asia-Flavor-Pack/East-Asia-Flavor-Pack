namespace = chinese_westernization

#################### 중국 서구화 시작 ####################
chinese_westernization.1 = {
	type = country_event
	placement = root

	title = chinese_westernization.1.t
	desc = chinese_westernization.1.d
	flavor = chinese_westernization.1.f
	
	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_journal_entry = je_chinese_westernization }
		# chi_flavor.3 터지고 5~7년 뒤 시작
		# 또는 적당히 시간 지난 다음에 하던가 - TODO
	}

	immediate = {
		
	}

	option = {
		name = chinese_westernization.1.a
		default_option = yes
		add_journal_entry = { type = je_chinese_westernization }
		hidden_effect = {
			trigger_event = { id = chinese_westernization.401 months = 4 }
		}
		ai_chance = {
			base = 1
		}
	}
}

#################### 육군 ####################

chinese_westernization.199 = { # 육군의 완전한 현대화
	type = country_event
	placement = root

	title = chinese_westernization.199.t
	desc = chinese_westernization.199.d
	flavor = chinese_westernization.199.f
	
	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_variable = chi_first_railroad }
		any_scope_state = {
			has_building = building_railway
		}
	}

	immediate = {
	}

	option = {
		name = chinese_westernization.199.a
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

#################### 해군 ####################



#################### 산업 ####################

chinese_westernization.301 = { # 최초의 철도
	type = country_event
	placement = scope:first_railroad_state

	title = chinese_westernization.301.t
	desc = chinese_westernization.301.d
	flavor = chinese_westernization.301.f
	
	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		this = c:CHI
		NOT = { has_variable = chi_first_railroad }
		any_scope_building = {
			is_building_type = building_railway
			is_under_construction = no
		}
	}

	immediate = {
		set_variable = chi_first_railroad
		random_scope_building = {
			limit = {
				is_building_type = building_railway
				is_under_construction = no
			}
			state = { save_scope_as = first_railroad_state }
			owner = { save_scope_as = chi_scope }
		}
		if = {
			limit = { NOT = { has_variable = chiwes302 } }
			set_variable = chiwes302
		}
	}

	option = {
		name = chinese_westernization.301.a
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.302 = { # 철도 공포
	type = country_event
	placement = root

	title = chinese_westernization.302.t
	desc = chinese_westernization.302.d
	flavor = chinese_westernization.302.f
	
	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		this = c:CHI
		NOT = { has_variable = chiwes302 }
		any_scope_building = {
			is_building_type = building_railway
			is_under_construction = yes
		}
	}

	immediate = {
		set_variable = chiwes302
		random_scope_building = {
			limit = {
				is_building_type = building_railway
				is_under_construction = yes
			}
			state = { save_scope_as = first_railroad_state }
			owner = { save_scope_as = chi_scope }
		}
	}

	option = {
		name = chinese_westernization.302.a
		default_option = yes
		# TODO - 철도 건설 못 하게 막기
		ai_chance = {
			base = 0.8
		}
	}

	option = {
		name = chinese_westernization.302.b
		add_modifier = {
			name = chiwes302b
			is_decaying = yes
			years = 3
		}
		ai_chance = {
			base = 0.2
		}
	}
}

# Kiangnan Arsenal 장난조선소 설립

#################### 정부 개혁 ####################

chinese_westernization.401 = { # 총리아문의 설립
	type = country_event
	placement = root

	title = chinese_westernization.401.t
	desc = chinese_westernization.401.d
	
	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	option = {
		name = chinese_westernization.401.a
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

#################### 국제적 위상 ####################

