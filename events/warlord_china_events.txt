namespace = warlord_china_events

warlord_china_events.1 = { # (도시 이름) 봉기
	type = country_event
	placement = scope:revolt_state

	title = warlord_china_events.1.t
	desc = warlord_china_events.1.d
	flavor = warlord_china_events.1.f

	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	trigger = {
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		create_character = {
			culture = cu:han
			interest_group = ig_landowners
			save_scope_as = governor
			age = { 40 60 } 
			on_created = {
				place_character_in_void = 10000
				set_character_busy_and_immortal = yes
			}
		}
		add_journal_entry = { type = je_xinhai_revolution }
		ordered_scope_state = {
			limit = {
				OR = {
					region = sr:region_north_china
					region = sr:region_south_china
				}
				NOT = { THIS = c:CHI.capital }
			}
			order_by = radical_fraction
			save_scope_as = revolt_state
		}
		create_country = {
			tag = ROC
			origin = this
			state = scope:revolt_state
			on_created = {
				set_variable = revolutionary_prov_gov_var
				# 법들
				activate_law = law_type:law_professional_army
				if = {
					limit = { has_law = law_type:law_hereditary_bureaucrats }
					activate_law = law_type:law_appointed_bureaucrats
				}
				if = {
					limit = { has_law = law_type:law_child_labor_allowed }
					activate_law = law_type:law_restricted_child_labor
				}
				if = {
					limit = { has_law = law_type:law_state_religion }
					activate_law = law_type:law_freedom_of_conscience
				}
				activate_law = law_type:law_cultural_exclusion
				activate_law = law_type:law_wealth_voting
				activate_law = law_type:law_interventionism
				activate_law = law_type:law_right_of_assembly
				activate_law = law_type:law_presidential_republic
				if = {
					limit = { has_law = law_type:law_serfdom }
					activate_law = law_type:law_tenant_farmers
				}
				if = {
					limit = { has_law = law_type:law_local_police }
					activate_law = law_type:law_dedicated_police
				}
				if = {
					limit = {
						OR = {
							has_law = law_type:law_no_womens_rights
							has_law = law_type:law_women_own_property
						}
					}
					activate_law = law_type:law_women_in_the_workplace
				}
				activate_law = law_type:law_slavery_banned
				if = {
					limit = { has_law = law_type:law_land_based_taxation }
					activate_law = law_type:law_per_capita_based_taxation
				}

				# 각종 변동치
				every_interest_group = {
					limit = {
						OR = {
							is_interest_group_type = ig_intelligentsia
							is_interest_group_type = ig_armed_forces
							is_interest_group_type = ig_rural_folk
						}
					}
					add_modifier = {
						name = xinhai_revolution_ig_modifier
						months = long_modifier_time
					}
				}
				add_modifier = {
					name = xinhai_revolution_army_modifier
					months = normal_modifier_time
					is_decaying = yes
				}
				add_modifier = {
					name = xinhai_revolution_army_modifier_short
					months = 13
					is_decaying = yes
				}
				add_modifier = {
					name = xinhai_revolution_abolish_old_regime_modifier
					months = long_modifier_time
					is_decaying = yes
				}

				# 신해 혁명 외교 행동
				create_diplomatic_play = {
					name = xinhai_revolution
					target_country = c:CHI
					type = dp_xinhai_revolution
				}
				hidden_effect = {
					change_infamy = -500
				}
				add_journal_entry = { type = je_xinhai_revolution_kmt }
				trigger_event = { id = warlord_china_events.1001 days = 2 }
			}
		}
		random_diplomatic_play = {
			limit = {
				initiator = c:ROC
				target = c:CHI
			}
			add_escalation = 40
			add_diplomatic_play_war_support = { target = c:ROC value = 100 }
			add_diplomatic_play_war_support = { target = c:CHI value = 100 }
		}
		add_modifier = {
			name = xinhai_revolution_republican_propaganda
			months = long_modifier_time
			is_decaying = yes
		}
		add_modifier = {
			name = xinhai_revolution_shock_of_the_revolution
			months = 13
			is_decaying = yes
		}
		# 군부 지도자를 권위주의로
		if = {
			limit = { any_scope_character = { has_template = chi_general_yuan_shikai } }
			random_scope_character = {
				limit = { has_template = chi_general_yuan_shikai }
				set_ideology = ideology:ideology_authoritarian
				set_as_interest_group_leader = yes
				set_variable = YSK_var
				set_character_busy_and_immortal = yes
			}
		}
		else_if = {
			limit = {
				game_date >= 1885
				game_date <= 1920
			}
			create_character = {
				template = chi_general_yuan_shikai
				ideology = ideology:ideology_authoritarian
				ig_leader = yes
				
			}
			random_scope_character = {
				limit = { has_template = chi_general_yuan_shikai }
				set_variable = YSK_var
				set_character_busy_and_immortal = yes
			}
		}
		else = {
			create_character = {
				culture = cu:han
				female = no
				ideology = ideology_authoritarian
				commander_rank = default
				interest_group = ig_armed_forces
				age = { 40 60 }
				traits = {
					ambitious
					persistent
				}
				on_created = {
					set_variable = YSK_var
					set_character_busy_and_immortal = yes
				}
			}

		}
		if = {
			limit = { any_scope_character = { has_template = chi_general_yuan_shikai } }
			set_ideology = ideology:ideology_authoritarian
		}
		trigger_event = {
			id = warlord_china_events.2
			days = 15
			popup = yes
		}
	}

	option = {
		name = warlord_china_events.1.a
		default_option = yes

		ai_chance = {
			base = 100
		}
	}

	after = {
		scope:governor = {
			kill_character = { hidden = yes }
		}
	}
}

warlord_china_events.1001 = { # 쑨원 영입용 이벤트
	type = country_event
	hidden = yes

	immediate = {
		# 지도자 결정
		if = {
			limit = {
				game_date > 1888.1.1
				game_date < 1925.1.1
			}
			# 쑨원을 지도자로
			if = {
				limit = {
					NOR = {
						any_character = {
							has_template = chi_sun_character_template
						}
						any_character_in_exile_pool = {
							has_template = chi_sun_character_template
						}
					}
				}
				create_character = {
					template = chi_sun_character_template
					on_created = {
						set_character_as_ruler = yes
						add_character_role = politician
						set_variable = sun_yat_sen_var
						set_global_variable = sun_yat_sen_spawn
						set_character_busy_and_immortal = yes
					}
				}
			}
			else_if = {
				limit = {
					any_character = {
						owner = c:CHI
						has_template = chi_sun_character_template
					}
				}
				random_character = {
					limit = {
						owner = c:CHI
						has_template = chi_sun_character_template
					}
					transfer_character = c:ROC
					set_character_as_ruler = yes
					add_character_role = politician
					set_character_busy_and_immortal = yes
				}
			}	
			else_if = {
				limit = {
					any_character_in_exile_pool = {
						has_template = chi_sun_character_template
					}
				}
				random_character_in_exile_pool = {
					limit = {
						has_template = chi_sun_character_template
					}
					transfer_character = c:ROC
					set_character_as_ruler = yes
					add_character_role = politician
					set_character_busy_and_immortal = yes
				}
			}
		}
		else = {
			# 쑨원 Mk.2
			create_character = {
				age = { 30 50 }
				religion = rel:protestant
				ideology = ideology_republican_leader
				interest_group = ig_intelligentsia
				ruler = yes
				ig_leader = yes
				traits = {
					ambitious
					persistent
					inspirational_orator
				}
				on_created = {
					add_character_role = politician
					set_character_busy_and_immortal = yes
				}
			}
		}
	}
}

warlord_china_events.2 = { # 혁명 전파
	type = country_event
	placement = root

	title = warlord_china_events.2.t
	desc = warlord_china_events.2.d
	# flavor = warlord_china_events.2.f

	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	trigger = {
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		while = {
			count = 10
			c:ROC = {		
				ordered_neighbouring_state = {
					limit = {
						owner = c:CHI
						OR = {
							region = sr:region_north_china
							region = sr:region_south_china
						}
						NOT = { THIS = c:CHI.capital }
					}
					order_by = radical_fraction
					set_state_owner = c:ROC
					set_state_type = incorporated
				}
			}
		}
		trigger_event = {
			id = warlord_china_events.4
			days = 15
			popup = yes
		}
	}

	option = {
		name = warlord_china_events.2.a
		default_option = yes

		ai_chance = {
			base = 100
		}
	}
}

warlord_china_events.3 = { # 더 혁명 전파, 안씀
	type = country_event
	placement = root

	title = warlord_china_events.3.t
	desc = warlord_china_events.3.d
	flavor = warlord_china_events.3.f

	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	trigger = {
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		while = {
			count = 5
			c:ROC = {		
				ordered_neighbouring_state = {
					limit = {
						owner = c:CHI
						OR = {
							region = sr:region_north_china
							region = sr:region_south_china
						}
						NOT = { THIS = c:CHI.capital }
					}
					order_by = radical_fraction
					set_state_owner = c:ROC
					set_state_type = incorporated
				}
			}
		}
		trigger_event = {
			id = warlord_china_events.4
			days = 15
			popup = yes
		}
	}

	option = {
		name = warlord_china_events.3.a
		default_option = yes

		ai_chance = {
			base = 100
		}
	}
}

warlord_china_events.4 = { # 몽골 위구르 종속국 탈주 (있으면)
	type = country_event
	placement = root

	title = warlord_china_events.4.t
	desc = warlord_china_events.4.d

	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	trigger = {
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		every_subject_or_below = {
			if = {
				limit = {
					is_subject_type = subject_type_military_headquarters_china
					NOT = {
						any_scope_state = {
							has_modifier = manchurian_containment
						}
					}
				}
				make_independent = yes
				warlord_setup_effect = yes
			}
			else = { make_independent = yes }
		}
		if = {
			limit = { exists = c:MGL }
			s:STATE_HINGGAN = { add_claim = c:MGL }
			s:STATE_ALXA = { add_claim = c:MGL }
		}
		if = {
			limit = { exists = s:STATE_TUVA.region_state:MGL }
			create_country = {
				tag = TUV
				origin = this
				state = s:STATE_TUVA.region_state:MGL
	
				on_created = {
					warlord_setup_effect = yes
				}
			}
			c:TUV = { save_scope_as = scope_TUV }
		}
		trigger_event = {
			id = warlord_china_events.5
			months = 2
			popup = yes
		}
	}

	option = {
		name = warlord_china_events.4.a
		default_option = yes

		ai_chance = {
			base = 100
		}
	}
}

warlord_china_events.5 = { # 군부의 최후통첩 (북양군)
	type = country_event
	placement = root

	title = warlord_china_events.5.t
	desc = warlord_china_events.5.d
	flavor = warlord_china_events.5.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		random_character = {
			limit = { has_variable = YSK_var }
			save_scope_as = YSK_scope
		}
	}

	option = { # 항복
		name = warlord_china_events.5.a

		default_option = yes

		remove_modifier = tianming

		custom_tooltip = {
			text = warlord_china_events.5.tta

			# 위안스카이 ROC로
			scope:YSK_scope = {
				set_home_country = c:ROC
				transfer_character = c:ROC
				set_as_interest_group_leader = yes
			}

			play_as = c:ROC

			c:ROC = {
				annex = c:CHI
				trigger_event = { id = warlord_china_events.21 days = 0 popup = yes }
				set_variable = chinese_central_government
			}
		}

		ai_chance = {
			base = 1
		}
	}

	option = { # 만주로 몽진
		name = warlord_china_events.5.b

		trigger = {
			exists = c:MCH
			c:MCH = {
				is_subject_of = c:CHI
				is_subject_type = subject_type_military_headquarters_china
			}
			c:MCH = {
				any_scope_state = {
					has_modifier = manchurian_containment
				}
			}

		}
		
		remove_modifier = tianming

		custom_tooltip = {
			text = warlord_china_events.5.ttb
			
			# CHI 법 MCH에 복붙
			every_law = {
				limit = {
					c:CHI = { has_law = PREV.type }
				}
				c:MCH = { activate_law = PREV.type }
			}

			# CHI 지도자 MCH로
			ruler = {
				set_home_country = c:MCH
				transfer_character = c:MCH
				set_character_as_ruler = yes
			}

			# 위안스카이 ROC로
			scope:YSK_scope = {
				set_home_country = c:ROC
				transfer_character = c:ROC
				set_as_interest_group_leader = yes
			}

			c:MCH = {
				set_variable = imperial_family_exiled
				every_scope_character = {
					limit = {
						is_ruler = no
					}
					random_list = {
						80 = {
							kill_character = { hidden = yes }
						}
						20 = {}
					}
				}
			}

			play_as = c:MCH

			c:ROC = {
				annex = c:CHI
				trigger_event = { id = warlord_china_events.21 days = 0 popup = yes }
				set_variable = chinese_central_government
			}
		}

		ai_chance = {
			base = 1
		}
	}

	option = { # 결사 항전
		name = warlord_china_events.5.c
		
		default_option = yes

		remove_modifier = tianming

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

warlord_china_events.21 = { # 공화국의 탄생
	type = country_event
	placement = root

	title = warlord_china_events.21.t
	desc = warlord_china_events.21.d
	flavor = warlord_china_events.21.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		set_variable = {
			name = abolishing_monarchy_var
			value = 0
		}
		add_journal_entry = { type = je_abolish_monarchy }
		trigger_event = {
			id = warlord_china_events.22
			days = 15
			popup = yes
		}
		every_scope_state = {
			set_state_type = incorporated
		}
		set_capital = STATE_BEIJING
	}

	option = {
		name = warlord_china_events.21.a
		
		default_option = yes

		ai_chance = {
			base = 1
		}
	}
}

warlord_china_events.22 = { # 타협의 결과
	type = country_event
	placement = root

	title = warlord_china_events.22.t
	desc = warlord_china_events.22.d
	flavor = warlord_china_events.22.f

	duration = 1

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		ruler = { save_scope_as = old_ruler }
		if = {
			limit = { any_character = { has_variable = YSK_var } }
			random_character = {
				limit = { has_variable = YSK_var }
				save_scope_as = new_ruler
				set_character_busy_and_immortal = no
				set_character_as_ruler = yes
			}
		}
		else = {
			create_character = {
				culture = cu:han
				ig_leader = yes
				interest_group = ig_armed_forces
				ideology = ideology_authoritarian
				traits = {
					ambitious
					persistent
				}
				on_created = {
					save_scope_as = new_ruler
					set_character_as_ruler = yes
				}
			}
		}
		trigger_event = {
			id = warlord_china_events.23
			days = 15
			popup = yes
		}
	}

	option = {
		name = warlord_china_events.22.a
		
		add_modifier = {
			name = warchi22
			months = very_long_modifier_time
			is_decaying = yes
		}

		default_option = yes

		ai_chance = {
			base = 1
		}
	}
}

warlord_china_events.23 = { # 타협의 여파
	type = country_event
	placement = root

	title = warlord_china_events.23.t
	desc = warlord_china_events.23.d
	flavor = warlord_china_events.23.f

	duration = 1

	event_image = {
		video = "unspecific_armored_train"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	immediate = {
		set_global_variable = china_shatters
		
		set_variable = chinese_central_government

		remove_variable = revolutionary_prov_gov_var

		# 호남 군벌
		if = {
			limit = { exists = s:STATE_HUNAN.region_state:ROC }
			create_country = {
				tag = HNA
				origin = this
				state = s:STATE_HUNAN.region_state:ROC
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:HNA = { save_scope_as = scope_HNA }
		}
		# 광서 군벌
		if = {
			limit = { exists = s:STATE_GUANGXI.region_state:ROC }
			create_country = {
				tag = GNG
				origin = this
				state = s:STATE_GUANGXI.region_state:ROC
				on_created = {
					# 땅 그지같이 나뉘어서 프로빈스 따로 조정
					if = {
						limit = { exists = c:HNA }
						s:STATE_GUANGXI = {
							set_owner_of_provinces = {
								country = c:HNA
								provinces = { x432FE3 xFF1286 xB0B0E0 x6EB824 x505080 xD8799B x368CDE x9E70F2 x135B0F xF4850E x0359FB xDDB27C x244859 x12B2EF }
							}
						}
					}
					else = {
						s:STATE_GUANGXI = {
							set_owner_of_provinces = {
								country = ROOT
								provinces = { x432FE3 xFF1286 xB0B0E0 x6EB824 x505080 xD8799B x368CDE x9E70F2 x135B0F xF4850E x0359FB xDDB27C x244859 x12B2EF }
							}
						}
					}
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:GNG = { save_scope_as = scope_GNG }
		}
		# 안휘 군벌
		if = {
			limit = { exists = s:STATE_SOUTHERN_ANHUI.region_state:ROC }
			create_country = {
				tag = AHU
				origin = this
				state = s:STATE_SOUTHERN_ANHUI.region_state:ROC

				on_created = {
					# 땅 그지같이 나뉘어서 프로빈스 따로 조정
					if = {
						limit = { exists = s:STATE_NORTHERN_ANHUI.region_state:ROC }
						s:STATE_NORTHERN_ANHUI = {
							set_owner_of_provinces = {
								country = c:AHU
								provinces = { x23849F x942097 xC44EE7 xF5E291 x87DFF6 x9DE44A xFD70D3 x055124 x515101 xD05101 x467DAC x6895C0 }
							}
						}
					}
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:AHU = { save_scope_as = scope_AHU }
		}

		#if = {
		#	limit = { exists = s:STATE_ZHILI.region_state:ROC }
		#	create_country = { #Zhili Clique
		#		tag = ZHI
		#		origin = this
		#		state = s:STATE_ZHILI.region_state:ROC
		#		on_created = {
		#			warlord_setup_effect = yes
		#			set_variable = warlord_state
		#		}
		#	}
		#	c:ZHI = { save_scope_as = scope_ZHI }
		#}
		# 봉천 군벌
		if = {
			limit = { exists = s:STATE_SHENGJING.region_state:ROC }
			create_country = {
				tag = MCH
				origin = this
				state = s:STATE_SHENGJING.region_state:ROC
				on_created = {
					# 땅 그지같이 나뉘어서 프로빈스 따로 조정
					if = {
						limit = { exists = s:STATE_SOUTHERN_MANCHURIA.region_state:ROC }
						s:STATE_SOUTHERN_MANCHURIA = {
							set_owner_of_provinces = {
								country = c:MCH
								provinces = { x08DC34 x292695 x301D5F x385E45 x3F61E8 x5496F2 x54B71E x5D6142 x74C59F x76800C x78B1C2 x8BA6E3 x8CAF49 x912C9D xA05162 xA05180 xA05646 xA107B9 xA495CD xC3FFC1 xC4B939 xCD5324 xD5000E xDF828B xE43B63 xEB92A2 xF471D5 xF956C5 }
							}
						}
					}
					if = {
						limit = { exists = s:STATE_EAFP_BEIJING.region_state:ROC }
						s:STATE_EAFP_BEIJING = {
							set_owner_of_provinces = {
								country = c:MCH
								provinces = { xDBA5F1 x666827 xC2EAB6 xCB1B7A x879FAD x367825 x45139C xCAE219 xF5B726 x5DEC3D x205BDC x35B5D1 x601436 xAD1C65 x24EFE1 xFD0842 x771A9C x6EA4B4 x2F0832 x123862 xCE9058 x4F7D66 x8B4B0F x6018AE x3650A5 x6BFF9D xF5F399 x4E8F6B x55F9B4 xCE4FAC xFF1F93 }
							}
						}
					}
					if = {
						limit = { exists = s:STATE_NORTHERN_MANCHURIA.region_state:ROC }
						s:STATE_NORTHERN_MANCHURIA = {
							set_owner_of_provinces = {
								country = c:MCH
								provinces = { x9EE58F xD9928F x70A32C xDD9465 x6E3E01 xEB4991 x8872E0 x6BEA77 x87B373 x67F6E8 x256526 x09B0AA x84E33B x0356D6 x02055B x34694E x5AC7BE x815EBF xA1CF50 x6FA3BE xABB756 }
							}
						}
					}
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:MCH = { save_scope_as = scope_MCH }
		}
		# 산서 군벌
		if = {
			limit = { exists = s:STATE_SHANXI.region_state:ROC }
			create_country = {
				tag = SHN
				origin = this
				state = s:STATE_SHANXI.region_state:ROC

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:SHN = { save_scope_as = scope_SHN }
		}
		# 신강 군벌
		if = {
			limit = { exists = s:STATE_TIANSHAN.region_state:ROC }
			create_country = {
				tag = XIN
				origin = this
				state = s:STATE_TIANSHAN.region_state:ROC

				on_created = {
					if = {
						limit = { exists = s:STATE_DZUNGARIA.region_state:ROC }
						s:STATE_DZUNGARIA.region_state:ROC = {
							set_state_owner = c:XIN
						}
					}
					if = {
						limit = { exists = s:STATE_JETISY.region_state:ROC }
						s:STATE_JETISY.region_state:ROC = {
							set_state_owner = c:XIN
						}
					}
					if = {
						limit = { exists = s:STATE_KIRGHIZIA.region_state:ROC }
						s:STATE_KIRGHIZIA.region_state:ROC = {
							set_state_owner = c:XIN
						}
					}
					add_primary_culture = cu:han
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:XIN = { save_scope_as = scope_XIN }
		}
		# 운남 군벌
		if = {
			limit = { exists = s:STATE_YUNNAN.region_state:ROC }
			create_country = {
				tag = YUN
				origin = this
				state = s:STATE_YUNNAN.region_state:ROC

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:YUN = { save_scope_as = scope_YUN }
		}
		# 귀주 군벌
		if = {
			limit = { exists = s:STATE_GUIZHOU.region_state:ROC }
			create_country = {
				tag = GUI
				origin = this
				state = s:STATE_GUIZHOU.region_state:ROC
		
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:GUI = { save_scope_as = scope_GUI }
		}
		# 광동 군벌
		if = {
			limit = { exists = s:STATE_GUANGDONG.region_state:ROC }
			create_country = {
				tag = YUE
				origin = this
				state = s:STATE_GUANGDONG.region_state:ROC

				on_created = {
					if = {
						limit = { exists = s:STATE_SHAOZHOU.region_state:ROC }
						s:STATE_SHAOZHOU.region_state:ROC = {
							set_state_owner = c:YUE
						}
					}
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:YUE = { save_scope_as = scope_YUE }
		}
		else_if = {
			limit = { exists = s:STATE_SHAOZHOU.region_state:ROC }
			create_country = {
				tag = YUE
				origin = this
				state = s:STATE_SHAOZHOU.region_state:ROC

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:YUE = { save_scope_as = scope_YUE }
		}

		if = {
			limit = { exists = s:STATE_SICHUAN.region_state:ROC }
			create_country = {
				tag = SIH
				origin = this
				state = s:STATE_SICHUAN.region_state:ROC
		
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:SIH = { save_scope_as = scope_SIH }
		}

		#if = {
		#	limit = { exists = s:STATE_SHANDONG.region_state:ROC }
		#	create_country = {
		#		tag = SHA
		#		origin = this
		#		state = s:STATE_SHANDONG.region_state:ROC
		#
		#		on_created = {
		#			warlord_setup_effect = yes
		#			set_variable = warlord_state
		#		}
		#	}
		#	c:SHA = { save_scope_as = scope_SHA }
		#}
		# 서북 군벌
		if = {
			limit = { exists = s:STATE_NINGXIA.region_state:ROC }
			create_country = {
				tag = XIB
				origin = this
				state = s:STATE_NINGXIA.region_state:ROC

				on_created = {
					if = {
						limit = { exists = s:STATE_GANSU.region_state:ROC }
						s:STATE_GANSU.region_state:ROC = {
							set_state_owner = c:XIB
						}
					}
					if = {
						limit = { exists = s:STATE_ALXA.region_state:ROC }
						s:STATE_ALXA.region_state:ROC = {
							set_state_owner = c:XIB
						}
					}
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:XIB = { save_scope_as = scope_XIB }
		}
		else_if = {
			limit = { exists = s:STATE_GANSU.region_state:ROC }
			create_country = {
				tag = YUE
				origin = this
				state = s:STATE_GANSU.region_state:ROC

				on_created = {
					if = {
						limit = { exists = s:STATE_ALXA.region_state:ROC }
						s:STATE_ALXA.region_state:ROC = {
							set_state_owner = c:XIB
						}
					}
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:XIB = { save_scope_as = scope_XIB }
		}
		# 새로 추가한 것들
		# 복건 군벌
		if = {
			limit = { exists = s:STATE_FUJIAN.region_state:ROC }
			create_country = {
				tag = FJN
				origin = this
				state = s:STATE_FUJIAN.region_state:ROC
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:FJN = { save_scope_as = scope_FJN }
		}
		# 강서 군벌
		if = {
			limit = { exists = s:STATE_JIANGXI.region_state:ROC }
			create_country = {
				tag = JGX
				origin = this
				state = s:STATE_JIANGXI.region_state:ROC
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:JGX = { save_scope_as = scope_JGX }
		}
		# 강소 군벌
		if = {
			limit = { exists = s:STATE_NANJING.region_state:ROC }
			create_country = {
				tag = JGS
				origin = this
				state = s:STATE_NANJING.region_state:ROC
				on_created = {
					if = {
						limit = { exists = s:STATE_JIANGSU.region_state:ROC }
						s:STATE_JIANGSU.region_state:ROC = {
							set_state_owner = c:JGS
						}
					}
					if = {
						limit = { exists = s:STATE_SUZHOU.region_state:ROC }
						s:STATE_SUZHOU.region_state:ROC = {
							set_state_owner = c:JGS
						}
					}
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:JGS = { save_scope_as = scope_JGS }
		}
		else_if = {
			limit = { exists = s:STATE_JIANGSU.region_state:ROC }
			create_country = {
				tag = JGS
				origin = this
				state = s:STATE_JIANGSU.region_state:ROC

				on_created = {
					if = {
						limit = { exists = s:STATE_SUZHOU.region_state:ROC }
						s:STATE_SUZHOU.region_state:ROC = {
							set_state_owner = c:JGS
						}
					}
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:JGS = { save_scope_as = scope_JGS }
		}
		else_if = {
			limit = { exists = s:STATE_SUZHOU.region_state:ROC }
			create_country = {
				tag = JGS
				origin = this
				state = s:STATE_SUZHOU.region_state:ROC

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:JGS = { save_scope_as = scope_JGS }
		}

		every_subject_or_below = {
			make_independent = yes
		}
	}

	option = {
		name = warlord_china_events.23.a
		
		default_option = yes

		ai_chance = {
			base = 1
		}
	}
}

warlord_china_events.100 = { #Split china up into warlord states
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.100.t
	desc = warlord_china_events.100.d
	flavor = warlord_china_events.100.f

	event_image = {
		video = "unspecific_armored_train"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	trigger = {
		exists = c:CHI
		this = c:CHI
		NOT = { has_global_variable = china_shatters }
	}

	immediate = {
		set_global_variable = china_shatters
		
		set_variable = chinese_central_government
		
		if = {
			limit = { exists = s:STATE_HUNAN.region_state:CHI }
			create_country = {
				tag = HNA
				origin = this
				state = s:STATE_HUNAN.region_state:CHI
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:HNA = { save_scope_as = scope_HNA }
		}
		if = {
			limit = { exists = s:STATE_GUANGXI.region_state:CHI }
			create_country = { #Guangxi
				tag = GNG
				origin = this
				state = s:STATE_GUANGXI.region_state:CHI
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:GNG = { save_scope_as = scope_GNG }
		}

		if = {
			limit = { exists = s:STATE_SOUTHERN_ANHUI.region_state:CHI }
			create_country = { #Anhui Clique
				tag = AHU
				origin = this
				state = s:STATE_SOUTHERN_ANHUI.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:AHU = { save_scope_as = scope_AHU }
		}

		if = {
			limit = { exists = s:STATE_ZHILI.region_state:CHI }
			create_country = { #Zhili Clique
				tag = ZHI
				origin = this
				state = s:STATE_ZHILI.region_state:CHI
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:ZHI = { save_scope_as = scope_ZHI }
		}

		if = {
			limit = { exists = s:STATE_SOUTHERN_MANCHURIA.region_state:CHI }
			create_country = { #Fengtian Clique
				tag = MCH
				origin = this
				state = s:STATE_SOUTHERN_MANCHURIA.region_state:CHI
				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:MCH = { save_scope_as = scope_MCH }
		}

		if = {
			limit = { exists = s:STATE_SHANXI.region_state:CHI }
			create_country = {  #Shanxi
				tag = SHN
				origin = this
				state = s:STATE_SHANXI.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:SHN = { save_scope_as = scope_SHN }
		}

		if = {
			limit = { exists = s:STATE_TIANSHAN.region_state:CHI }
			create_country = {  #Xinjiang Clique
				tag = XIN
				origin = this
				state = s:STATE_TIANSHAN.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:XIN = { save_scope_as = scope_XIN }
		}

		if = {
			limit = { exists = s:STATE_YUNNAN.region_state:CHI }
			create_country = {  #Yunnan
				tag = YUN
				origin = this
				state = s:STATE_YUNNAN.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:YUN = { save_scope_as = scope_YUN }
		}

		if = {
			limit = { exists = s:STATE_GUIZHOU.region_state:CHI }
			create_country = { #Guizhou
				tag = GUI
				origin = this
				state = s:STATE_GUIZHOU.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:GUI = { save_scope_as = scope_GUI }
		}

		if = {
			limit = { exists = s:STATE_GUANGDONG.region_state:CHI }
			create_country = { #Guangdong
				tag = YUE
				origin = this
				state = s:STATE_GUANGDONG.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:YUE = { save_scope_as = scope_YUE }
		}

		if = {
			limit = { exists = s:STATE_SICHUAN.region_state:CHI }
			create_country = {
				tag = SIH
				origin = this
				state = s:STATE_SICHUAN.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:SIH = { save_scope_as = scope_SIH }
		}

		if = {
			limit = { exists = s:STATE_SHANDONG.region_state:CHI }
			create_country = {
				tag = SHA
				origin = this
				state = s:STATE_SHANDONG.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:SHA = { save_scope_as = scope_SHA }
		}

		if = {
			limit = { exists = s:STATE_NINGXIA.region_state:CHI }
			create_country = {
				tag = XIB
				origin = this
				state = s:STATE_NINGXIA.region_state:CHI

				on_created = {
					warlord_setup_effect = yes
					set_variable = warlord_state
				}
			}
			c:XIB = { save_scope_as = scope_XIB }
		}

		#if = {
		#	limit = { exists = s:STATE_ULIASTAI.region_state:CHI }
		#	create_country = {
		#		tag = MGL
		#		origin = this
		#		state = s:STATE_ULIASTAI.region_state:CHI

		#		on_created = {
		#			warlord_setup_effect = yes
		#		}
		#	}
		#	c:MGL = { save_scope_as = scope_MGL }
		#}

		#if = {
		#	limit = { exists = s:STATE_TUVA.region_state:CHI }
		#	create_country = {
		#		tag = TUV
		#		origin = this
		#		state = s:STATE_TUVA.region_state:CHI

		#		on_created = {
		#			warlord_setup_effect = yes
		#		}
		#	}
		#	c:TUV = { save_scope_as = scope_TUV }
		#}

		every_subject_or_below = {
			make_independent = yes
		}

		random_country = {
			limit = {
				has_variable = warlord_state
				NOR = {
					has_variable = var_warlord_two
					has_variable = var_warlord_three
					has_variable = var_warlord_four 
				}
			}
			save_scope_as = scope_random_warlord_one
			set_variable = var_warlord_one
		}

		random_country = {
			limit = {
				has_variable = warlord_state
				NOR = {
					has_variable = var_warlord_one
					has_variable = var_warlord_three
					has_variable = var_warlord_four
				}
			}
			save_scope_as = scope_random_warlord_two
			set_variable = var_warlord_two
		}

		random_country = {
			limit = {
				has_variable = warlord_state
				NOR = {
					has_variable = var_warlord_one
					has_variable = var_warlord_two
					has_variable = var_warlord_four
				}
			}
			save_scope_as = scope_random_warlord_three
			set_variable = var_warlord_three
		}

		random_country = {
			limit = {
				has_variable = warlord_state
				NOR = {
					has_variable = var_warlord_one
					has_variable = var_warlord_two
					has_variable = var_warlord_three
				}
			}
			save_scope_as = scope_random_warlord_four
			set_variable = var_warlord_four
		}
	}

	option = {
		name = warlord_china_events.100.ab
		trigger = {
			exists = scope:scope_random_warlord_one
			is_player = yes
		}
		custom_tooltip = warlord_china_implosion_tt
		while = {
			limit = {
				any_scope_state = {
					is_capital = no
					any_neighbouring_state = {
						owner = { has_variable = warlord_state }
					}
				}
			}
			random_country = {
				limit = {
					has_variable = warlord_state
					any_neighbouring_state = {
						is_capital = no
						owner = ROOT
					}
				}
				save_scope_as = test_scope
			}
			random_scope_state = {
				limit = {
					is_capital = no
					any_neighbouring_state = {
						owner = scope:test_scope
					}
				}
				set_state_owner = scope:test_scope
			}
			clear_saved_scope = test_scope
		}
		play_as = scope:scope_random_warlord_one
	}

	option = {
		name = warlord_china_events.100.b
		trigger = {
			exists = scope:scope_random_warlord_two
			is_player = yes
		}
		custom_tooltip = warlord_china_implosion_tt
		while = {
			limit = {
				any_scope_state = {
					is_capital = no
					any_neighbouring_state = {
						owner = { has_variable = warlord_state }
					}
				}
			}
			random_country = {
				limit = {
					has_variable = warlord_state
					any_neighbouring_state = {
						is_capital = no
						owner = ROOT
					}
				}
				save_scope_as = test_scope
			}
			random_scope_state = {
				limit = {
					is_capital = no
					any_neighbouring_state = {
						owner = scope:test_scope
					}
				}
				set_state_owner = scope:test_scope
			}
			clear_saved_scope = test_scope
		}
		play_as = scope:scope_random_warlord_two
	}

	option = {
		name = warlord_china_events.100.c
		trigger = {
			exists = scope:scope_random_warlord_three
			is_player = yes
		}
		custom_tooltip = warlord_china_implosion_tt
		while = {
			limit = {
				any_scope_state = {
					is_capital = no
					any_neighbouring_state = {
						owner = { has_variable = warlord_state }
					}
				}
			}
			random_country = {
				limit = {
					has_variable = warlord_state
					any_neighbouring_state = {
						is_capital = no
						owner = ROOT
					}
				}
				save_scope_as = test_scope
			}
			random_scope_state = {
				limit = {
					is_capital = no
					any_neighbouring_state = {
						owner = scope:test_scope
					}
				}
				set_state_owner = scope:test_scope
			}
			clear_saved_scope = test_scope
		}
		play_as = scope:scope_random_warlord_three
	}

	option = {
		name = warlord_china_events.100.aa
		trigger = {
			exists = scope:scope_random_warlord_four
			is_player = yes
		}
		custom_tooltip = warlord_china_implosion_tt
		while = {
			limit = {
				any_scope_state = {
					is_capital = no
					any_neighbouring_state = {
						owner = { has_variable = warlord_state }
					}
				}
			}
			random_country = {
				limit = {
					has_variable = warlord_state
					any_neighbouring_state = {
						is_capital = no
						owner = ROOT
					}
				}
				save_scope_as = test_scope
			}
			random_scope_state = {
				limit = {
					is_capital = no
					any_neighbouring_state = {
						owner = scope:test_scope
					}
				}
				set_state_owner = scope:test_scope
			}
			clear_saved_scope = test_scope
		}
		play_as = scope:scope_random_warlord_four
	}

	option = {
		default_option = yes
		name = warlord_china_events.100.a
		custom_tooltip = warlord_china_implosion_tt
		while = {
			limit = {
				any_scope_state = {
					is_capital = no
					any_neighbouring_state = {
						owner = { has_variable = warlord_state }
					}
				}
			}
			random_country = {
				limit = {
					has_variable = warlord_state
					any_neighbouring_state = {
						is_capital = no
						owner = ROOT
					}
				}
				save_scope_as = test_scope
			}
			random_scope_state = {
				limit = {
					is_capital = no
					any_neighbouring_state = {
						owner = scope:test_scope
					}
				}
				set_state_owner = scope:test_scope
			}
			clear_saved_scope = test_scope
		}
	}
}

warlord_china_events.200 = { #Fragile Unity Victory
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.200.t
	desc = warlord_china_events.200.d
	flavor = warlord_china_events.200.f

	event_image = {
		video = "asia_farmers_market"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	trigger = {
		# Triggered by JE
	}

	immediate = {
		
	}

	option = {
		default_option = yes
		name = warlord_china_events.200.a
		add_modifier = {
			name = modifier_century_of_triumph_politics
			months = long_modifier_time
		}
		add_loyalists = {
			value = large_radicals
		}
	}

	option = {
		name = warlord_china_events.200.b
		add_modifier = {
			name = modifier_century_of_triumph_technology
			months = long_modifier_time
		}
		add_loyalists = {
			value = large_radicals
		}
	}
}



warlord_china_events.110 = { #Prisoner Killing
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.110.t
	desc = warlord_china_events.110.d
	flavor = warlord_china_events.110.f

	event_image = {
		video = "asia_farmers_market"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	trigger = {
		any_scope_character = {
			is_ruler = yes

			has_trait = cruel

		}
		has_government_type = gov_warlord_state
	}

	immediate = {
		random_scope_character = {
			limit = {
				is_ruler = yes

				has_trait = cruel
			}
			save_scope_as = prisoner_killing_warlord
		}

	}

	option = {
		default_option = yes
		name = warlord_china_events.110.a
		capital = {
			add_radicals_in_state = {
				value = 0.5
			}
		}

	}

	option = {
		default_option = yes
		name = warlord_china_events.110.b
		add_modifier = {
			name = modifier_prisoner_murder_covered_up
			months = normal_modifier_time
		}

	}
}

warlord_china_events.111 = { # 부하가 군자금으로 도박해서 날려먹음
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.111.t
	desc = warlord_china_events.111.d
	flavor = warlord_china_events.111.f

	event_image = {
		video = "asia_farmers_market"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	immediate = {
		# 새 인물 만들기 void에

	}

	option = {
		default_option = yes
		name = warlord_china_events.111.a
		# 쳐내기

	}

	option = {
		default_option = yes
		name = warlord_china_events.111.b
		# 돈 더 쥐어주기
	}
}

warlord_china_events.112 = { # 성공
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.112.t
	desc = warlord_china_events.112.d
	flavor = warlord_china_events.112.f

	event_image = {
		video = "asia_farmers_market"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	immediate = {
	}

	option = {
		default_option = yes
		name = warlord_china_events.112.a
		# TODO

	}
}

warlord_china_events.113 = { # 실패
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.113.t
	desc = warlord_china_events.113.d
	flavor = warlord_china_events.113.f

	event_image = {
		video = "asia_farmers_market"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	immediate = {
	}

	option = {
		default_option = yes
		name = warlord_china_events.113.a
		# TODO

	}
}

warlord_china_events.114 = { # 숙영지에서 불꽃놀이 하다가 적에게 위치 들킴
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.114.t
	desc = warlord_china_events.114.d
	flavor = warlord_china_events.114.f

	event_image = {
		video = "asia_farmers_market"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	immediate = {
	}

	option = {
		default_option = yes
		name = warlord_china_events.114.a
		# TODO

	}
}

warlord_china_events.115 = { # 경극단 불러 병사 사기 진작 할까??
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.115.t
	desc = warlord_china_events.115.d
	flavor = warlord_china_events.115.f

	event_image = {
		video = "asia_farmers_market"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	immediate = {
	}

	option = {
		default_option = yes
		name = warlord_china_events.115.a
		# TODO

	}
}

# Yan Xishan Thought
warlord_china_events.301 = {
	type = country_event
	placement = root
	duration = 3

	title = warlord_china_events.301.t
	desc = warlord_china_events.301.d
	flavor = warlord_china_events.301.f



	gui_window = event_window_1char_tabloid
	left_icon = scope:yan_xishan_thinker

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
		has_government_type = gov_warlord_state
		has_law = law_type:law_autocracy
		has_technology_researched = mass_propaganda
		NOT = {
			ruler = {
				interest_group = {
					OR = {
						has_modifier = yan_xishan_thought_mod
						has_modifier = failed_yan_xishan_thought_mod
					}
				}
			}
		}
		NOT = {
			has_modifier = warlord_legitimacy
		}
	}
	immediate = {
		ruler = {
			save_scope_as = yan_xishan_thinker
			interest_group = {
				save_scope_as = yan_xishan_ig
			}
		}
	}
	option = {
		name = warlord_china_events.301.a
		default_option = yes
		random_list = {
			50 = {
				modifier = {
					if = {
						limit = {
							any_scope_state = {
								is_production_method_active = {
									building_type = building_university
									production_method = pm_philosophy_department
								}
							}
						}
					}
					add = 25
				}
				modifier = {
					if = {
						limit = {
							government_legitimacy = 75
						}
					}
					add = 25
				}
				root = {
					add_modifier = {
						name = yan_xishan_thought_mod
					}
				}
			}
			50 = {
				modifier = {
					if = {
						limit = {
							government_legitimacy = 50
						}
					}
					add = 25
				}
				root = {
					add_modifier = {
						name = failed_yan_xishan_thought_mod
						months = normal_modifier_time
					}
				}
			}
		}
	}
	option = {
		name = warlord_china_events.301.b
		add_modifier = {
			name = warlord_legitimacy
			months = normal_modifier_time
		}
	}
}
