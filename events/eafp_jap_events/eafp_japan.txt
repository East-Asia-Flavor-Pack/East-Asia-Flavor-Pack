namespace = eafp_japan
#일본 저널입니다.
#기본적으로 변수명은 일본어 발음입니다.
#다음 분류에 따라 이벤트 번호를 지정했습니다.

# 0000번대 : 시스템 + 막부 정치인 이벤트
# 1000번대 : 플레이버 이벤트
# 2000번대 : 막부 개혁 이벤트 체인
# 3000번대 : 보신전쟁 이벤트 체인
# 4000번대 : 개항 이벤트 체인
# 5000번대 : 메이지유신 이벤트 체인
# 6000번대 : 메이지 헌법 이후 이벤트 체인


#####################################

eafp_japan.1 = { # 막번체제 초기화용
	type = country_event
	placement = root

	title = eafp_japan.1.t
	desc = eafp_japan.1.d
	flavor = eafp_japan.1.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 3

	immediate = {
		je:je_bakuhantaisei_TOHOKU = {
			set_bar_progress = { value = bakuhantaisei_TOHOKU_loyalty_progress_bar_initial_value name = bakuhantaisei_TOHOKU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_TOHOKU_independency_progress_bar_initial_value name = bakuhantaisei_TOHOKU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_TOHOKU_goryo_progress_bar_initial_value name = bakuhantaisei_TOHOKU_goryo_progress_bar }
		}

		je:je_bakuhantaisei_KANTO = {
			set_bar_progress = { value = bakuhantaisei_KANTO_loyalty_progress_bar_initial_value name = bakuhantaisei_KANTO_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KANTO_independency_progress_bar_initial_value name = bakuhantaisei_KANTO_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KANTO_goryo_progress_bar_initial_value name = bakuhantaisei_KANTO_goryo_progress_bar }
		}

		je:je_bakuhantaisei_CHUBU = {
			set_bar_progress = { value = bakuhantaisei_CHUBU_loyalty_progress_bar_initial_value name = bakuhantaisei_CHUBU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_CHUBU_independency_progress_bar_initial_value name = bakuhantaisei_CHUBU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_CHUBU_goryo_progress_bar_initial_value name = bakuhantaisei_CHUBU_goryo_progress_bar }
		}

		je:je_bakuhantaisei_KANSAI = {
			set_bar_progress = { value = bakuhantaisei_KANSAI_loyalty_progress_bar_initial_value name = bakuhantaisei_KANSAI_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KANSAI_independency_progress_bar_initial_value name = bakuhantaisei_KANSAI_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KANSAI_goryo_progress_bar_initial_value name = bakuhantaisei_KANSAI_goryo_progress_bar }
		}

		je:je_bakuhantaisei_KYUSHU = {
			set_bar_progress = { value = bakuhantaisei_KYUSHU_loyalty_progress_bar_initial_value name = bakuhantaisei_KYUSHU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KYUSHU_independency_progress_bar_initial_value name = bakuhantaisei_KYUSHU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KYUSHU_goryo_progress_bar_initial_value name = bakuhantaisei_KYUSHU_goryo_progress_bar }
		}

		je:je_bakuhantaisei_CHUGOKU = {
			set_bar_progress = { value = bakuhantaisei_CHUGOKU_loyalty_progress_bar_initial_value name = bakuhantaisei_CHUGOKU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_CHUGOKU_independency_progress_bar_initial_value name = bakuhantaisei_CHUGOKU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_CHUGOKU_goryo_progress_bar_initial_value name = bakuhantaisei_CHUGOKU_goryo_progress_bar }
		}

		je:je_bakuhantaisei_SHIKOKU = {
			set_bar_progress = { value = bakuhantaisei_SHIKOKU_loyalty_progress_bar_initial_value name = bakuhantaisei_SHIKOKU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_SHIKOKU_independency_progress_bar_initial_value name = bakuhantaisei_SHIKOKU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_SHIKOKU_goryo_progress_bar_initial_value name = bakuhantaisei_SHIKOKU_goryo_progress_bar }
		}

		je_bakuhantaisei_STATE_weekly_pulse = { STATE = TOHOKU }
		je_bakuhantaisei_STATE_weekly_pulse = { STATE = KANTO }
		je_bakuhantaisei_STATE_weekly_pulse = { STATE = CHUBU }
		je_bakuhantaisei_STATE_weekly_pulse = { STATE = KANSAI }
		je_bakuhantaisei_STATE_weekly_pulse = { STATE = KYUSHU }
		je_bakuhantaisei_STATE_weekly_pulse = { STATE = CHUGOKU }
		je_bakuhantaisei_STATE_weekly_pulse = { STATE = SHIKOKU }

		add_journal_entry = {
			type = je_bakuhantaisei
		}
	}

	option = {
		name = eafp_japan.1.a
		default_option = yes
		show_as_tooltip = {
			add_journal_entry = {
				type = je_bakuhantaisei
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

eafp_japan.2 = { # 대로 임명용 이벤트
	type = country_event
	placement = root

	title = eafp_japan.2.t
	desc = eafp_japan.2.d
	flavor = eafp_japan.2.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 1

	immediate = {
		# 기본적으로 파벌 지지 100의 힘 = 기본 인물 정치력 50 5명, 강한 지지 = 기본 인물 정치력 50 2.5명
		set_variable = recruiting_bakufu_politicians
		set_variable = {
			name = hitotsubashiha_invested_influence
			value = 0
		}
		set_variable = {
			name = nankiha_invested_influence
			value = 0
		}
		# 정치인마다 정치력 투자 계산
		every_scope_character = {
			limit = { has_variable = eafp_bakuhantaisei_politician_influence }
			if = {
				limit = { is_hitotsubashiha = yes }
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
				ROOT = {
					change_variable = {
						name = hitotsubashiha_invested_influence
						add = PREV.var:invested_influence
					}
				}
			}
			else_if = {
				limit = { is_nankiha = yes }
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
				ROOT = {
					change_variable = {
						name = nankiha_invested_influence
						add = PREV.var:invested_influence
					}
				}
			}
			else = {
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
			}
		}
	}

	option = { # 히토츠바시파를 강하게 지지
		name = eafp_japan.2.a
		trigger = {
			authority >= 200
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = -25
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.2.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.2.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.2.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.2.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.2.hitotsubashiha2.tt
		}
		add_modifier = {
			name = modifier_political_influence_for_tairo
			months = normal_modifier_time
			multiplier = 2
		}
	}

	option = { # 히토츠바시파를 지지
		name = eafp_japan.2.b
		trigger = {
			authority >= 100
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = -12.5
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.2.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.2.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.2.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.2.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.2.hitotsubashiha2.tt
		}
		add_modifier = {
			name = modifier_political_influence_for_tairo
			months = normal_modifier_time
		}
	}

	option = { # 난키파를 지지
		name = eafp_japan.2.c
		trigger = {
			authority >= 100
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 12.5
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.2.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.2.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.2.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.2.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.2.hitotsubashiha2.tt
		}
		add_modifier = {
			name = modifier_political_influence_for_tairo
			months = normal_modifier_time
		}
	}

	option = { # 난키파를 강하게 지지
		name = eafp_japan.2.e
		trigger = {
			authority >= 200
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 25
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.2.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.2.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.2.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.2.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.2.hitotsubashiha2.tt
		}
		add_modifier = {
			name = modifier_political_influence_for_tairo
			months = normal_modifier_time
			multiplier = 2
		}
	}

	option = { # 알빠노?
		name = eafp_japan.2.z
		default_option = yes

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 0
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.2.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.2.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.2.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.2.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.2.hitotsubashiha2.tt
		}
	}

	after = {
		trigger_event = eafp_japan.3
	}
}

eafp_japan.3 = { # 대로 임명용 이벤트
	type = country_event
	placement = root

	title = eafp_japan.3.t
	desc = eafp_japan.3.d
	flavor = eafp_japan.3.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 1

	immediate = {
		# 누가 뽑힐까?
		if = {
			limit = {
				exists = scope:nankiha_candidate
				25 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = scope:shogun_influence
				}
			}
			# 난키파 등용
			if = {
				limit = { has_variable = hitotsubashiha_vs_nankiha_start }
				create_bakufu_politician_character = { POSITION = flag:tairo IDEOLOGY = ideology_nankiha }
			}
			else = {
				create_bakufu_politician_character = { POSITION = flag:tairo IDEOLOGY = ideology_hoshuha }
			}
			add_bakuhantaisei_politician_influence_calc_nankiha = yes
			save_scope_value_as = {
				name = new_politician
				value = 1
			}
		}
		else_if = {
			limit = {
				-25 >= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = scope:shogun_influence
				}
			}
			# 히토츠바시파 등용
			if = {
				limit = { has_variable = hitotsubashiha_vs_nankiha_start }
				create_bakufu_politician_character = { POSITION = flag:tairo IDEOLOGY = ideology_hitotsubashiha }
			}
			else = {
				create_bakufu_politician_character = { POSITION = flag:tairo IDEOLOGY = ideology_kaikakuha }
			}
			add_bakuhantaisei_politician_influence_calc_hitotsubashiha = yes
			save_scope_value_as = {
				name = new_politician
				value = 2
			}
		}
		else = {
			# 중도파 등용
			create_bakufu_politician_character = { POSITION = flag:tairo IDEOLOGY = ideology_moderate }
			add_bakuhantaisei_politician_influence_calc_moderate = yes
			save_scope_value_as = {
				name = new_politician
				value = 3
			}
		}

		# 변수 정리
		remove_variable = recruiting_bakufu_politicians
		remove_variable = hitotsubashiha_invested_influence
		remove_variable = nankiha_invested_influence
		every_scope_character = {
			limit = { has_variable = invested_influence }
			remove_variable = invested_influence
		}
	}

	option = { # 난키파
		name = eafp_japan.3.nankiha
		trigger = {
			scope:new_politician = 1
		}
		custom_tooltip = eafp_japan.3.nankiha.tt
	}

	option = { # 히토츠바시파
		name = eafp_japan.3.hitotsubashiha
		trigger = {
			scope:new_politician = 2
		}
		custom_tooltip = eafp_japan.3.hitotsubashiha.tt
	}

	option = { # 중도파
		name = eafp_japan.3.moderate
		trigger = {
			scope:new_politician = 3
		}
		custom_tooltip = eafp_japan.3.moderate.tt
	}
}

eafp_japan.4 = { # 노중수좌 임명용 이벤트
	type = country_event
	placement = root

	title = eafp_japan.4.t
	desc = eafp_japan.4.d
	flavor = eafp_japan.4.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 1

	immediate = {
		# 기본적으로 파벌 지지 100의 힘 = 기본 인물 정치력 50 5명, 강한 지지 = 기본 인물 정치력 50 2.5명
		set_variable = recruiting_bakufu_politicians
		set_variable = {
			name = hitotsubashiha_invested_influence
			value = 0
		}
		set_variable = {
			name = nankiha_invested_influence
			value = 0
		}
		# 정치인마다 정치력 투자 계산
		every_scope_character = {
			limit = { has_variable = eafp_bakuhantaisei_politician_influence }
			if = {
				limit = { is_hitotsubashiha = yes }
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
				ROOT = {
					change_variable = {
						name = hitotsubashiha_invested_influence
						add = PREV.var:invested_influence
					}
				}
			}
			else_if = {
				limit = { is_nankiha = yes }
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
				ROOT = {
					change_variable = {
						name = nankiha_invested_influence
						add = PREV.var:invested_influence
					}
				}
			}
			else = {
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
			}
		}
		# 노중 스코프 저장
		if = {
			limit = {
				any_in_list = {
					variable = roju_varlist
					is_hitotsubashiha = yes
				}
			}
			ordered_in_list = {
				variable = roju_varlist
				limit = { is_hitotsubashiha = yes }
				order_by = var:eafp_bakuhantaisei_politician_influence
				save_scope_as = hitotsubashiha_candidate
			}
		}
		if = {
			limit = {
				any_in_list = {
					variable = roju_varlist
					is_nankiha = yes
				}
			}
			ordered_in_list = {
				variable = roju_varlist
				limit = { is_nankiha = yes }
				order_by = var:eafp_bakuhantaisei_politician_influence
				save_scope_as = nankiha_candidate
			}
		}
		if = {
			limit = {
				any_in_list = {
					variable = roju_varlist
					has_ideology = ideology:ideology_moderate
				}
			}
			ordered_in_list = {
				variable = roju_varlist
				limit = {
					has_ideology = ideology:ideology_moderate
				}
				order_by = var:eafp_bakuhantaisei_politician_influence
				save_scope_as = moderate_candidate
			}
		}
	}

	trigger = {
		NOT = { has_variable = recruiting_bakufu_politicians }
	}

	option = { # 히토츠바시파를 강하게 지지
		name = eafp_japan.4.a
		trigger = {
			authority >= 200
			exists = scope:hitotsubashiha_candidate
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = -25
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.4.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.4.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.4.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.4.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.4.hitotsubashiha2.tt
		}

		add_modifier = {
			name = modifier_political_influence_for_rojushuza
			months = normal_modifier_time
			multiplier = 2
		}
	}

	option = { # 히토츠바시파를 지지
		name = eafp_japan.4.b
		trigger = {
			authority >= 100
			exists = scope:hitotsubashiha_candidate
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = -12.5
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.4.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.4.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.4.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.4.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.4.hitotsubashiha2.tt
		}
		
		add_modifier = {
			name = modifier_political_influence_for_rojushuza
			months = normal_modifier_time
		}
	}

	option = { # 난키파를 지지
		name = eafp_japan.4.c
		trigger = {
			authority >= 100
			exists = scope:nankiha_candidate
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 12.5
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.4.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.4.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.4.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.4.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.4.hitotsubashiha2.tt
		}

		add_modifier = {
			name = modifier_political_influence_for_rojushuza
			months = normal_modifier_time
		}
	}

	option = { # 난키파를 강하게 지지
		name = eafp_japan.4.e
		trigger = {
			authority >= 200
			exists = scope:nankiha_candidate
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 25
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.4.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.4.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.4.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.4.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.4.hitotsubashiha2.tt
		}
		
		add_modifier = {
			name = modifier_political_influence_for_rojushuza
			months = normal_modifier_time
			multiplier = 2
		}
	}

	option = { # 알빠노?
		name = eafp_japan.4.z
		default_option = yes

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 0
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.4.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.4.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.4.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.4.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.4.hitotsubashiha2.tt
		}
	}

	after = {
		trigger_event = eafp_japan.5
	}
}

eafp_japan.5 = { # 노중수좌 임명용 이벤트
	type = country_event
	placement = root

	title = eafp_japan.5.t
	desc = eafp_japan.5.d
	flavor = eafp_japan.5.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 1

	immediate = {
		# 누가 뽑힐까?
		if = {
			limit = {
				exists = scope:nankiha_candidate
				25 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = scope:shogun_influence
				}
			}
			# 난키파 등용
			set_variable = { name = rojushuza_var value = scope:nankiha_candidate }
			remove_list_variable = { name = roju_varlist target = scope:nankiha_candidate }
			add_bakuhantaisei_politician_influence_calc_nankiha = yes
			save_scope_value_as = {
				name = new_politician
				value = 1
			}
		}
		else_if = {
			limit = {
				exists = scope:hitotsubashiha_candidate
				-25 >= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = scope:shogun_influence
				}
			}
			# 히토츠바시파 등용
			set_variable = { name = rojushuza_var value = scope:hitotsubashiha_candidate }
			remove_list_variable = { name = roju_varlist target = scope:hitotsubashiha_candidate }
			add_bakuhantaisei_politician_influence_calc_hitotsubashiha = yes
			save_scope_value_as = {
				name = new_politician
				value = 2
			}
		}
		else_if = {
			limit = { exists = scope:moderate_candidate }
			# 중도파 등용
			set_variable = { name = rojushuza_var value = scope:moderate_candidate }
			remove_list_variable = { name = roju_varlist target = scope:moderate_candidate }
			add_bakuhantaisei_politician_influence_calc_moderate = yes
			save_scope_value_as = {
				name = new_politician
				value = 3
			}
		}
		else_if = {
			limit = {
				exists = scope:nankiha_candidate
				0 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = scope:shogun_influence
				}
			}
			# 난키파 등용
			set_variable = { name = rojushuza_var value = scope:nankiha_candidate }
			remove_list_variable = { name = roju_varlist target = scope:nankiha_candidate }
			add_bakuhantaisei_politician_influence_calc_nankiha = yes
			save_scope_value_as = {
				name = new_politician
				value = 1
			}
		}
		else = {
			# 히토츠바시파 등용
			set_variable = { name = rojushuza_var value = scope:hitotsubashiha_candidate }
			remove_list_variable = { name = roju_varlist target = scope:hitotsubashiha_candidate }
			add_bakuhantaisei_politician_influence_calc_hitotsubashiha = yes
			save_scope_value_as = {
				name = new_politician
				value = 2
			}
		}

		# 변수 정리
		remove_variable = recruiting_bakufu_politicians
		remove_variable = hitotsubashiha_invested_influence
		remove_variable = nankiha_invested_influence
		every_scope_character = {
			limit = { has_variable = invested_influence }
			remove_variable = invested_influence
		}
	}

	option = { # 난키파
		name = eafp_japan.5.nankiha
		trigger = {
			scope:new_politician = 1
		}
		custom_tooltip = eafp_japan.5.nankiha.tt
	}

	option = { # 히토츠바시파
		name = eafp_japan.5.hitotsubashiha
		trigger = {
			scope:new_politician = 2
		}
		custom_tooltip = eafp_japan.5.hitotsubashiha.tt
	}

	option = { # 중도파
		name = eafp_japan.5.moderate
		trigger = {
			scope:new_politician = 3
		}
		custom_tooltip = eafp_japan.5.moderate.tt
	}
}

eafp_japan.6 = { # 노중 임명용 이벤트
	type = country_event
	placement = root

	title = eafp_japan.6.t
	desc = eafp_japan.6.d
	flavor = eafp_japan.6.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 1

	immediate = {
		# 기본적으로 파벌 지지 100의 힘 = 기본 인물 정치력 50 5명, 강한 지지 = 기본 인물 정치력 50 2.5명
		set_variable = recruiting_bakufu_politicians
		set_variable = {
			name = hitotsubashiha_invested_influence
			value = 0
		}
		set_variable = {
			name = nankiha_invested_influence
			value = 0
		}
		# 정치인마다 정치력 투자 계산
		every_scope_character = {
			limit = { has_variable = eafp_bakuhantaisei_politician_influence }
			if = {
				limit = { is_hitotsubashiha = yes }
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
				ROOT = {
					change_variable = {
						name = hitotsubashiha_invested_influence
						add = PREV.var:invested_influence
					}
				}
			}
			else_if = {
				limit = { is_nankiha = yes }
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
				ROOT = {
					change_variable = {
						name = nankiha_invested_influence
						add = PREV.var:invested_influence
					}
				}
			}
			else = {
				set_variable = {
					name = invested_influence
					value = {
						value = var:eafp_bakuhantaisei_politician_influence
						multiply = bakufu_kaikaku_bakufu_politicians_activeness
					}
				}
			}
		}
	}

	trigger = {
		NOT = { has_variable = recruiting_bakufu_politicians }
	}

	option = { # 히토츠바시파를 강하게 지지
		name = eafp_japan.6.a
		trigger = {
			authority >= 200
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = -25
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.6.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.6.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.6.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -25
				}
			}
			custom_tooltip = eafp_japan.6.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.6.hitotsubashiha2.tt
		}
		
		add_modifier = {
			name = modifier_political_influence_for_roju
			months = normal_modifier_time
			multiplier = 2
		}
	}

	option = { # 히토츠바시파를 지지
		name = eafp_japan.6.b
		trigger = {
			authority >= 100
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = -12.5
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.6.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.6.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.6.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = -12.5
				}
			}
			custom_tooltip = eafp_japan.6.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.6.hitotsubashiha2.tt
		}

		add_modifier = {
			name = modifier_political_influence_for_roju
			months = normal_modifier_time
		}
	}

	option = { # 난키파를 지지
		name = eafp_japan.6.c
		trigger = {
			authority >= 100
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 12.5
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.6.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.6.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.6.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 12.5
				}
			}
			custom_tooltip = eafp_japan.6.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.6.hitotsubashiha2.tt
		}

		add_modifier = {
			name = modifier_political_influence_for_roju
			months = normal_modifier_time
		}
	}

	option = { # 난키파를 강하게 지지
		name = eafp_japan.6.e
		trigger = {
			authority >= 200
		}

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 25
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.6.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.6.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.6.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 25
				}
			}
			custom_tooltip = eafp_japan.6.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.6.hitotsubashiha2.tt
		}

		add_modifier = {
			name = modifier_political_influence_for_roju
			months = normal_modifier_time
			multiplier = 2
		}
	}

	option = { # 알빠노?
		name = eafp_japan.6.z
		default_option = yes

		hidden_effect = {
			save_scope_value_as = {
				name = shogun_influence
				value = 0
			}
		}
		if = { # 결과 미리 보여줌 -35 -15 15 35
			limit = {
				35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.6.nankiha2.tt
		}
		else_if = {
			limit = {
				15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.6.nankiha.tt
		}
		else_if = {
			limit = {
				-15 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.6.moderate.tt
		}
		else_if = {
			limit = {
				-35 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = 0
				}
			}
			custom_tooltip = eafp_japan.6.hitotsubashiha.tt
		}
		else = {
			custom_tooltip = eafp_japan.6.hitotsubashiha2.tt
		}
	}

	after = {
		trigger_event = eafp_japan.7
	}
}

eafp_japan.7 = { # 노중 임명용 이벤트
	type = country_event
	placement = root

	title = eafp_japan.7.t
	desc = eafp_japan.7.d
	flavor = eafp_japan.7.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 1

	immediate = {
		# 누가 뽑힐까?
		if = {
			limit = { 
				25 <= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = scope:shogun_influence
				}
			}
			# 난키파 등용
			if = {
				limit = { has_variable = hitotsubashiha_vs_nankiha_start }
				create_bakufu_politician_character = { POSITION = flag:roju IDEOLOGY = ideology_nankiha }
			}
			else = {
				create_bakufu_politician_character = { POSITION = flag:roju IDEOLOGY = ideology_hoshuha }
			}
			add_bakuhantaisei_politician_influence_calc_nankiha = yes
			save_scope_value_as = {
				name = new_politician
				value = 1
			}
		}
		else_if = {
			limit = { 
				-25 >= {
					value = var:nankiha_invested_influence
					add = var:nankiha_influence_var
					subtract = -50
					subtract = var:hitotsubashiha_invested_influence
					add = scope:shogun_influence
				}
			}
			# 히토츠바시파 등용
			if = {
				limit = { has_variable = hitotsubashiha_vs_nankiha_start }
				create_bakufu_politician_character = { POSITION = flag:roju IDEOLOGY = ideology_hitotsubashiha }
			}
			else = {
				create_bakufu_politician_character = { POSITION = flag:roju IDEOLOGY = ideology_kaikakuha }
			}
			add_bakuhantaisei_politician_influence_calc_hitotsubashiha = yes
			save_scope_value_as = {
				name = new_politician
				value = 2
			}
		}
		else = {
			# 중도파 등용
			create_bakufu_politician_character = { POSITION = flag:roju IDEOLOGY = ideology_moderate }
			add_bakuhantaisei_politician_influence_calc_moderate = yes
			save_scope_value_as = {
				name = new_politician
				value = 3
			}
		}
		
		# 변수 정리
		remove_variable = recruiting_bakufu_politicians
		remove_variable = hitotsubashiha_invested_influence
		remove_variable = nankiha_invested_influence
		every_scope_character = {
			limit = { has_variable = invested_influence }
			remove_variable = invested_influence
		}
	}

	option = { # 난키파
		name = eafp_japan.7.nankiha
		trigger = {
			scope:new_politician = 1
		}
		custom_tooltip = eafp_japan.7.nankiha.tt
	}

	option = { # 히토츠바시파
		name = eafp_japan.7.hitotsubashiha
		trigger = {
			scope:new_politician = 2
		}
		custom_tooltip = eafp_japan.7.hitotsubashiha.tt
	}

	option = { # 중도파
		name = eafp_japan.7.moderate
		trigger = {
			scope:new_politician = 3
		}
		custom_tooltip = eafp_japan.7.moderate.tt
	}
}

eafp_japan.8 = { # 막부 정치인 실각용 히든 이벤트
	type = character_event
	hidden = yes

	trigger = {}

	immediate = {
		remove_bakufu_politician_role = yes
	}
}

eafp_japan.9 = { # 막부 정치인 수명 끝나서 죽는 용도 히든 이벤트
	type = character_event
	hidden = yes

	trigger = {}

	immediate = {
		remove_bakufu_politician_role = yes
		kill_character = yes
	}
}

eafp_japan.11 = { # 다이묘 영지 감독
	type = character_event
	placement = ROOT

	title = eafp_japan.11.t
	desc = eafp_japan.11.d
	flavor = eafp_japan.11.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 1

	immediate = {
		owner = {
			set_variable = recruiting_bakufu_politicians
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_TOHOKU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_TOHOKU.region_state:JAP
					}
					save_scope_as = TOHOKU_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KANTO.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KANTO.region_state:JAP
					}
					save_scope_as = KANTO_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_CHUBU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_CHUBU.region_state:JAP
					}
					save_scope_as = CHUBU_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KANSAI.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KANSAI.region_state:JAP
					}
					save_scope_as = KANSAI_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KYUSHU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KYUSHU.region_state:JAP
					}
					save_scope_as = KYUSHU_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_CHUGOKU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_CHUGOKU.region_state:JAP
					}
					save_scope_as = CHUGOKU_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_SHIKOKU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_oversee_daimyo_domains
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_SHIKOKU.region_state:JAP
					}
					save_scope_as = SHIKOKU_character_scope
				}
			}
		}
	}

	trigger = {}

	option = {
		name = eafp_japan.11.TOHOKU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_TOHOKU }
		}

		custom_tooltip = {
			text = eafp_japan.11.TOHOKU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_oversee_daimyo_domains
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_TOHOKU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:TOHOKU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.11.TOHOKU.tt2
				scope:TOHOKU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_TOHOKU.region_state:JAP = {
				add_modifier = modifier_oversee_daimyo_domains
			}
			owner = {
				add_modifier = modifier_oversee_daimyo_domains_TOHOKU
			}
		}
	}
	option = {
		name = eafp_japan.11.KANTO
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_KANTO }
		}

		custom_tooltip = {
			text = eafp_japan.11.KANTO.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_oversee_daimyo_domains
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_KANTO.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:KANTO_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.11.KANTO.tt2
				scope:KANTO_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_KANTO.region_state:JAP = {
				add_modifier = modifier_oversee_daimyo_domains
			}
			owner = {
				add_modifier = modifier_oversee_daimyo_domains_KANTO
			}
		}
	}
	option = {
		name = eafp_japan.11.CHUBU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_CHUBU }
		}

		custom_tooltip = {
			text = eafp_japan.11.CHUBU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_oversee_daimyo_domains
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_CHUBU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:CHUBU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.11.CHUBU.tt2
				scope:CHUBU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_CHUBU.region_state:JAP = {
				add_modifier = modifier_oversee_daimyo_domains
			}
			owner = {
				add_modifier = modifier_oversee_daimyo_domains_CHUBU
			}
		}
	}
	option = {
		name = eafp_japan.11.KANSAI
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_KANSAI }
		}

		custom_tooltip = {
			text = eafp_japan.11.KANSAI.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_oversee_daimyo_domains
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_KANSAI.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:KANSAI_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.11.KANSAI.tt2
				scope:KANSAI_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_KANSAI.region_state:JAP = {
				add_modifier = modifier_oversee_daimyo_domains
			}
			owner = {
				add_modifier = modifier_oversee_daimyo_domains_KANSAI
			}
		}
	}
	option = {
		name = eafp_japan.11.KYUSHU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_KYUSHU }
		}

		custom_tooltip = {
			text = eafp_japan.11.KYUSHU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_oversee_daimyo_domains
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_KYUSHU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:KYUSHU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.11.KYUSHU.tt2
				scope:KYUSHU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_KYUSHU.region_state:JAP = {
				add_modifier = modifier_oversee_daimyo_domains
			}
			owner = {
				add_modifier = modifier_oversee_daimyo_domains_KYUSHU
			}
		}
	}
	option = {
		name = eafp_japan.11.CHUGOKU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_CHUGOKU }
		}

		custom_tooltip = {
			text = eafp_japan.11.CHUGOKU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_oversee_daimyo_domains
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_CHUGOKU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:CHUGOKU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.11.CHUGOKU.tt2
				scope:CHUGOKU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_CHUGOKU.region_state:JAP = {
				add_modifier = modifier_oversee_daimyo_domains
			}
			owner = {
				add_modifier = modifier_oversee_daimyo_domains_CHUGOKU
			}
		}
	}
	option = {
		name = eafp_japan.11.SHIKOKU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_SHIKOKU }
		}

		custom_tooltip = {
			text = eafp_japan.11.SHIKOKU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_oversee_daimyo_domains
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_SHIKOKU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:SHIKOKU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.11.SHIKOKU.tt2
				scope:SHIKOKU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_SHIKOKU.region_state:JAP = {
				add_modifier = modifier_oversee_daimyo_domains
			}
			owner = {
				add_modifier = modifier_oversee_daimyo_domains_SHIKOKU
			}
		}
	}
	option = {
		name = eafp_japan.11.z
		default_option = yes
	}

	after = {
		owner = { remove_variable = recruiting_bakufu_politicians }
	}
}

eafp_japan.12 = { # 다이묘들의 충성심을 재확인
	type = character_event
	placement = ROOT

	title = eafp_japan.12.t
	desc = eafp_japan.12.d
	flavor = eafp_japan.12.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 1

	immediate = {
		owner = {
			set_variable = recruiting_bakufu_politicians
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_TOHOKU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_TOHOKU.region_state:JAP
					}
					save_scope_as = TOHOKU_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KANTO.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KANTO.region_state:JAP
					}
					save_scope_as = KANTO_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_CHUBU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_CHUBU.region_state:JAP
					}
					save_scope_as = CHUBU_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KANSAI.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KANSAI.region_state:JAP
					}
					save_scope_as = KANSAI_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KYUSHU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_KYUSHU.region_state:JAP
					}
					save_scope_as = KYUSHU_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_CHUGOKU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_CHUGOKU.region_state:JAP
					}
					save_scope_as = CHUGOKU_character_scope
				}
			}
			if = {
				limit = {
					any_scope_character = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_SHIKOKU.region_state:JAP
					}
				}
				every_scope_character = {
					limit = {
						var:eafp_bakuhantaisei_politician_current_mission ?= flag:eafp_reaffirm_daimyos_loyalty
						var:eafp_bakuhantaisei_politician_current_mission_location ?= s:STATE_SHIKOKU.region_state:JAP
					}
					save_scope_as = SHIKOKU_character_scope
				}
			}
		}
	}

	trigger = {}

	option = {
		name = eafp_japan.12.TOHOKU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_TOHOKU }
		}

		custom_tooltip = {
			text = eafp_japan.12.TOHOKU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_reaffirm_daimyos_loyalty
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_TOHOKU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:TOHOKU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.12.TOHOKU.tt2
				scope:TOHOKU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_TOHOKU.region_state:JAP = {
				add_modifier = modifier_reaffirm_daimyos_loyalty
			}
			owner = {
				add_modifier = modifier_reaffirm_daimyos_loyalty_TOHOKU
			}
		}
	}
	option = {
		name = eafp_japan.12.KANTO
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_KANTO }
		}

		custom_tooltip = {
			text = eafp_japan.12.KANTO.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_reaffirm_daimyos_loyalty
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_KANTO.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:KANTO_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.12.KANTO.tt2
				scope:KANTO_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_KANTO.region_state:JAP = {
				add_modifier = modifier_reaffirm_daimyos_loyalty
			}
			owner = {
				add_modifier = modifier_reaffirm_daimyos_loyalty_KANTO
			}
		}
	}
	option = {
		name = eafp_japan.12.CHUBU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_CHUBU }
		}

		custom_tooltip = {
			text = eafp_japan.12.CHUBU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_reaffirm_daimyos_loyalty
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_CHUBU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:CHUBU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.12.CHUBU.tt2
				scope:CHUBU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_CHUBU.region_state:JAP = {
				add_modifier = modifier_reaffirm_daimyos_loyalty
			}
			owner = {
				add_modifier = modifier_reaffirm_daimyos_loyalty_CHUBU
			}
		}
	}
	option = {
		name = eafp_japan.12.KANSAI
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_KANSAI }
		}

		custom_tooltip = {
			text = eafp_japan.12.KANSAI.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_reaffirm_daimyos_loyalty
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_KANSAI.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:KANSAI_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.12.KANSAI.tt2
				scope:KANSAI_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_KANSAI.region_state:JAP = {
				add_modifier = modifier_reaffirm_daimyos_loyalty
			}
			owner = {
				add_modifier = modifier_reaffirm_daimyos_loyalty_KANSAI
			}
		}
	}
	option = {
		name = eafp_japan.12.KYUSHU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_KYUSHU }
		}

		custom_tooltip = {
			text = eafp_japan.12.KYUSHU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_reaffirm_daimyos_loyalty
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_KYUSHU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:KYUSHU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.12.KYUSHU.tt2
				scope:KYUSHU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_KYUSHU.region_state:JAP = {
				add_modifier = modifier_reaffirm_daimyos_loyalty
			}
			owner = {
				add_modifier = modifier_reaffirm_daimyos_loyalty_KYUSHU
			}
		}
	}
	option = {
		name = eafp_japan.12.CHUGOKU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_CHUGOKU }
		}

		custom_tooltip = {
			text = eafp_japan.12.CHUGOKU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_reaffirm_daimyos_loyalty
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_CHUGOKU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:CHUGOKU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.12.CHUGOKU.tt2
				scope:CHUGOKU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_CHUGOKU.region_state:JAP = {
				add_modifier = modifier_reaffirm_daimyos_loyalty
			}
			owner = {
				add_modifier = modifier_reaffirm_daimyos_loyalty_CHUGOKU
			}
		}
	}
	option = {
		name = eafp_japan.12.SHIKOKU
		
		trigger = {
			owner = { has_journal_entry = je_bakuhantaisei_SHIKOKU }
		}

		custom_tooltip = {
			text = eafp_japan.12.SHIKOKU.tt
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission
				value = flag:eafp_reaffirm_daimyos_loyalty
			}
			set_variable = {
				name = eafp_bakuhantaisei_politician_current_mission_location
				value = s:STATE_SHIKOKU.region_state:JAP
			}
		}
		if = {
			limit = {
				exists = scope:SHIKOKU_character_scope
			}
			custom_tooltip = {
				text = eafp_japan.12.SHIKOKU.tt2
				scope:SHIKOKU_character_scope = {
					remove_variable = eafp_bakuhantaisei_politician_current_mission
					remove_variable = eafp_bakuhantaisei_politician_current_mission_location
				}
			}
		}
		else = {
			s:STATE_SHIKOKU.region_state:JAP = {
				add_modifier = modifier_reaffirm_daimyos_loyalty
			}
			owner = {
				add_modifier = modifier_reaffirm_daimyos_loyalty_SHIKOKU
			}
		}
	}
	option = {
		name = eafp_japan.12.z
		default_option = yes
	}

	after = {
		owner = { remove_variable = recruiting_bakufu_politicians }
	}
}

# 플레이버 이벤트

eafp_japan.1001 = { # 밀무역 적발
	type = country_event
	placement = scope:scope_state

	title = eafp_japan.1001.t
	desc = eafp_japan.1001.d
	flavor = eafp_japan.1001.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "votp_prison"
	}
	
	duration = 3
	
	immediate = {
		s:STATE_CHUGOKU.region_state:JAP = {
			save_scope_as = scope_state
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1001.a
		default_option = yes

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -2.5
		}
		s:STATE_CHUGOKU.region_state:JAP = {
			add_radicals_in_state = {
				value = 0.05
			}
		}

		ai_chance = {
			base = 1
		}
	}
	option = {
		name = eafp_japan.1001.b

		add_bakuhantaisei_bakufu_authority = {
			VALUE = -50
		}
		add_modifier = {
			name = smuggling_continues_modifier
			months = normal_modifier_time
		}

		ai_chance = {
			base = 0
		}
	}
	option = {
		name = eafp_japan.1001.c

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		s:STATE_CHUGOKU.region_state:JAP = {
			add_radicals_in_state = {
				value = 0.1
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

eafp_japan.1002 = { # 밀무역 적발
	type = country_event
	placement = scope:scope_state

	title = eafp_japan.1002.t
	desc = eafp_japan.1002.d
	flavor = eafp_japan.1002.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "votp_prison"
	}
	
	duration = 3
	
	immediate = {
		s:STATE_CHUBU.region_state:JAP = {
			save_scope_as = scope_state
		}
		s:STATE_TOHOKU.region_state:JAP = {
			save_scope_as = scope_state2
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1002.a
		default_option = yes

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -2.5
		}
		s:STATE_CHUBU.region_state:JAP = {
			add_radicals_in_state = {
				value = 0.05
			}
		}

		ai_chance = {
			base = 0
		}
	}
	option = {
		name = eafp_japan.1002.b

		add_bakuhantaisei_bakufu_authority = {
			VALUE = -50
		}
		add_modifier = {
			name = smuggling_continues_modifier
			months = normal_modifier_time
		}

		ai_chance = {
			base = 0
		}
	}
	option = {
		name = eafp_japan.1002.c

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		s:STATE_CHUBU.region_state:JAP = {
			add_radicals_in_state = {
				value = 0.05
			}
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -15
		}
		s:STATE_TOHOKU.region_state:JAP = {
			add_radicals_in_state = {
				value = 0.15
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

eafp_japan.1003 = { # 계승 문제
	type = country_event
	placement = scope:scope_state

	title = eafp_japan.1003.t
	desc = eafp_japan.1003.d
	flavor = eafp_japan.1003.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "votp_prison"
	}
	
	duration = 3
	
	immediate = {
		random_scope_state = {
			limit = { state_is_in_japan = yes }
			save_scope_as = scope_state
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1003.a
		default_option = yes

		random_list = {
			1 = {
				add_hitotsubashiha_influence_var = {
					VALUE = 10
				}
			}
			1 = {
			}
			1 = {
				add_nankiha_influence_var = {
					VALUE = 10
				}
			}
		}
	}
	option = {
		name = eafp_japan.1003.b

		add_hitotsubashiha_influence_var = {
			VALUE = 10
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -7.5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -5
		}
	}
	option = {
		name = eafp_japan.1003.c

		add_nankiha_influence_var = {
			VALUE = 10
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -7.5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -5
		}
	}
}

eafp_japan.1004 = { # 번정 개혁 논란
	type = country_event
	placement = scope:scope_state

	title = eafp_japan.1004.t
	desc = eafp_japan.1004.d
	flavor = eafp_japan.1004.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "votp_prison"
	}
	
	duration = 3
	
	immediate = {
		random_scope_state = {
			limit = { state_is_in_japan = yes }
			save_scope_as = scope_state
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1004.a
		default_option = yes

		random_list = {
			1 = {
				add_hitotsubashiha_influence_var = {
					VALUE = 10
				}
			}
			1 = {
			}
			1 = {
				add_nankiha_influence_var = {
					VALUE = 10
				}
			}
		}
	}
	option = {
		name = eafp_japan.1004.b

		add_hitotsubashiha_influence_var = {
			VALUE = 10
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -7.5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -5
		}
	}
	option = {
		name = eafp_japan.1004.c

		add_nankiha_influence_var = {
			VALUE = 10
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -7.5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -5
		}
	}
}

eafp_japan.1005 = { # 밀무역 적발
	type = country_event
	placement = scope:scope_state

	title = eafp_japan.1005.t
	desc = eafp_japan.1005.d
	flavor = eafp_japan.1005.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "votp_prison"
	}
	
	duration = 3
	
	immediate = {
		random_scope_state = {
			limit = { state_is_in_japan = yes }
			save_scope_as = scope_state
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1005.a
		default_option = yes

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -2.5
		}
		scope:scope_state = {
			add_radicals_in_state = {
				value = 0.05
			}
		}

		ai_chance = {
			base = 1
		}
	}
	option = {
		name = eafp_japan.1005.b

		add_bakuhantaisei_bakufu_authority = {
			VALUE = -50
		}
		add_modifier = {
			name = smuggling_continues_modifier
			months = normal_modifier_time
		}

		ai_chance = {
			base = 0
		}
	}
	option = {
		name = eafp_japan.1005.c

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		scope:scope_state = {
			add_radicals_in_state = {
				value = 0.1
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

eafp_japan.1006 = { # 위조화폐 제조
	type = country_event
	placement = scope:scope_state

	title = eafp_japan.1006.t
	desc = eafp_japan.1006.d
	flavor = eafp_japan.1006.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "votp_prison"
	}
	
	duration = 3
	
	immediate = {
		random_scope_state = {
			limit = { state_is_in_japan = yes }
			save_scope_as = scope_state
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1006.a
		default_option = yes

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -2.5
		}
		scope:scope_state = {
			add_radicals_in_state = {
				value = 0.05
			}
		}
	}
	option = {
		name = eafp_japan.1006.b

		add_bakuhantaisei_bakufu_authority = {
			VALUE = -50
		}
		add_modifier = {
			name = counterfeiting_continues_modifier
			months = normal_modifier_time
		}
	}
	option = {
		name = eafp_japan.1006.c

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -10
		}
		scope:scope_state = {
			add_radicals_in_state = {
				value = 0.1
			}
		}
	}
}

eafp_japan.1007 = { # 국회도 작성 완료
	type = country_event
	placement = ROOT

	title = eafp_japan.1007.t
	desc = eafp_japan.1007.d
	flavor = eafp_japan.1007.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1007.a
		default_option = yes

		add_modifier = {
			name = tenpo_kuniezu_modifier
			months = long_modifier_time
			is_decaying = yes
		}
		every_scope_state = {
			limit = { state_is_in_japan = yes }
			ROOT = {
				add_bakuhantaisei_state_independency = {
					TARGET = PREV
					VALUE = -10
				}
			}
		}
	}
}

eafp_japan.1008 = { # 상황의 붕어
	type = country_event
	placement = ROOT

	title = eafp_japan.1008.t
	desc = eafp_japan.1008.d
	flavor = eafp_japan.1008.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {

	}

	trigger = {}
	
	option = {
		name = eafp_japan.1008.a
		default_option = yes

	}
}

eafp_japan.1009 = { # 고도칸 개설
	type = country_event
	placement = ROOT

	title = eafp_japan.1009.t
	desc = eafp_japan.1009.d
	flavor = eafp_japan.1009.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1009.a
		default_option = yes

		add_modifier = {
			name = mitogaku_modifier
			months = long_modifier_time
		}
	}
}

eafp_japan.1010 = { # (고메이) 천황의 즉위
	type = country_event
	placement = ROOT

	title = eafp_japan.1010.t
	desc = eafp_japan.1010.d
	flavor = eafp_japan.1010.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		if = {
			limit = { ruler = { has_template = eafp_jap_ninko_template } }
			ruler = { save_scope_as = ninko_scope }
			heir = { save_scope_as = komei_scope }
			scope:komei_scope = {
				set_character_as_ruler = yes
			}
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1010.a
		default_option = yes

		trigger = {
			exists = scope:ninko_scope
		}
		show_as_tooltip = {
			scope:komei_scope = {
				set_character_as_ruler = yes
			}
		}
	}

	option = {
		name = eafp_japan.1010.a
		default_option = yes

		trigger = {
			NOT = { exists = scope:ninko_scope }
		}
	}
}

# 천황이 ruler일때 이벤트 todo

eafp_japan.1012 = { # 젠코지 지진
	type = country_event
	placement = scope:earthquake_state

	title = eafp_japan.1012.t
	desc = eafp_japan.1012.d
	flavor = eafp_japan.1012.f

	duration = 3

	event_image = {
		video = "unspecific_devastation"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	trigger = {
		exists = s:STATE_CHUBU.region_state:JAP
	}

	immediate = {
		s:STATE_CHUBU.region_state:JAP = {
			save_scope_as = earthquake_state
		}
	}

	option = { #No extra help
		name = eafp_japan.1012.a
		default_option = yes
		scope:earthquake_state.state_region = {
			add_devastation = 20
		}
	}

	option = { #Extra help
		name = eafp_japan.1012.b
		add_modifier = {
			name = modifier_earthquake_relief
			multiplier = money_amount_multiplier_medium
			months = short_modifier_time
		}
		scope:earthquake_state.state_region = {
			add_devastation = 10
		}
	}
}

eafp_japan.1013 = { # 에도 지진
	type = country_event
	placement = scope:earthquake_state

	title = eafp_japan.1013.t
	desc = eafp_japan.1013.d
	flavor = eafp_japan.1013.f

	duration = 3

	event_image = {
		video = "unspecific_devastation"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	trigger = {
		exists = s:STATE_KANTO.region_state:JAP
	}

	immediate = {
		s:STATE_KANTO.region_state:JAP = {
			save_scope_as = earthquake_state
		}
	}

	option = { #No extra help
		name = eafp_japan.1013.a
		default_option = yes
		scope:earthquake_state.state_region = {
			add_devastation = 20
		}
	}

	option = { #Extra help
		name = eafp_japan.1013.b
		add_modifier = {
			name = modifier_earthquake_relief
			multiplier = money_amount_multiplier_medium
			months = short_modifier_time
		}
		scope:earthquake_state.state_region = {
			add_devastation = 10
		}
	}
}

eafp_japan.1014 = { # 존 만지로
	type = country_event
	placement = ROOT

	title = eafp_japan.1014.t
	desc = eafp_japan.1014.d
	flavor = eafp_japan.1014.f

	duration = 3

	gui_window = event_window_1char_tabloid
	left_icon = scope:manjiro_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
	}

	immediate = {
		create_character = {		
			save_scope_as = manjiro_scope
			on_created = {
				place_character_in_void = 10000
			}
		}
	}

	option = {
		name = eafp_japan.1014.a
		default_option = yes
		
		if = {
			limit = { NOT = { has_technology_researched = paddle_steamer } }
			add_technology_progress = {
				technology = paddle_steamer
				progress = 3500
			}
		}
		else = {
			add_technology_progress = {
				technology = screw_frigate
				progress = 3500
			}
		}

		scope:manjiro_scope = {
			kill_character = {
				hidden = yes
			}
		}
	}

}

eafp_japan.1015 = { # 위조화폐 제조
	type = country_event
	placement = scope:scope_state

	title = eafp_japan.1015.t
	desc = eafp_japan.1015.d
	flavor = eafp_japan.1015.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "votp_prison"
	}
	
	duration = 3
	
	immediate = {
		random_scope_state = {
			limit = { state_is_in_japan = yes }
			save_scope_as = scope_state
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.1015.a
		default_option = yes

		add_bakuhantaisei_state_independency = {
			TARGET = scope:scope_state
			VALUE = -5
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = -2.5
		}

		ai_chance = {
			base = 1
		}
	}
	option = {
		name = eafp_japan.1015.b

		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:scope_state
			VALUE = 2.5
		}

		ai_chance = {
			base = 0
		}
	}
}

eafp_japan.2001 = { # 모리슨 호
	type = country_event
	placement = root

	title = eafp_japan.2001.t
	desc = eafp_japan.2001.d
	flavor = eafp_japan.2001.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		trigger_event = {
			id = eafp_japan.2003
			months = 12
		}
	}

	trigger = {
	}
	
	option = {
		name = eafp_japan.2001.a

		default_option = yes

	}
}

eafp_japan.2002 = { # 양위
	type = country_event
	placement = root

	title = eafp_japan.2002.t
	desc = eafp_japan.2002.d
	flavor = eafp_japan.2002.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		heir = {
			save_scope_as = ieyoshi_character
		}
		add_journal_entry = {
			type = je_bakufu_kaikaku
		}
	}

	trigger = {}
	
	option = {
		default_option = yes
		name = eafp_japan.2002.a
		scope:ieyoshi_character = {
			set_character_as_ruler = yes
		}
		hidden_effect = {
			create_character = {
				template = eafp_jap_tokugawa_iesada_template
				heir = yes
				on_created = {
					set_character_busy_and_immortal = yes
				}
			}
		}
		show_as_tooltip = {
			add_journal_entry = {
				type = je_bakufu_kaikaku
			}
		}
	}
}

eafp_japan.2003 = { # 모리슨 호
	type = country_event
	placement = root

	title = eafp_japan.2003.t
	desc = eafp_japan.2003.d
	flavor = eafp_japan.2003.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {
	}
	
	option = {
		name = eafp_japan.2003.a

		default_option = yes
		
		add_hitotsubashiha_influence_var = {
			VALUE = 10
		}
		add_hitotsubashiha_approval = {
			VALUE = -10
		}
	}
}

eafp_japan.2004 = { # 오고쇼의 서거
	type = country_event
	placement = root

	title = eafp_japan.2004.t
	desc = eafp_japan.2004.d
	flavor = eafp_japan.2004.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		ruler = {
			save_scope_as = ieyoshi_character
		}
	}

	trigger = {}
	
	option = {
		default_option = yes
		name = eafp_japan.2004.a
		add_hitotsubashiha_influence_var = {
			VALUE = 10
		}
	}
}

eafp_japan.2005 = { # 이에사다의 즉위 용 히든 이벤트
	type = country_event
	hidden = yes

	immediate = {
		ruler = {
			kill_character = yes
		}
	}
}

eafp_japan.2006 = { # 이에사다의 즉위
	type = country_event
	placement = root

	title = eafp_japan.2006.t
	desc = eafp_japan.2006.d
	flavor = eafp_japan.2006.f

	gui_window = event_window_1char_tabloid
	
	left_icon = scope:iesada_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/law_icons/monarchy.dds"

	duration = 3

	trigger = {
		#Fired by on_action
	}

	immediate = {
		
	}

	option = {
		name = eafp_japan.2006.a
		default_option = yes
		show_as_tooltip = {
			scope:iesada_scope = {
				set_character_as_ruler = yes
			}
		}
	}
}

eafp_japan.2007 = {	# 아편전쟁 패배 소식
	type = country_event
	placement = ROOT

	title = eafp_japan.2007.t
	desc = eafp_japan.2007.d
	flavor = eafp_japan.2007.f

	duration = 3

	event_image = {
		video = "gfx/event_pictures/unspecific_naval_battle.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
	}

	immediate = {
	}

	option = {
		name = eafp_japan.2007.a
		
		default_option = yes

		add_hitotsubashiha_influence_var = {
			VALUE = 10
		}

		ai_chance = {
			base = 100
		}
	}
}

eafp_japan.2008 = { # 쇼군과 내친왕의 결혼
	type = country_event
	placement = ROOT

	title = eafp_japan.2008.t
	desc = eafp_japan.2008.d
	flavor = eafp_japan.2008.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:royal_marriage_character

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3
	
	trigger = {
		ruler = {
			age > 16
			NOT = { has_variable = is_married }
		}
	}

	immediate = {
		capital = {
			save_scope_as = capital_scope
		}
		ruler = {
			save_scope_as = royal_marriage_character
			set_variable = getting_married # for clothing script
		}
		# wedding_daughter_sister 커스텀 로컬 만들기 TODO
	}

	option = {
		name = eafp_japan.2008.a
		default_option = yes
		add_modifier = { # influence mult
			name = royal_marriage
			months = normal_modifier_time
		}
		hidden_effect = {
			remove_variable = getting_married
		}
	}
}

# 히토츠바시 vs 난키

eafp_japan.2101 = { # 일엽지추 1853년 1월 1일
	type = country_event
	placement = root

	title = eafp_japan.2101.t
	desc = eafp_japan.2101.d
	flavor = eafp_japan.2101.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		ruler = {
			save_scope_as = ieyoshi_character
		}
		heir = {
			save_scope_as = iesada_character
		}
		hitotsubashiha_vs_nankiha_start_effect = yes
		trigger_event = {
			id = eafp_japan.2102
			years = 5
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.2101.a
		default_option = yes
		custom_tooltip = {
			text = hitotsubashiha_vs_nankiha_start_effect.tt
		}
		ai_chance = {
			base = 100
		}
	}
}

eafp_japan.2102 = { # 후계자 결정 1858년 1월 1일
	type = country_event
	placement = root

	title = eafp_japan.2102.t
	desc = eafp_japan.2102.d
	flavor = eafp_japan.2102.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		
	}

	trigger = {}
	
	option = {
		name = eafp_japan.2102.a
		custom_tooltip = {
			text = eafp_japan.2102.tta
			set_variable = shogun_support_hitotsubashiha
		}
		add_hitotsubashiha_influence_var = {
			VALUE = 10
		}
		add_hitotsubashiha_approval = {
			VALUE = 10
		}
		add_nankiha_approval = {
			VALUE = -10
		}
		ai_chance = {
			base = 0
		}
	}

	option = {
		name = eafp_japan.2102.b
		default_option = yes
		custom_tooltip = {
			text = eafp_japan.2102.ttb
			set_variable = shogun_support_nankiha
		}
		add_nankiha_influence_var = {
			VALUE = 10
		}
		add_hitotsubashiha_approval = {
			VALUE = -10
		}
		add_nankiha_approval = {
			VALUE = 10
		}
		ai_chance = {
			base = 100
		}
	}

	after = {
		trigger_event = {
			id = eafp_japan.2103
			days = { 100 300 }
		}
	}
}

eafp_japan.2103 = { # 이에사다 & 이에모치 사망용 히든 이벤트
	hidden = yes
	immediate = {
		ruler = {
			set_character_busy_and_immortal = no
			kill_character = yes
		}
	}
}

eafp_japan.2104 = { # 이에사다 -> 이에모치의 즉위
	type = country_event
	placement = root

	title = eafp_japan.2104.t
	desc = eafp_japan.2104.d
	flavor = eafp_japan.2104.f

	gui_window = event_window_1char_tabloid
	
	left_icon = scope:iemochi_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/law_icons/monarchy.dds"

	duration = 3

	trigger = {
		#Fired by on_action
	}

	immediate = {
		trigger_event = {
			id = eafp_japan.2107
			months = 90
		}
	}

	option = {
		name = eafp_japan.2104.a
		default_option = yes
		show_as_tooltip = {
			scope:iemochi_scope = {
				set_character_as_ruler = yes
			}
		}
		hidden_effect = {
			if = {
				limit = { has_variable = shogun_support_hitotsubashiha }
				trigger_event = { id = eafp_japan.2106 days = { 30 60 } }
			}
			else = {
				remove_variable = shogun_support_nankiha
			}
		}
	}
}

eafp_japan.2105 = { # 이에사다 -> 요시노부의 즉위
	type = country_event
	placement = root

	title = eafp_japan.2105.t
	desc = eafp_japan.2105.d
	flavor = eafp_japan.2105.f

	gui_window = event_window_1char_tabloid
	
	left_icon = scope:yoshinobu_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/law_icons/monarchy.dds"

	duration = 3

	trigger = {
		#Fired by on_action
	}

	immediate = {
		
	}

	option = {
		name = eafp_japan.2105.a
		default_option = yes
		show_as_tooltip = {
			scope:yoshinobu_scope = {
				set_character_as_ruler = yes
			}
		}
		hidden_effect = {
			if = {
				limit = { has_variable = shogun_support_nankiha }
				trigger_event = { id = eafp_japan.2106 days = { 30 60 } }
			}
			else = {
				remove_variable = shogun_support_hitotsubashiha
			}
		}
	}
}

eafp_japan.2106 = { # 쇼군의 뜻대로 후계가 세워지지 않음
	type = country_event
	placement = root

	title = eafp_japan.2106.t
	desc = eafp_japan.2106.d
	flavor = eafp_japan.2106.f

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/law_icons/monarchy.dds"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	trigger = {
		
	}

	immediate = {
		
	}

	option = {
		name = eafp_japan.2106.a
		default_option = yes
		add_bakuhantaisei_bakufu_authority = {
			VALUE = -250
		}
	}

	after = {
		if = {
			limit = { has_variable = shogun_support_nankiha }
			remove_variable = shogun_support_nankiha
		}
		else = {
			remove_variable = shogun_support_hitotsubashiha
		}
	}
}

eafp_japan.2107 = { # 후계자 결정, 이에모치가 쇼군일때
	type = country_event
	placement = root

	title = eafp_japan.2107.t
	desc = eafp_japan.2107.d
	flavor = eafp_japan.2107.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		
	}

	trigger = {}
	
	option = {
		name = eafp_japan.2107.a
		custom_tooltip = {
			text = eafp_japan.2102.tta
			set_variable = shogun_support_hitotsubashiha
		}
		add_hitotsubashiha_influence_var = {
			VALUE = 10
		}
		add_hitotsubashiha_approval = {
			VALUE = 10
		}
		add_nankiha_approval = {
			VALUE = -10
		}
		ai_chance = {
			base = 0
		}
	}

	option = {
		name = eafp_japan.2107.b
		default_option = yes
		custom_tooltip = {
			text = eafp_japan.2102.ttb
			set_variable = shogun_support_nankiha
		}
		add_nankiha_influence_var = {
			VALUE = 10
		}
		add_hitotsubashiha_approval = {
			VALUE = -10
		}
		add_nankiha_approval = {
			VALUE = 10
		}
		ai_chance = {
			base = 100
		}
	}

	after = {
		trigger_event = {
			id = eafp_japan.2103
			days = { 100 300 }
		}
	}
}

eafp_japan.2108 = { # 이에모치 -> 이에사토의 즉위
	type = country_event
	placement = root

	title = eafp_japan.2108.t
	desc = eafp_japan.2108.d
	flavor = eafp_japan.2108.f

	gui_window = event_window_1char_tabloid
	
	left_icon = scope:iesato_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/law_icons/monarchy.dds"

	duration = 3

	trigger = {
		#Fired by on_action
	}

	immediate = {

	}

	option = {
		name = eafp_japan.2108.a
		default_option = yes
		show_as_tooltip = {
			scope:iesato_scope = {
				set_character_as_ruler = yes
			}
		}
		hidden_effect = {
			if = {
				limit = { has_variable = shogun_support_hitotsubashiha }
				trigger_event = { id = eafp_japan.2106 days = { 30 60 } }
			}
			else = {
				remove_variable = shogun_support_nankiha
			}
		}
	}
}

eafp_japan.2109 = { # 이에모치 -> 요시노부의 즉위
	type = country_event
	placement = root

	title = eafp_japan.2109.t
	desc = eafp_japan.2109.d
	flavor = eafp_japan.2109.f

	gui_window = event_window_1char_tabloid
	
	left_icon = scope:yoshinobu_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/law_icons/monarchy.dds"

	duration = 3

	trigger = {
		#Fired by on_action
	}

	immediate = {
		
	}

	option = {
		name = eafp_japan.2109.a
		default_option = yes
		show_as_tooltip = {
			scope:yoshinobu_scope = {
				set_character_as_ruler = yes
			}
		}
		hidden_effect = {
			if = {
				limit = { has_variable = shogun_support_nankiha }
				trigger_event = { id = eafp_japan.2106 days = { 30 60 } }
			}
			else = {
				remove_variable = shogun_support_hitotsubashiha
			}
		}
	}
}

eafp_japan.2110 = { # 요시노부 -> 이에사토의 즉위
	type = country_event
	placement = root

	title = eafp_japan.2110.t
	desc = eafp_japan.2110.d
	flavor = eafp_japan.2110.f

	gui_window = event_window_1char_tabloid
	
	left_icon = scope:iesato_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/law_icons/monarchy.dds"

	duration = 3

	trigger = {
		#Fired by on_action
	}

	immediate = {

	}

	option = {
		name = eafp_japan.2110.a
		default_option = yes
		show_as_tooltip = {
			scope:iesato_scope = {
				set_character_as_ruler = yes
			}
		}
	}
}

eafp_japan.2181 = { # 히토츠바시파 정치인 암살
	type = country_event
	placement = root

	title = eafp_japan.2181.t
	desc = eafp_japan.2181.d
	flavor = eafp_japan.2181.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "eafp_sakuradamon_incident"
	}

	duration = 3

	trigger = {
	}

	immediate = {
		ordered_scope_character = {
			limit = {
				has_variable = eafp_bakuhantaisei_politician_influence
				is_hitotsubashiha = yes
			}
			order_by = {
				value = bakufu_kaikaku_bakufu_politicians_activeness
				multiply = 2000 # TODO
				add = var:eafp_bakuhantaisei_politician_influence_max
				add = var:eafp_bakuhantaisei_politician_influence
			}
			save_scope_as = target_character
			remove_bakufu_politician_role = yes
			kill_character = yes
		}
	}

	option = {
		name = eafp_japan.2181.a
		default_option = yes
		show_as_tooltip = {
			scope:target_character = {
				kill_character = yes
			}
		}
	}
}

eafp_japan.2182 = { # 난키파 정치인 암살
	type = country_event
	placement = root

	title = eafp_japan.2182.t
	desc = eafp_japan.2182.d
	flavor = eafp_japan.2182.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "eafp_sakuradamon_incident"
	}

	duration = 3

	trigger = {
	}

	immediate = {
		ordered_scope_character = {
			limit = {
				has_variable = eafp_bakuhantaisei_politician_influence
				is_nankiha = yes
			}
			order_by = {
				value = bakufu_kaikaku_bakufu_politicians_activeness
				multiply = 2000 # TODO
				add = var:eafp_bakuhantaisei_politician_influence_max
				add = var:eafp_bakuhantaisei_politician_influence
			}
			save_scope_as = target_character
			remove_bakufu_politician_role = yes
			kill_character = yes
		}
	}

	option = {
		name = eafp_japan.2182.a
		default_option = yes
		show_as_tooltip = {
			scope:target_character = {
				kill_character = yes
			}
		}
	}
}

# 막부 정책
# 새 화폐 도입
eafp_japan.2201 = { # 안정된 새 화폐
	type = country_event
	placement = root

	title = eafp_japan.2201.t
	desc = eafp_japan.2201.d
	flavor = eafp_japan.2201.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		add_modifier = {
			name = bakufu_seisaku_new_currency_complete_modifier
			months = long_modifier_time
		}
		if = {
			limit = { exists = s:STATE_KANTO.region_state:JAP }
			add_bakuhantaisei_state_loyalty = {
				TARGET = s:STATE_KANTO.region_state:JAP
				VALUE = 5
			}
		}
		if = {
			limit = { exists = s:STATE_KANSAI.region_state:JAP }
			add_bakuhantaisei_state_loyalty = {
				TARGET = s:STATE_KANSAI.region_state:JAP
				VALUE = 5
			}
		}
		add_bakuhantaisei_bakufu_authority = {
			VALUE = 100
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2201.a
		
		show_as_tooltip = {
			add_modifier = {
				name = bakufu_seisaku_new_currency_complete_modifier
				months = long_modifier_time
			}
			if = {
				limit = { exists = s:STATE_KANTO.region_state:JAP }
				add_bakuhantaisei_state_loyalty = {
					TARGET = s:STATE_KANTO.region_state:JAP
					VALUE = 5
				}
			}
			if = {
				limit = { exists = s:STATE_KANSAI.region_state:JAP }
				add_bakuhantaisei_state_loyalty = {
					TARGET = s:STATE_KANSAI.region_state:JAP
					VALUE = 5
				}
			}
			add_bakuhantaisei_bakufu_authority = {
				VALUE = 250
			}
		}
	}
}

eafp_japan.2202 = { # 화폐 혼란
	type = country_event
	placement = root

	title = eafp_japan.2202.t
	desc = eafp_japan.2202.d
	flavor = eafp_japan.2202.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		add_modifier = {
			name = bakufu_seisaku_new_currency_fail_modifier
			months = long_modifier_time
		}
		if = {
			limit = { exists = s:STATE_KANTO.region_state:JAP }
			add_bakuhantaisei_state_loyalty = {
				TARGET = s:STATE_KANTO.region_state:JAP
				VALUE = -15
			}
		}
		if = {
			limit = { exists = s:STATE_KANSAI.region_state:JAP }
			add_bakuhantaisei_state_loyalty = {
				TARGET = s:STATE_KANSAI.region_state:JAP
				VALUE = -15
			}
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2202.a
		
		show_as_tooltip = {
			add_modifier = {
				name = bakufu_seisaku_new_currency_fail_modifier
				months = long_modifier_time
			}
			if = {
				limit = { exists = s:STATE_KANTO.region_state:JAP }
				add_bakuhantaisei_state_loyalty = {
					TARGET = s:STATE_KANTO.region_state:JAP
					VALUE = -15
				}
			}
			if = {
				limit = { exists = s:STATE_KANSAI.region_state:JAP }
				add_bakuhantaisei_state_loyalty = {
					TARGET = s:STATE_KANSAI.region_state:JAP
					VALUE = -15
				}
			}
			add_bakuhantaisei_bakufu_authority = {
				VALUE = -100
			}
		}
	}
}

eafp_japan.2203 = { # 광맥 발견
	type = country_event
	placement = root

	title = eafp_japan.2203.t
	desc = eafp_japan.2203.d
	flavor = eafp_japan.2203.f

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = {
		video = "europenorthamerica_gold_prospectors"
	}

	duration = 3

	trigger = {
		any_scope_state = {
			OR = {
				state_region = s:STATE_CHUBU
				state_region = s:STATE_CHUGOKU
			}
			is_incorporated = yes
			NOT = {
				state_region = {
					remaining_undepleted = {
						type = bg_gold_fields
						amount >= 1
					}
				}
			}
			has_potential_resource = bg_gold_fields
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				OR = {
					state_region = s:STATE_CHUBU
					state_region = s:STATE_CHUGOKU
				}
				is_incorporated = yes
				NOT = {
					state_region = {
						remaining_undepleted = {
							type = bg_gold_fields
							amount >= 1
						}
					}
				}
				has_potential_resource = bg_gold_fields
			}
			save_scope_as = gold_state
		}
		scope:gold_state = {
			force_resource_discovery = bg_gold_fields
		}
		remove_modifier = exploring_for_ore_modifier
	}

	option = {
		name = eafp_japan.2203.a
		
		default_option = yes

		show_as_tooltip = {
			scope:gold_state = {
				force_resource_discovery = bg_gold_fields
			}
			remove_modifier = exploring_for_ore_modifier
		}

		ai_chance = {
			base = 1
		}
	}
}
# 중농치수
eafp_japan.2211 = { # 에도에서 내려가
	type = country_event
	placement = root

	title = eafp_japan.2211.t
	desc = eafp_japan.2211.d
	flavor = eafp_japan.2211.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		add_modifier = {
			name = bakufu_seisaku_junochisui_complete_modifier
			months = long_modifier_time
		}
		if = {
			limit = { exists = s:STATE_KANTO.region_state:JAP }
			add_bakuhantaisei_state_independency = {
				TARGET = s:STATE_KANTO.region_state:JAP
				VALUE = -10
			}
		}
		if = {
			limit = { exists = s:STATE_KANSAI.region_state:JAP }
			add_bakuhantaisei_state_independency = {
				TARGET = s:STATE_KANSAI.region_state:JAP
				VALUE = -10
			}
		}
		add_bakuhantaisei_bakufu_authority = {
			VALUE = 100
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2211.a
		
		show_as_tooltip = {
			add_modifier = {
				name = bakufu_seisaku_junochisui_complete_modifier
				months = long_modifier_time
			}
			if = {
				limit = { exists = s:STATE_KANTO.region_state:JAP }
				add_bakuhantaisei_state_independency = {
					TARGET = s:STATE_KANTO.region_state:JAP
					VALUE = -10
				}
			}
			if = {
				limit = { exists = s:STATE_KANSAI.region_state:JAP }
				add_bakuhantaisei_state_independency = {
					TARGET = s:STATE_KANSAI.region_state:JAP
					VALUE = -10
				}
			}
			add_bakuhantaisei_bakufu_authority = {
				VALUE = 100
			}
		}
	}
}

eafp_japan.2212 = { # 
	type = country_event
	placement = root

	title = eafp_japan.2212.t
	desc = eafp_japan.2212.d
	flavor = eafp_japan.2212.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		if = {
			limit = { exists = s:STATE_KANTO.region_state:JAP }
			add_bakuhantaisei_state_independency = {
				TARGET = s:STATE_KANTO.region_state:JAP
				VALUE = 10
			}
		}
		if = {
			limit = { exists = s:STATE_KANSAI.region_state:JAP }
			add_bakuhantaisei_state_independency = {
				TARGET = s:STATE_KANSAI.region_state:JAP
				VALUE = 10
			}
		}
		add_bakuhantaisei_bakufu_authority = {
			VALUE = -100
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2212.a
		
		show_as_tooltip = {
			if = {
				limit = { exists = s:STATE_KANTO.region_state:JAP }
				add_bakuhantaisei_state_independency = {
					TARGET = s:STATE_KANTO.region_state:JAP
					VALUE = 10
				}
			}
			if = {
				limit = { exists = s:STATE_KANSAI.region_state:JAP }
				add_bakuhantaisei_state_independency = {
					TARGET = s:STATE_KANSAI.region_state:JAP
					VALUE = 10
				}
			}
			add_bakuhantaisei_bakufu_authority = {
				VALUE = -100
			}
		}
	}
}

eafp_japan.2213 = { # 늪지 개간
	type = country_event
	placement = scope:land_reclamation_state

	title = eafp_japan.2213.t
	desc = eafp_japan.2213.d
	flavor = eafp_japan.2213.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_japan = yes
			}
			save_scope_as = land_reclamation_state
		}
		scope:land_reclamation_state = {
			state_region = {
				add_arable_land = 2
			}
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2213.a
		
		show_as_tooltip = {
			scope:land_reclamation_state = {
				state_region = {
					add_arable_land = 2
				}
			}
		}
	}
}
# 상지령
eafp_japan.2221 = {
	type = country_event
	placement = root

	title = eafp_japan.2221.t
	desc = eafp_japan.2221.d
	flavor = eafp_japan.2221.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		add_modifier = {
			name = bakufu_seisaku_junochisui_complete_modifier
			months = long_modifier_time
		}
		if = {
			limit = { exists = s:STATE_KANTO.region_state:JAP }
			add_bakuhantaisei_state_independency = {
				TARGET = s:STATE_KANTO.region_state:JAP
				VALUE = -15
			}
		}
		if = {
			limit = { exists = s:STATE_KANSAI.region_state:JAP }
			add_bakuhantaisei_state_independency = {
				TARGET = s:STATE_KANSAI.region_state:JAP
				VALUE = -15
			}
		}
		add_bakuhantaisei_bakufu_authority = {
			VALUE = 150
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2221.a
		
		show_as_tooltip = {
			add_modifier = {
				name = bakufu_seisaku_junochisui_complete_modifier
				months = long_modifier_time
			}
			if = {
				limit = { exists = s:STATE_KANTO.region_state:JAP }
				add_bakuhantaisei_state_independency = {
					TARGET = s:STATE_KANTO.region_state:JAP
					VALUE = -15
				}
			}
			if = {
				limit = { exists = s:STATE_KANSAI.region_state:JAP }
				add_bakuhantaisei_state_independency = {
					TARGET = s:STATE_KANSAI.region_state:JAP
					VALUE = -15
				}
			}
			add_bakuhantaisei_bakufu_authority = {
				VALUE = 150
			}
		}
	}
}

eafp_japan.2222 = {
	type = country_event
	placement = root

	title = eafp_japan.2222.t
	desc = eafp_japan.2222.d
	flavor = eafp_japan.2222.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		if = {
			limit = { exists = s:STATE_KANTO.region_state:JAP }
			add_bakuhantaisei_state_loyalty = {
				TARGET = s:STATE_KANTO.region_state:JAP
				VALUE = -15
			}
		}
		if = {
			limit = { exists = s:STATE_KANSAI.region_state:JAP }
			add_bakuhantaisei_state_loyalty = {
				TARGET = s:STATE_KANSAI.region_state:JAP
				VALUE = -15
			}
		}
		add_bakuhantaisei_bakufu_authority = {
			VALUE = -150
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2222.a
		
		show_as_tooltip = {
			if = {
				limit = { exists = s:STATE_KANTO.region_state:JAP }
				add_bakuhantaisei_state_loyalty = {
					TARGET = s:STATE_KANTO.region_state:JAP
					VALUE = -15
				}
			}
			if = {
				limit = { exists = s:STATE_KANSAI.region_state:JAP }
				add_bakuhantaisei_state_loyalty = {
					TARGET = s:STATE_KANSAI.region_state:JAP
					VALUE = -15
				}
			}
			add_bakuhantaisei_bakufu_authority = {
				VALUE = -150
			}
		}
	}
}
# 강기숙정
eafp_japan.2231 = {
	type = country_event
	placement = root

	title = eafp_japan.2231.t
	desc = eafp_japan.2231.d
	flavor = eafp_japan.2231.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		if = {
			limit = { exists = s:STATE_KANTO.region_state:JAP }
			s:STATE_KANTO.region_state:JAP = {
				add_loyalists_in_state = {
					value = medium_radicals
				}
			}
		}
		if = {
			limit = { exists = s:STATE_KANSAI.region_state:JAP }
			s:STATE_KANSAI.region_state:JAP = {
				add_loyalists_in_state = {
					value = medium_radicals
				}
			}
		}
		add_bakuhantaisei_bakufu_authority = {
			VALUE = 100
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2231.a
		
		show_as_tooltip = {
			if = {
				limit = { exists = s:STATE_KANTO.region_state:JAP }
				s:STATE_KANTO.region_state:JAP = {
					add_loyalists_in_state = {
						value = medium_radicals
					}
				}
			}
			if = {
				limit = { exists = s:STATE_KANSAI.region_state:JAP }
				s:STATE_KANSAI.region_state:JAP = {
					add_loyalists_in_state = {
						value = medium_radicals
					}
				}
			}
			add_bakuhantaisei_bakufu_authority = {
				VALUE = 100
			}
		}
	}
}

eafp_japan.2232 = {
	type = country_event
	placement = root

	title = eafp_japan.2232.t
	desc = eafp_japan.2232.d
	flavor = eafp_japan.2232.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_farmers_market"
	}

	duration = 3

	immediate = {
		if = {
			limit = { exists = s:STATE_KANTO.region_state:JAP }
			s:STATE_KANTO.region_state:JAP = {
				add_radicals_in_state = {
					value = medium_radicals
				}
			}
		}
		if = {
			limit = { exists = s:STATE_KANSAI.region_state:JAP }
			s:STATE_KANSAI.region_state:JAP = {
				add_radicals_in_state = {
					value = medium_radicals
				}
			}
		}
		add_bakuhantaisei_bakufu_authority = {
			VALUE = -100
		}
	}

	trigger = {}

	option = {
		default_option = yes
		name = eafp_japan.2232.a
		
		show_as_tooltip = {
			if = {
				limit = { exists = s:STATE_KANTO.region_state:JAP }
				s:STATE_KANTO.region_state:JAP = {
					add_radicals_in_state = {
						value = medium_radicals
					}
				}
			}
			if = {
				limit = { exists = s:STATE_KANSAI.region_state:JAP }
				s:STATE_KANSAI.region_state:JAP = {
					add_radicals_in_state = {
						value = medium_radicals
					}
				}
			}
			add_bakuhantaisei_bakufu_authority = {
				VALUE = -100
			}
		}
	}
}

# 파벌 탄원
eafp_japan.2301 = { # 히토츠바시파의 이국선타불령 부활 요구
	type = country_event
	placement = root

	title = eafp_japan.2301.t
	desc = eafp_japan.2301.d
	flavor = eafp_japan.2301.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	immediate = {
		set_variable = {
			name = eafpjap2301_cooldown
			value = yes
			months = normal_modifier_time
		}
		
		set_variable = eafpjap2301_ing # '이국선타불령 부활' 버튼 잠깐 막는 용
	}

	option = { # ㅇㅇ
		name = eafp_japan.2301.a
		add_hitotsubashiha_approval = {
			VALUE = 10
		}
		add_modifier = ikokusen_uchiharairei_modifier
		add_modifier = {
			name = modifier_successfully_met_petition_legitimacy
			months = long_modifier_time
			is_decaying = yes
			multiplier = {
				value = bakufu_hitotsubashiha_hiritsu
				multiply = 2
			}
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2301.b
		default_option = yes
		add_hitotsubashiha_approval = {
			VALUE = -10
		}
	}

	after = {
		remove_variable = eafpjap2301_ing
	}
}

eafp_japan.2302 = { # 난키파의 막부 개혁 시행 요구 - 새 화폐 도입
	type = country_event
	placement = root

	title = eafp_japan.2302.t
	desc = eafp_japan.2302.d
	flavor = eafp_japan.2302.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	trigger = {
		#je:je_bakufu_kaikaku = { "scripted_bar_progress(bakufu_kaikaku_nankiha_approval_progress_bar)" <= 25 }
		NOT = { has_variable = je_bakufu_seisaku_new_currency_start }
		NOT = { has_variable = eafpjap2302_cooldown }
	}

	immediate = {
		set_variable = {
			name = eafpjap2302_cooldown
			months = normal_modifier_time
		}
	}

	option = { # ㅇㅇ
		name = eafp_japan.2302.a
		add_journal_entry = {
			type = je_bakufu_seisaku_new_currency_petition
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2302.b
		default_option = yes
		add_nankiha_approval = {
			VALUE = -10
		}
	}
}

eafp_japan.2303 = { # 난키파의 막부 개혁 시행 요구 - 중농치수
	type = country_event
	placement = root

	title = eafp_japan.2303.t
	desc = eafp_japan.2303.d
	flavor = eafp_japan.2303.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	trigger = {
		#je:je_bakufu_kaikaku = { "scripted_bar_progress(bakufu_kaikaku_nankiha_approval_progress_bar)" <= 25 }
		NOT = { has_variable = je_bakufu_seisaku_junochisui_start }
		NOT = { has_variable = eafpjap2303_cooldown }
	}

	immediate = {
		set_variable = {
			name = eafpjap2303_cooldown
			months = normal_modifier_time
		}
	}

	option = { # ㅇㅇ
		name = eafp_japan.2303.a
		add_journal_entry = {
			type = je_bakufu_seisaku_junochisui_petition
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2303.b
		default_option = yes
		add_nankiha_approval = {
			VALUE = -10
		}
	}
}

eafp_japan.2304 = { # 난키파의 막부 개혁 시행 요구 - 상지령
	type = country_event
	placement = root

	title = eafp_japan.2304.t
	desc = eafp_japan.2304.d
	flavor = eafp_japan.2304.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	trigger = {
		#je:je_bakufu_kaikaku = { "scripted_bar_progress(bakufu_kaikaku_nankiha_approval_progress_bar)" <= 25 }
		NOT = { has_variable = je_bakufu_seisaku_agechirei_start }
		NOT = { has_variable = eafpjap2304_cooldown }
	}

	immediate = {
		set_variable = {
			name = eafpjap2304_cooldown
			months = normal_modifier_time
		}
	}

	option = { # ㅇㅇ
		name = eafp_japan.2304.a
		add_journal_entry = {
			type = je_bakufu_seisaku_agechirei_petition
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2304.b
		default_option = yes
		add_nankiha_approval = {
			VALUE = -10
		}
	}
}

eafp_japan.2305 = { # 난키파의 막부 개혁 시행 요구 - 강기숙정
	type = country_event
	placement = root

	title = eafp_japan.2305.t
	desc = eafp_japan.2305.d
	flavor = eafp_japan.2305.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	trigger = {
		#je:je_bakufu_kaikaku = { "scripted_bar_progress(bakufu_kaikaku_nankiha_approval_progress_bar)" <= 25 }
		NOT = { has_variable = je_bakufu_seisaku_kokishukusei_start }
		NOT = { has_variable = eafpjap2305_cooldown }
	}

	immediate = {
		set_variable = {
			name = eafpjap2305_cooldown
			months = normal_modifier_time
		}
	}

	option = { # ㅇㅇ
		name = eafp_japan.2305.a
		add_journal_entry = {
			type = je_bakufu_seisaku_kokishukusei_petition
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2305.b
		default_option = yes
		add_nankiha_approval = {
			VALUE = -10
		}
	}
}

eafp_japan.2306 = { # 난키파의 이국선타불령 폐지 요구
	type = country_event
	placement = root

	title = eafp_japan.2306.t
	desc = eafp_japan.2306.d
	flavor = eafp_japan.2306.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	immediate = {
		set_variable = {
			name = eafpjap2306_cooldown
			value = yes
			months = normal_modifier_time
		}
		
		set_variable = eafpjap2306_ing # '이국선타불령 폐지' 버튼 잠깐 막는 용
	}

	option = { # ㅇㅇ
		name = eafp_japan.2306.a
		add_nankiha_approval = {
			VALUE = 10
		}
		remove_modifier = ikokusen_uchiharairei_modifier
		add_modifier = {
			name = modifier_successfully_met_petition_legitimacy
			months = long_modifier_time
			is_decaying = yes
			multiplier = {
				value = bakufu_nankiha_hiritsu
				multiply = 2
			}
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2306.b
		default_option = yes
		add_nankiha_approval = {
			VALUE = -10
		}
	}

	after = {
		remove_variable = eafpjap2306_ing
	}
}

eafp_japan.2307 = { # 히토츠바시파의 정략결혼 요구 TODO
	type = country_event
	placement = root

	title = eafp_japan.2307.t
	desc = eafp_japan.2307.d
	flavor = eafp_japan.2307.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	trigger = {
		#je:je_bakufu_kaikaku = { "scripted_bar_progress(bakufu_kaikaku_hitotsubashiha_approval_progress_bar)" <= 25 }
		NOT = { has_variable = eafpjap2307_cooldown }
	}

	immediate = {
		set_variable = {
			name = eafpjap2307_cooldown
			value = yes
			months = normal_modifier_time
		}
		
		set_variable = eafpjap2307_ing # 버튼 잠깐 막는 용
	}

	option = { # ㅇㅇ
		name = eafp_japan.2307.a
		add_hitotsubashiha_approval = {
			VALUE = 10
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2307.b
		default_option = yes
		add_hitotsubashiha_approval = {
			VALUE = -10
		}
	}

	after = {
		remove_variable = eafpjap2307_ing
	}
}

eafp_japan.2308 = { # 히토츠바시파의 교토 상경 요구 TODO
	type = country_event
	placement = root

	title = eafp_japan.2308.t
	desc = eafp_japan.2308.d
	flavor = eafp_japan.2308.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	trigger = {
		#je:je_bakufu_kaikaku = { "scripted_bar_progress(bakufu_kaikaku_hitotsubashiha_approval_progress_bar)" <= 25 }
		NOT = { has_variable = eafpjap2308_cooldown }
	}

	immediate = {
		set_variable = {
			name = eafpjap2308_cooldown
			value = yes
			months = normal_modifier_time
		}
		
		set_variable = eafpjap2308_ing # 버튼 잠깐 막는 용
	}

	option = { # ㅇㅇ
		name = eafp_japan.2308.a
		add_hitotsubashiha_approval = {
			VALUE = 10
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2308.b
		default_option = yes
		add_hitotsubashiha_approval = {
			VALUE = -10
		}
	}

	after = {
		remove_variable = eafpjap2308_ing
	}
}

eafp_japan.2309 = { # 조정의 양이 요구 TODO
	type = country_event
	placement = root

	title = eafp_japan.2309.t
	desc = eafp_japan.2309.d
	flavor = eafp_japan.2309.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 3

	trigger = {
		#je:je_bakufu_kaikaku = { "scripted_bar_progress(bakufu_kaikaku_hitotsubashiha_approval_progress_bar)" <= 25 }
		NOT = { has_variable = eafpjap2309_cooldown }
	}

	immediate = {
		set_variable = {
			name = eafpjap2309_cooldown
			value = yes
			months = normal_modifier_time
		}
		
		set_variable = eafpjap2309_ing # 버튼 잠깐 막는 용
	}

	option = { # ㅇㅇ
		name = eafp_japan.2309.a
		add_hitotsubashiha_approval = {
			VALUE = 10
		}
	}

	option = { # ㄴㄴ
		name = eafp_japan.2309.b
		default_option = yes
		add_hitotsubashiha_approval = {
			VALUE = -10
		}
	}

	after = {
		remove_variable = eafpjap2309_ing
	}
}

eafp_japan.2310 = { # 히토츠바시파 정치인 사임 요구
	type = country_event
	placement = root

	title = eafp_japan.2310.t
	desc = eafp_japan.2310.d
	flavor = eafp_japan.2310.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 1

	cooldown = { months = 12 }

	immediate = {
		ordered_scope_character = {
			limit = {
				has_variable = eafp_bakuhantaisei_politician_influence
				is_hitotsubashiha = yes
			}
			order_by = {
				value = bakufu_kaikaku_bakufu_politicians_activeness
				multiply = 2000 # TODO
				add = var:eafp_bakuhantaisei_politician_influence_max
				add = var:eafp_bakuhantaisei_politician_influence
			}
			save_scope_as = target_character
		}
	}

	option = { # ㅇㅇ
		name = eafp_japan.2310.a
		default_option = yes

		add_journal_entry = {
			type = je_eafpjap2310
			target = scope:target_character
		}
		
	}

	option = { # ㄴㄴ
		name = eafp_japan.2310.b
		default_option = yes
		add_nankiha_approval = {
			VALUE = -10
		}
	}
}

eafp_japan.2311 = { # 난키파 정치인 사임 요구
	type = country_event
	placement = root

	title = eafp_japan.2311.t
	desc = eafp_japan.2311.d
	flavor = eafp_japan.2311.f

	icon = "gfx/interface/icons/event_icons/event_scale.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "europenorthamerica_capitalists_meeting"
	}

	duration = 1

	cooldown = { months = 12 }

	immediate = {
		ordered_scope_character = {
			limit = {
				has_variable = eafp_bakuhantaisei_politician_influence
				is_nankiha = yes
			}
			order_by = {
				value = bakufu_kaikaku_bakufu_politicians_activeness
				multiply = 2000 # TODO
				add = var:eafp_bakuhantaisei_politician_influence_max
				add = var:eafp_bakuhantaisei_politician_influence
			}
			save_scope_as = target_character
		}
	}

	option = { # ㅇㅇ
		name = eafp_japan.2311.a
		default_option = yes

		add_journal_entry = {
			type = je_eafpjap2311
			target = scope:target_character
		}
		
	}

	option = { # ㄴㄴ
		name = eafp_japan.2311.b
		default_option = yes
		add_hitotsubashiha_approval = {
			VALUE = -10
		}
	}
}

# 막부 개혁
eafp_japan.2401 = { # 전습대
	type = country_event
	placement = root
	title = eafp_japan.2401.t
	desc = eafp_japan.2401.d
	flavor = eafp_japan.2401.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_military.dds"
	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		has_modifier = western_military_consultant
		ig:ig_armed_forces = {
			OR = {
				has_ideology = ideology_stratocratic
				NOT = { has_ideology = ideology_loyalist }
			}
		}
	}

	immediate = {
		ig:ig_armed_forces = {
			save_scope_as = samurai_ig
		}
	}

	option = {
		name = eafp_japan.2401.a
		default_option = yes
		scope:samurai_ig = {
			if = {
				limit = { has_ideology = ideology_stratocratic }
				remove_ideology = ideology_stratocratic
			}
			if = {
				limit = { NOT = { has_ideology = ideology_loyalist } }
				add_ideology = ideology_loyalist
			}
		}
	}
}

eafp_japan.2999 = { # 쇼군의 꼭두각시
	type = country_event
	placement = root

	title = eafp_japan.2999.t
	desc = eafp_japan.2999.d
	flavor = eafp_japan.2999.f

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	event_image = { 
		video = "asia_confucianism_shinto"
	}

	duration = 3

	immediate = {
		
	}

	option = {
		name = eafp_japan.2999.a
		default_option = yes
		add_modifier = {
			name = japan_diplomatic_reward
			months = normal_modifier_time
		}
		add_modifier = {
			name = japan_production_reward
			months = normal_modifier_time
		}

	}
}

eafp_japan.3001 = { # 대정봉환
	type = country_event
	placement = root

	title = eafp_japan.3001.t
	desc = eafp_japan.3001.d
	flavor = eafp_japan.3001.f

	duration = 1

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	event_image = {
		video = "eafp_taisei_hokan"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		trigger_event = {
			id = eafp_japan.3002
			days = { 15 30 }
		}
		trigger_event = {
			id = eafp_japan.3003
			days = { 30 60 }
			popup = yes
		}
		trigger_event = {
			id = eafp_japan.3004
			days = { 45 60 }
		}
		trigger_event = {
			id = eafp_japan.3005
			days = { 60 75 }
			popup = yes
		}
	}

	option = {
		name = eafp_japan.3001.a
		default_option = yes
	}
}

eafp_japan.3002 = { # 도막파의 폭동
	type = country_event
	placement = root

	title = eafp_japan.3002.t
	desc = eafp_japan.3002.d
	flavor = eafp_japan.3002.f

	duration = 1

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	event_image = {
		video = "eafp_taisei_hokan"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		
	}

	option = {
		name = eafp_japan.3002.a
		default_option = yes

		capital.state_region = {
			add_devastation = 10
		}
	}
}

eafp_japan.3003 = { # 왕정복고 쿠데타
	type = country_event
	placement = root

	title = eafp_japan.3003.t
	desc = eafp_japan.3003.d
	flavor = eafp_japan.3003.f

	duration = 1

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	event_image = {
		video = "eafp_taisei_hokan"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		create_country = {
			tag = NIP
			origin = this
			province = p:x8EC4C9
			on_created = {
				change_relations = {
					country = c:JAP
					value = -50
				}
			}
		}
		c:NIP = {
			random_scope_state = {
				create_building={
					building="building_barracks"
					level=2
					reserves=1
				}
			}
			create_bidirectional_truce = {
				country = c:JAP
				months = 36
			}
			#ig:ig_landowners = {
			#	set_interest_group_name = ig_daimyo
			#}
			#ig:ig_devout = {
			#	set_interest_group_name = ig_kokugakusha
			#}
			#ig:ig_intelligentsia = {
			#	set_interest_group_name = ig_rangakusha
			#}
			#ig:ig_petty_bourgeoisie = {
			#	set_interest_group_name = ig_kashin
			#}
			#ig:ig_trade_unions = {
			#	set_interest_group_name = ig_shokunin
			#}
			#ig:ig_industrialists = {
			#	set_interest_group_name = ig_shonin
			#}
		}
	}

	option = {
		name = eafp_japan.3003.a
		default_option = yes
	}
}

eafp_japan.3004 = { # 저택에서의 전투
	type = country_event
	placement = root

	title = eafp_japan.3004.t
	desc = eafp_japan.3004.d
	flavor = eafp_japan.3004.f

	duration = 1

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	event_image = {
		video = "eafp_taisei_hokan"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		
	}

	option = {
		name = eafp_japan.3004.a
		default_option = yes
	}
}

eafp_japan.3005 = { # 막부 타도 선언
	type = country_event
	placement = root

	title = eafp_japan.3005.t
	desc = eafp_japan.3005.d
	flavor = eafp_japan.3005.f

	duration = 1

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	event_image = {
		video = "eafp_taisei_hokan"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		assign_tobaku_hans = yes
		set_variable = assign_tobaku_hans_var
		c:NIP = { trigger_event = { id = eafp_japan.3006 days = 15 } }
		trigger_event = { id = eafp_japan.3007 days = 30 }
		c:NIP = { trigger_event = { id = eafp_japan.3008 days = 30 } }
	}

	option = {
		name = eafp_japan.3005.a
		default_option = yes
	}

	option = {
		name = eafp_japan.3005.b

		play_as = c:NIP
	}
}

eafp_japan.3006 = { # 의견일치
	type = country_event
	placement = root

	title = eafp_japan.3006.t
	desc = eafp_japan.3006.d
	flavor = eafp_japan.3006.f

	duration = 1

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	event_image = {
		video = "eafp_taisei_hokan"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		every_country = {
			limit = {
				has_variable = tobaku_han_var
			}
			c:NIP = {
				annex = PREV
			}
		}
		c:NIP = {
			add_technology_researched = napoleonic_warfare
			add_technology_researched = general_staff
		}
	}

	option = {
		name = eafp_japan.3006.a
		default_option = yes
	}
}

eafp_japan.3007 = { # 전쟁의 시작
	type = country_event
	placement = root

	title = eafp_japan.3007.t
	desc = eafp_japan.3007.d
	flavor = eafp_japan.3007.f

	duration = 1

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		create_diplomatic_play = {
			target_country = c:NIP
			type = dp_annex_war
			escalation = 80
			add_war_goal = { holder = c:NIP target_country = c:JAP type = annex_country }
		}
		change_infamy = -200
	}

	option = {
		name = eafp_japan.3007.a
		default_option = yes

		add_journal_entry = { type = je_boshin_war_sabaku }
	}
}

eafp_japan.3008 = { # 전쟁의 시작
	type = country_event
	placement = root

	title = eafp_japan.3008.t
	desc = eafp_japan.3008.d
	flavor = eafp_japan.3008.f

	duration = 1

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		
	}

	option = {
		name = eafp_japan.3008.a
		default_option = yes

		add_journal_entry = { type = je_boshin_war_tobaku }
	}
}



eafp_japan.4001 = { # 개항 요구
	type = country_event
	placement = root
	title = eafp_japan.4001.t
	desc = eafp_japan.4001.d
	flavor = eafp_japan.4001.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

	event_image = {
		video = "votp_gunboat_diplomacy"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		set_variable = eafpjap2008
	}

	option = {
		name = eafp_japan.4001.a
		default_option = yes
	}
}

eafp_japan.4002 = { # 류큐의 개항
	type = country_event
	placement = root
	title = eafp_japan.4002.t
	desc = eafp_japan.4002.d
	flavor = eafp_japan.4002.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	
	event_image = {
		video = "asia_westerners_arriving"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
	}

	immediate = {
		c:RYU = {
			save_scope_as = ryu_scope
		}
	}

	option = {
		name = eafp_japan.4002.a
		c:RYU = {
			activate_law = law_type:law_free_trade
		}
	}
}

eafp_japan.4003 = { # 천황의 밀칙
	type = country_event
	placement = root
	title = eafp_japan.4003.t
	desc = eafp_japan.4003.d
	flavor = eafp_japan.4003.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	event_image = {
		video = "asia_confucianism_shinto"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
	}

	immediate = {
	}

	option = {
		name = eafp_japan.4003.a
		every_scope_state = {
			limit = { state_is_in_japan = yes }
			ROOT = {
				add_bakuhantaisei_state_loyalty = {
					TARGET = PREV
					VALUE = -10
				}
			}
		}
		add_nankiha_approval = {
			VALUE = -10
		}
	}

	option = {
		name = eafp_japan.4003.b
		add_nankiha_approval = {
			VALUE = -25
		}
	}
}

eafp_japan.4004 = { # 외국인의 후지산 등반
	type = country_event
	placement = root
	title = eafp_japan.4004.t
	desc = eafp_japan.4004.d
	flavor = eafp_japan.4004.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	event_image = {
		video = "asia_westerners_arriving"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		any_country = {
			country_rank >= rank_value:great_power
			has_interest_marker_in_region = region_japan
		}
	}

	immediate = {
		random_country = {
			limit = {
				country_rank >= rank_value:great_power
				has_interest_marker_in_region = region_japan
			}
			save_scope_as = country_scope
		}
	}

	option = {
		name = eafp_japan.4004.a
		add_radicals = {
			value = small_radicals
		}
	}
}

eafp_japan.4005 = { # 외국인 살해
	type = country_event
	placement = scope:state_scope

	duration = 3

	title = eafp_japan.4005.t
	desc = eafp_japan.4005.d
	flavor = eafp_japan.4005.f

	event_image = {
		video = "southamerica_public_figure_assassination"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		has_journal_entry = je_bakufu_kaikaku
		any_scope_state = {
			state_is_in_japan = yes
			has_port = yes
			radical_fraction = {
				value >= 0.1
			}
		}
		NOT = { has_law = law_type:law_isolationism }
		any_country = {
			country_rank >= rank_value:major_power
			has_interest_marker_in_region = region_japan
			NOT = { has_war_with = ROOT }
		}
	}

	cooldown =  { months = 12 }
	
	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_japan = yes
				has_port = yes
				radical_fraction = {
					value >= 0.1
				}
			}
			save_scope_as = state_scope
		}
		random_country = {
			limit = {
				country_rank >= rank_value:great_power
				has_interest_marker_in_region = region_japan
				NOT = { has_war_with = ROOT }
			}
			save_scope_as = country_scope
		}
	}
	
	option = {
		name = eafp_japan.4005.a
		default_option = yes

		add_treasury = {
			value = money_amount_multiplier_medium
			multiply = -1
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:state_scope
			VALUE = -10
		}
		scope:country_scope = {
			change_relations = {
				country = ROOT
				value = 15
			}
		}
	}

	option = {
		name = eafp_japan.4005.b

		add_bakuhantaisei_state_independency = {
			TARGET = scope:state_scope
			VALUE = 5
		}
		hidden_effect = {
			random_list = {
				10 = {
					trigger_event = { # 돈 빌려줘
						id = eafp_japan.4006
						days = { 10 30 }
					}
				}
				20 = {
					trigger_event = { # 포격
						id = eafp_japan.4007
						days = { 10 30 }
					}
				}
				10 = { }
			}
		}
	}

	option = {
		name = eafp_japan.4005.c

		scope:country_scope = {
			change_relations = {
				country = ROOT
				value = -35
			}
		}
		scope:state_scope = {
			add_loyalists_in_state = {
				value = small_radicals
			}
		}
	}
}

eafp_japan.4006 = { # 외국인 살해 - 번의 반응
	type = country_event
	placement = scope:state_scope

	duration = 3

	title = eafp_japan.4006.t
	desc = eafp_japan.4006.d
	flavor = eafp_japan.4006.f

	event_image = {
		video = "asia_confucianism_shinto"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		
	}
	
	option = {
		name = eafp_japan.4006.a
		default_option = yes

		add_treasury = {
			value = money_amount_multiplier_very_large
			multiply = -10
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:state_scope
			VALUE = -15
		}
	}

	option = {
		name = eafp_japan.4006.b

		add_bakuhantaisei_state_independency = {
			TARGET = scope:state_scope
			VALUE = 10
		}
		add_bakuhantaisei_state_loyalty = {
			TARGET = scope:state_scope
			VALUE = -10
		}
	}
}

eafp_japan.4007 = { # 외국인 살해 - 포격전
	type = country_event
	placement = scope:state_scope

	duration = 3

	title = eafp_japan.4007.t
	desc = eafp_japan.4007.d
	flavor = eafp_japan.4007.f

	event_image = {
		video = "votp_gunboat_diplomacy"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	immediate = {
		
	}
	
	option = {
		name = eafp_japan.4007.a
		default_option = yes

		scope:state_scope.state_region = {
			add_devastation = 10
		}

		add_hitotsubashiha_influence_var = {
			VALUE = 15
		}
	}
}

eafp_japan.4008 = { # 낭인들의 외국인 습격
	type = country_event
	placement = scope:state_scope

	duration = 3

	title = eafp_japan.4008.t
	desc = eafp_japan.4008.d
	flavor = eafp_japan.4008.f

	event_image = {
		video = "southamerica_public_figure_assassination"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		any_scope_state = {
			state_is_in_japan = yes
			has_port = yes
			radical_fraction = {
				value >= 0.1
			}
		}
		NOT = { has_law = law_type:law_isolationism }
		any_country = {
			country_rank >= rank_value:major_power
			has_interest_marker_in_region = region_japan
			NOT = { has_war_with = ROOT }
		}
	}

	cooldown =  { months = 6 }
	
	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_japan = yes
				has_port = yes
				radical_fraction = {
					value >= 0.1
				}
			}
			save_scope_as = state_scope
		}
		random_country = {
			limit = {
				country_rank >= rank_value:great_power
				has_interest_marker_in_region = region_japan
				NOT = { has_war_with = ROOT }
			}
			save_scope_as = country_scope
		}
	}
	
	option = {
		name = eafp_japan.4008.a
		default_option = yes

		add_treasury = {
			value = money_amount_multiplier_very_large
			multiply = -10
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:state_scope
			VALUE = -10
		}
		scope:country_scope = {
			change_relations = {
				country = ROOT
				value = 15
			}
		}
	}

	option = {
		name = eafp_japan.4008.b

		scope:country_scope = {
			change_relations = {
				country = ROOT
				value = -35
			}
		}
		scope:state_scope = {
			add_loyalists_in_state = {
				value = small_radicals
			}
		}
	}
}

eafp_japan.4009 = { # 공사관 방화
	type = country_event
	placement = scope:state_scope

	duration = 3

	title = eafp_japan.4009.t
	desc = eafp_japan.4009.d
	flavor = eafp_japan.4009.f

	event_image = {
		video = "unspecific_fire"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		any_scope_state = {
			state_is_in_japan = yes
			has_port = yes
			radical_fraction = {
				value >= 0.1
			}
		}
		NOT = { has_law = law_type:law_isolationism }
		any_country = {
			country_rank >= rank_value:major_power
			has_interest_marker_in_region = region_japan
			NOT = { has_war_with = ROOT }
		}
	}

	cooldown =  { months = 12 }
	
	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_japan = yes
				has_port = yes
				radical_fraction = {
					value >= 0.1
				}
			}
			save_scope_as = state_scope
		}
		random_country = {
			limit = {
				country_rank >= rank_value:great_power
				has_interest_marker_in_region = region_japan
				NOT = { has_war_with = ROOT }
			}
			save_scope_as = country_scope
		}
	}
	
	option = {
		name = eafp_japan.4009.a
		default_option = yes

		add_treasury = {
			value = money_amount_multiplier_very_large
			multiply = -10
		}
		add_bakuhantaisei_state_independency = {
			TARGET = scope:state_scope
			VALUE = -10
		}
		scope:country_scope = {
			change_relations = {
				country = ROOT
				value = 15
			}
		}
	}

	option = {
		name = eafp_japan.4009.b

		scope:country_scope = {
			change_relations = {
				country = ROOT
				value = -35
			}
		}
		scope:state_scope = {
			add_loyalists_in_state = {
				value = small_radicals
			}
		}
	}
}

# 자유민권 파트(제작 중)

namespace = JAP_democracy_event

JAP_democracy_event.1 = {
	type = country_event
	placement = root

	title = JAP_democracy.1.t
	desc = JAP_democracy.1.d
	flavor = JAP_democracy.1.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"

	duration = 3

	trigger = {
		exists = c:JAP
		this = c:JAP
		year >= 1874
	}

	immediate = {
		set_variable = JAP_demo_min_var
	}

	option = {
		name = JAP_democracy.1.a
		trigger_event = {
			id = JAP_democracy_event.2
			# 건백서 수용(비정사)
			days = 20
		}
	}

	option = {
		name = JAP_democracy.1.b
		default_option = yes
		trigger_event = {
			id = JAP_democracy_event.3
			# 건백서 불허(정사)
			days = 20
		}
	}
}

# 비정사 루트(짝수)
JAP_democracy_event.2 = {
	type = country_event
	placement = root

	title = JAP_democracy.2.t
	desc = JAP_democracy.2.d
	flavor = JAP_democracy.2.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"

	duration = 3

	trigger = {
		exists = c:JAP
		this = c:JAP
	}

	immediate = {
		set_variable = JAP_demo_min_success_var
	}

	option = {
		name = JAP_democracy.2.a
		default_option = yes
		trigger_event = {
			id = JAP_democracy_event.4
			days = 60
		}
	}

	option = {
		name = JAP_democracy.2.b
		trigger_event = {
			id = JAP_democracy_event.6
			days = 60
		}
	}
}

JAP_democracy_event.4 = {
	type = country_event
	placement = root

	title = JAP_democracy.4.t
	desc = JAP_democracy.4.d
	flavor = JAP_democracy.4.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"

	duration = 3

	trigger = {
		exists = c:JAP
		this = c:JAP
	}

	immediate = {
		set_variable = JAP_demo_min_as_var
	}

	option = {
		name = JAP_democracy.4.a
		default_option = yes
		trigger_event = {
			id = JAP_democracy_event.8
			days = 120
		}
	}

	option = {
		name = JAP_democracy.4.b
		trigger_event = {
			id = JAP_democracy_event.10
			days = 60
		}
	}
}

JAP_democracy_event.6 = {
	type = country_event
	placement = root

	title = JAP_democracy.6.t
	desc = JAP_democracy.6.d
	flavor = JAP_democracy.6.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"

	duration = 3

	trigger = {
		exists = c:JAP
		this = c:JAP
	}

	immediate = {
		set_variable = JAP_demo_min_af_var
	}

	option = {
		name = JAP_democracy.6.a
		default_option = yes
		trigger_event = {
			id = JAP_democracy_event.4
			days = 60
		}
	}

	option = {
		name = JAP_democracy.6.b
		trigger_event = {
			id = JAP_democracy_event.3
			days = 60
		}
	}
}

JAP_democracy_event.8 = {
	type = country_event
	placement = root

	title = JAP_democracy.8.t
	desc = JAP_democracy.8.d
	flavor = JAP_democracy.8.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"

	duration = 3

	trigger = {
		exists = c:JAP
		this = c:JAP
	}

	immediate = {
		set_variable = JAP_demo_min_asa_var
	}

	option = {
		name = JAP_democracy.8.a
		default_option = yes
	}
}

JAP_democracy_event.10 = {
	type = country_event
	placement = root

	title = JAP_democracy.10.t
	desc = JAP_democracy.10.d
	flavor = JAP_democracy.10.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"

	duration = 3

	trigger = {
		exists = c:JAP
		this = c:JAP
	}

	immediate = {
		set_variable = JAP_demo_min_asb_var
	}

	option = {
		name = JAP_democracy.10.a
		# 세이난 전쟁 쪽으로 흘러감
		default_option = yes
	}
}

# 정사 루트(홀수)

JAP_democracy_event.3 = {
	type = country_event
	placement = root

	title = JAP_democracy.3.t
	desc = JAP_democracy.3.d
	flavor = JAP_democracy.3.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"

	duration = 3

	trigger = {
		exists = c:JAP
		this = c:JAP
	}

	immediate = {
		set_variable = JAP_demo_min_fail_var
	}

	option = {
		name = JAP_democracy.3.a
		default_option = yes
		trigger_event = {
			id = JAP_democracy_event.5
			days = 60
		}
	}

	option = {
		name = JAP_democracy.3.b
		trigger_event = {
			id = JAP_democracy_event.2
			days = 60
		}
	}
}

JAP_democracy_event.5 = {
	type = country_event
	placement = root

	title = JAP_democracy.5.t
	desc = JAP_democracy.5.d
	flavor = JAP_democracy.5.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"

	duration = 3

	trigger = {
		exists = c:JAP
		this = c:JAP
	}

	immediate = {
		set_variable = JAP_demo_min_his_var
	}

	option = {
		name = JAP_democracy.5.a
		default_option = yes
		# 홀수 루트로 정사 이어짐
	}
}