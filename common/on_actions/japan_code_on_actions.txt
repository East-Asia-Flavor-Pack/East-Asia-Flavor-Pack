opium_war_special_event_pulse = {
	effect = {
		if = {
			limit = {
				c:CHI = {
					is_diplomatic_play_enemy_of = c:GBR
				}
				game_date < 1841.12.31
				not = { has_global_variable = opium_war_fired }
			}
			set_global_variable = opium_war_fired
		}
	}
}

japan_on_new_ruler = {
	effect = {
		if = {
			limit = {
				owner = {
					c:JAP ?= this
					has_law = law_type:law_monarchy
				}
				is_ruler = yes
			}
			if = {
				limit = {
					has_journal_entry = je_bakuhantaisei # 임시 TODO, 도쿠가와 가문이 지배자인 조건 따로 찾아서 넣을 것.
				}
				if = {
					limit = {
						has_template = RUS_alexander_ii
					}
					owner = {
						trigger_event = { id = russia_monarchy.1 popup = yes }
					}
				}
				else_if = {
					limit = {
						has_template = RUS_tsarevich_nicholas_alexandrovich
					}
					owner = {
						trigger_event = { id = russia_monarchy.3 popup = yes }
					}
				}
				else_if = {
					limit = {
						has_template = RUS_alexander_iii
					}
					owner = {
						trigger_event = { id = russia_monarchy.4 popup = yes }
					}
				}
				else_if = {
					limit = {
						has_template = RUS_nicholas_ii
					}
					owner = {
						trigger_event = { id = russia_monarchy.5 popup = yes }
					}
				}
				else_if = {
					limit = {
						has_template = RUS_alexei_ii
					}
					owner = {
						trigger_event = { id = russia_monarchy.9 popup = yes }
					}
				}
				else_if = {
					limit = {
						has_template = RUS_michael_ii
					}
					owner = {
						trigger_event = { id = russia_monarchy.10 popup = yes }
					}
				}
				else_if = {
					limit = {
						has_template = RUS_george_i
					}
					owner = {
						trigger_event = { id = russia_monarchy.11 popup = yes }
					}
				}
			}
			else = {
				# 천황이 지배자인 조건으로 효과 넣기 TODO
			}
		}
	}
}