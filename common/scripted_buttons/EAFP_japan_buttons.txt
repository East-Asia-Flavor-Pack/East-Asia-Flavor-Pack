japan_tutorial_button = {
	name = "japan_tutorial_button"
	desc = "japan_tutorial_button_desc"

	visible = {
		always = yes
	}

	possible = {
		root.var:japan_tutorial_var < 61
	}

	effect = {
		trigger_event = {
			id = eafp_japan.1
		}
		change_variable = {
			name = japan_tutorial_var
			add = 60
		}
		set_variable = {
            name = lia_var_regent_character
            value = root.heir
        }
	}
}

japan_hokkaido_button = {
	name = "japan_hokkaido_button"
	desc = "japan_hokkaido_button_desc"

	visible = {
		always = yes
	}

	possible = {
		s:STATE_HOKKAIDO.region_state:JAP = {
			not = { has_modifier = hokkaido_iju }
		}
	}

	effect = {
		s:STATE_HOKKAIDO.region_state:JAP = {
			add_modifier = {
				name = hokkaido_iju
				months = 12
			}
		}
		trigger_event = {
			id = eafp_japan.1001
		}
	}
}

japan_kaikakuha_button = {
	name = "japan_kaikakuha_button"
	desc = "japan_kaikakuha_button_desc"

	visible = {
		owner = { 
			NOT = { 
				OR = {
					has_variable = yoshinobu_start 
					has_variable = is_hitotsubashiha
					has_variable = is_nankiha
				}
			
			} 
			
		}
	}


	possible = {
		hidden_trigger = {
			not = { has_variable = supporting_nankiha_time_var }
			not = { has_variable = supporting_hitotsubashiha_time_var }
		}
	}

	selected = {
		has_variable = supporting_hitotsubashiha_var
	}

	effect = {
		set_variable = supporting_hitotsubashiha_var
		set_variable = {
			name = supporting_hitotsubashiha_time_var
			month = 60
		}
		remove_variable = supporting_nankiha_var
		custom_tooltip = {
			text = supporting_hitotsubashiha_tt
		}
		custom_tooltip = {
			text = hitotsubashiha_progress_increase_5_tt
			change_variable = { name = hitotsubashiha_var add = 3 }
		}
	}
}

japan_hoshuha_button = {
	name = "japan_hoshuha_button"
	desc = "japan_hoshuha_button_desc"

	visible = {
		owner = { 
			NOT = { 
				OR = {
					has_variable = yoshinobu_start 
					has_variable = is_hitotsubashiha
					has_variable = is_nankiha
				}
			
			} 
			
		}
	}

	possible = {
		hidden_trigger = {
			not = { has_variable = supporting_nankiha_time_var }
			not = { has_variable = supporting_hitotsubashiha_time_var }
		}
	}

	selected = {
		has_variable = supporting_nankiha_var
	}

	effect = {
		set_variable = supporting_nankiha_var
		set_variable = {
			name = supporting_nankiha_time_var
			month = 60
		}
		remove_variable = supporting_hitotsubashiha_var
		custom_tooltip = {
			text = supporting_nankiha_tt
		}
		custom_tooltip = {
			text = nankiha_progress_increase_5_tt
			change_variable = { name = hitotsubashiha_var add = 3 }
		}
	}
}

japan_hitotsubashiha_button = {
	name = "japan_hitotsubashiha_button"
	desc = "japan_hitotsubashiha_button_desc"

	visible = { 
			owner = {
					has_variable = yoshinobu_start
			}
	}

	possible = {
		hidden_trigger = {
			not = { has_variable = supporting_nankiha_time_var }
			not = { has_variable = supporting_hitotsubashiha_time_var }
		}
	}

	selected = {
		has_variable = supporting_hitotsubashiha_var
	}

	effect = {
		set_variable = supporting_hitotsubashiha_var
		set_variable = {
			name = supporting_hitotsubashiha_time_var
			month = 60
		}
		remove_variable = supporting_nankiha_var
		custom_tooltip = {
			text = supporting_hitotsubashiha_tt
		}
		custom_tooltip = {
			text = hitotsubashiha_progress_increase_5_tt
			change_variable = { name = hitotsubashiha_var add = 3 }
		}
	}
}

japan_nankiha_button = {
	name = "japan_nankiha_button"
	desc = "japan_nankiha_button_desc"

	visible = {
		owner = {
				has_variable = yoshinobu_start
		}
	}

	possible = {
		hidden_trigger = {
			not = { has_variable = supporting_nankiha_time_var }
			not = { has_variable = supporting_hitotsubashiha_time_var }
		}
	}

	selected = {
		has_variable = supporting_nankiha_var
	}

	effect = {
		set_variable = supporting_nankiha_var
		set_variable = {
			name = supporting_nankiha_time_var
			month = 60
		}
		remove_variable = supporting_hitotsubashiha_var
		custom_tooltip = {
			text = supporting_nankiha_tt
		}
		custom_tooltip = {
			text = nankiha_progress_increase_5_tt
			change_variable = { name = hitotsubashiha_var add = 3 }
		}
	}
}

japan_bakufu_kaikaku_button = {
	name = "japan_bakufu_kaikaku_button"
	desc = "japan_bakufu_kaikaku_button_desc"

	visible = {
		not = { has_variable = kaikaku_start }
	}

	possible = {
		custom_tooltip = {
			text = not_ienari
			ruler = {
					not = { has_template = jap_ienari_tokugawa_template }
				}
			}
		custom_tooltip = {
			text = hiritsu_over_tt
			bakufu_hitotsubashiha_hiritsu > 15
		}
	}

	effect = {
		set_variable = kaikaku_start
		add_journal_entry = {
			type = japan_bakufu_kaikoku_je
		}
		add_journal_entry = {
			type = japan_bakufu_zaisei_je
		}
		add_journal_entry = {
			type = japan_bakufu_guntai_je
		}
		add_journal_entry = {
			type = japan_bakufu_naibu_je
		}
		add_journal_entry = {
			type = japan_bakufu_bakuhan_je
		}
	}
}

japan_hitotsubashiha_phase_1_button = {
	name = "japan_hitotsubashiha_phase_1_button"
	desc = "japan_hitotsubashiha_phase_1_button_desc"

	visible = {
		not = { has_variable = hitotsubashiha_phase_1_set }
		has_variable = is_hitotsubashiha
		var:hitotsubashiha_var > 100
	}

	possible = {
		not = { has_variable = hitotsubashiha_phase_1_set }
		has_variable = is_hitotsubashiha
		var:hitotsubashiha_var >= 300
	}

	effect = {
		set_variable = hitotsubashiha_phase_1_set
	}
}

japan_hitotsubashiha_phase_2_button = {
	name = "japan_hitotsubashiha_phase_2_button"
	desc = "japan_hitotsubashiha_phase_2_button_desc"

	visible = {
		not = { has_variable = hitotsubashiha_phase_2_set }
		has_variable = is_hitotsubashiha
		var:hitotsubashiha_var > 300
	}

	possible = {
		not = { has_variable = hitotsubashiha_phase_2_set }
		has_variable = is_hitotsubashiha
		var:hitotsubashiha_var >= 500
	}

	effect = {
		set_variable = hitotsubashiha_phase_2_set
		
	}
}

japan_hitotsubashiha_phase_3_button = {
	name = "japan_hitotsubashiha_phase_3_button"
	desc = "japan_hitotsubashiha_phase_3_button_desc"

	visible = {
		not = { has_variable = hitotsubashiha_phase_3_set }
		has_variable = is_hitotsubashiha
		var:hitotsubashiha_var > 500
	}

	possible = {
		not = { has_variable = hitotsubashiha_phase_3_set }
		has_variable = is_hitotsubashiha
		var:hitotsubashiha_var >= 750
	}

	effect = {
		set_variable = hitotsubashiha_phase_3_set
		trigger_event = {
			id = eafp_japan.9998
			days = 5
		}
		custom_tooltip = {
			text = caution_tt
		}
	}
}







japan_pariament_1_button = {
	name = "japan_pariament_1_button"
	desc = "japan_pariament_1_button_desc"

	visible = {
		has_variable = syugiin_dai
	}

	possible = {
		var:syugiin_dai = 1
	}

	effect = {
		change_variable = {
			name = syugiin_dai
			add = 1
		}
		set_variable = {
            name = party1_seat_var
            value = 94
        }
        set_variable = {
            name = party2_seat_var
            value = 38
        }
        set_variable = {
            name = party3_seat_var
            value = 81
        }
        set_variable = {
            name = party4_seat_var
            value = 31
        }
        set_variable = {
            name = party5_seat_var
            value = 12
        }
        set_variable = {
            name = no_party_seat_var
            value = 44
        }
		seat_effect = yes
	}
}

japan_pariament_1_button = {
	name = "japan_pariament_1_button"
	desc = "japan_pariament_1_button_desc"

	visible = {
		has_variable = syugiin_dai
		var:syugiin_dai = 1
	}

	possible = {
		has_variable = syugiin_dai
		var:syugiin_dai = 1
	}

	effect = {
		change_variable = {
			name = syugiin_dai
			add = 1
		}
		set_variable = {
            name = party1_seat_var
            value = 94
        }
        set_variable = {
            name = party2_seat_var
            value = 38
        }
        set_variable = {
            name = party3_seat_var
            value = 81
        }
        set_variable = {
            name = party4_seat_var
            value = 31
        }
        set_variable = {
            name = party5_seat_var
            value = 12
        }
        set_variable = {
            name = no_party_seat_var
            value = 44
        }
		seat_effect = yes
	}
}

japan_pariament_2_button = {
	name = "japan_pariament_2_button"
	desc = "japan_pariament_2_button_desc"

	visible = {
		has_variable = syugiin_dai
		var:syugiin_dai = 2
	}

	possible = {
		has_variable = syugiin_dai
		var:syugiin_dai = 2
	}

	effect = {
		change_variable = {
			name = syugiin_dai
			add = 19
		}
		set_variable = {
            name = party1_seat_var
            value = 0
        }
        set_variable = {
            name = party2_seat_var
            value = 381
        }
        set_variable = {
            name = party3_seat_var
            value = 0
        }
        set_variable = {
            name = party4_seat_var
            value = 0
        }
        set_variable = {
            name = party5_seat_var
            value = 0
        }
        set_variable = {
            name = no_party_seat_var
            value = 85
        }
		seat_effect = yes
	}
}

japan_pariament_3_button = {
	name = "japan_pariament_3_button"
	desc = "japan_pariament_3_button_desc"

	visible = {
		has_variable = syugiin_dai
		var:syugiin_dai = 21
	}

	possible = {
		has_variable = syugiin_dai
		var:syugiin_dai = 21
	}

	effect = {
		change_variable = {
			name = syugiin_dai
			subtract = 20
		}
		set_variable = {
            name = syugiin_dai
            value = 1
        }
        set_variable = {
            name = party1_seat_var
            value = 130
        }
        set_variable = {
            name = party2_seat_var
            value = 79
        }
        set_variable = {
            name = party3_seat_var
            value = 41
        }
        set_variable = {
            name = party4_seat_var
            value = 5
        }
        set_variable = {
            name = party5_seat_var
            value = 0
        }
        set_variable = {
            name = no_party_seat_var
            value = 45
        }
		seat_effect = yes
	}
}