concession_state_region_status_calc = {
	concession_state_region_status_calc_state={STATE=STATE_GUIZHOU}
	concession_state_region_status_calc_state={STATE=STATE_CHONGQING}
	concession_state_region_status_calc_state={STATE=STATE_SICHUAN}
	concession_state_region_status_calc_state={STATE=STATE_SOUTHERN_ANHUI}
	concession_state_region_status_calc_state={STATE=STATE_SHAOZHOU}
	concession_state_region_status_calc_state={STATE=STATE_GUANGDONG}
	concession_state_region_status_calc_state={STATE=STATE_FUJIAN}
	concession_state_region_status_calc_state={STATE=STATE_FORMOSA}
	concession_state_region_status_calc_state={STATE=STATE_GUANGXI}
	concession_state_region_status_calc_state={STATE=STATE_ZHEJIANG}
	concession_state_region_status_calc_state={STATE=STATE_SUZHOU}
	concession_state_region_status_calc_state={STATE=STATE_NANJING}
	concession_state_region_status_calc_state={STATE=STATE_HUNAN}
	concession_state_region_status_calc_state={STATE=STATE_JIANGXI}
	concession_state_region_status_calc_state={STATE=STATE_YUNNAN}
	concession_state_region_status_calc_state={STATE=STATE_EASTERN_HUBEI}
	concession_state_region_status_calc_state={STATE=STATE_WESTERN_HUBEI}
	concession_state_region_status_calc_state={STATE=STATE_SHANDONG}
	concession_state_region_status_calc_state={STATE=STATE_BEIJING}
	concession_state_region_status_calc_state={STATE=STATE_ZHILI}
	concession_state_region_status_calc_state={STATE=STATE_HENAN}
	concession_state_region_status_calc_state={STATE=STATE_NORTHERN_ANHUI}
	concession_state_region_status_calc_state={STATE=STATE_SHANXI}
	concession_state_region_status_calc_state={STATE=STATE_JIANGSU}
	concession_state_region_status_calc_state={STATE=STATE_NINGXIA}
	concession_state_region_status_calc_state={STATE=STATE_GANSU}
	concession_state_region_status_calc_state={STATE=STATE_XIAN}
}

concession_state_region_status_calc_scope = {
	if = {
		limit = { scope:concession_state_region = s:STATE_GUIZHOU }
		concession_state_region_status_calc_state={STATE=STATE_GUIZHOU}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_CHONGQING }
		concession_state_region_status_calc_state={STATE=STATE_CHONGQING}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_SICHUAN }
		concession_state_region_status_calc_state={STATE=STATE_SICHUAN}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_SOUTHERN_ANHUI }
		concession_state_region_status_calc_state={STATE=STATE_SOUTHERN_ANHUI}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_SHAOZHOU }
		concession_state_region_status_calc_state={STATE=STATE_SHAOZHOU}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_GUANGDONG }
		concession_state_region_status_calc_state={STATE=STATE_GUANGDONG}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_FUJIAN }
		concession_state_region_status_calc_state={STATE=STATE_FUJIAN}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_FORMOSA }
		concession_state_region_status_calc_state={STATE=STATE_FORMOSA}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_GUANGXI }
		concession_state_region_status_calc_state={STATE=STATE_GUANGXI}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_ZHEJIANG }
		concession_state_region_status_calc_state={STATE=STATE_ZHEJIANG}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_SUZHOU }
		concession_state_region_status_calc_state={STATE=STATE_SUZHOU}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_NANJING }
		concession_state_region_status_calc_state={STATE=STATE_NANJING}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_HUNAN }
		concession_state_region_status_calc_state={STATE=STATE_HUNAN}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_JIANGXI }
		concession_state_region_status_calc_state={STATE=STATE_JIANGXI}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_YUNNAN }
		concession_state_region_status_calc_state={STATE=STATE_YUNNAN}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_EASTERN_HUBEI }
		concession_state_region_status_calc_state={STATE=STATE_EASTERN_HUBEI}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_WESTERN_HUBEI }
		concession_state_region_status_calc_state={STATE=STATE_WESTERN_HUBEI}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_SHANDONG }
		concession_state_region_status_calc_state={STATE=STATE_SHANDONG}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_BEIJING }
		concession_state_region_status_calc_state={STATE=STATE_BEIJING}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_ZHILI }
		concession_state_region_status_calc_state={STATE=STATE_ZHILI}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_HENAN }
		concession_state_region_status_calc_state={STATE=STATE_HENAN}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_NORTHERN_ANHUI }
		concession_state_region_status_calc_state={STATE=STATE_NORTHERN_ANHUI}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_SHANXI }
		concession_state_region_status_calc_state={STATE=STATE_SHANXI}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_JIANGSU }
		concession_state_region_status_calc_state={STATE=STATE_JIANGSU}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_NINGXIA }
		concession_state_region_status_calc_state={STATE=STATE_NINGXIA}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_GANSU }
		concession_state_region_status_calc_state={STATE=STATE_GANSU}
	}
	else_if = {
		limit = { scope:concession_state_region = s:STATE_XIAN }
		concession_state_region_status_calc_state={STATE=STATE_XIAN}
	}
}

concession_state_region_status_calc_state = {
	if = {
		limit = { has_global_variable = $STATE$_has_concession }
		remove_global_variable = $STATE$_has_concession
	}
	if = {
		limit = { has_global_variable = $STATE$_has_concession_country1 }
		remove_global_variable = $STATE$_has_concession_country1
	}
	if = {
		limit = { has_global_variable = $STATE$_has_concession_country2 }
		remove_global_variable = $STATE$_has_concession_country2
	}
	if = {
		limit = { has_global_variable = $STATE$_has_concession_country3 }
		remove_global_variable = $STATE$_has_concession_country3
	}
	if = {
		limit = { has_global_variable = $STATE$_has_concession_country4 }
		remove_global_variable = $STATE$_has_concession_country4
	}
	if = {
		limit = { has_global_variable = $STATE$_has_concession_country5 }
		remove_global_variable = $STATE$_has_concession_country5
	}
	if = {
		limit = { has_global_variable = $STATE$_has_concession_countrymany }
		remove_global_variable = $STATE$_has_concession_countrymany
	}
	s:$STATE$ = {
		if = {
			limit = { any_scope_state = { has_variable_list = concession_owner_varlist } }
			set_global_variable = {
				name = $STATE$_has_concession
				value = THIS
			}
			ordered_scope_state = {
				limit = { has_variable_list = concession_owner_varlist }
				order_by = state_population
				ordered_in_list = {
					variable = concession_owner_varlist
					order_by = prestige
					position = 1
					set_global_variable = {
						name = $STATE$_has_concession_country1
						value = THIS
					}
				}
				if = {
					limit = { variable_list_size = { name = concession_owner_varlist target >= 2 } }
					ordered_in_list = {
						variable = concession_owner_varlist
						order_by = prestige
						position = 2
						set_global_variable = {
							name = $STATE$_has_concession_country2
							value = THIS
						}
					}
				}
				if = {
					limit = { variable_list_size = { name = concession_owner_varlist target >= 3 } }
					ordered_in_list = {
						variable = concession_owner_varlist
						order_by = prestige
						position = 3
						set_global_variable = {
							name = $STATE$_has_concession_country3
							value = THIS
						}
					}
				}
				if = {
					limit = { variable_list_size = { name = concession_owner_varlist target >= 4 } }
					ordered_in_list = {
						variable = concession_owner_varlist
						order_by = prestige
						position = 4
						set_global_variable = {
							name = $STATE$_has_concession_country4
							value = THIS
						}
					}
				}
				if = {
					limit = { variable_list_size = { name = concession_owner_varlist target >= 5 } }
					ordered_in_list = {
						variable = concession_owner_varlist
						order_by = prestige
						position = 5
						set_global_variable = {
							name = $STATE$_has_concession_country5
							value = THIS
						}
					}
				}
				if = {
					limit = { variable_list_size = { name = concession_owner_varlist target >= 6 } }
					set_local_variable = {
						name = country_num
						value = 0
					}
					every_in_list = {
						variable = concession_owner_varlist
						change_local_variable = {
							name = country_num
							add = 1
						}
					}
					set_global_variable = {
						name = $STATE$_has_concession_countrymany
						value = {
							value = local_var:country_num
							subtract = 5
						}
					}
					remove_local_variable = country_num
				}
			}
		}
	}
}