namespace = eafp_japan
#일본 저널입니다.
#기본적으로 변수명은 일본어 발음입니다.
#다음 분류에 따라 이벤트 번호를 지정했습니다.

# 0000번대 : 시스템 이벤트
# 1000번대 : 플레이버 이벤트
# 2000번대 : 막부 개혁 이벤트 체인
# 3000번대 : 보신전쟁 이벤트 체인
# 4000번대 : 개항 이벤트 체인
# 5000번대 : 메이지유신 이벤트 체인
# 6000번대 : 메이지 헌법 이후 이벤트 체인


#####################################

eafp_japan.101 = { # 막번체제 초기화용
	type = country_event
	hidden = yes

	immediate = {
		je:je_bakuhantaisei_TOHOKU = {
			set_bar_progress = { value = bakuhantaisei_TOHOKU_loyalty_progress_bar_initial_value name = bakuhantaisei_TOHOKU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_TOHOKU_independency_progress_bar_initial_value name = bakuhantaisei_TOHOKU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_TOHOKU_goryo_progress_bar_initial_value name = bakuhantaisei_TOHOKU_goryo_progress_bar }
		}

		je:je_bakuhantaisei_KANTO = {
			set_bar_progress = { value = bakuhantaisei_KANTO_loyalty_progress_bar_initial_value name = bakuhantaisei_KANTO_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KANTO_independency_progress_bar_initial_value name = bakuhantaisei_KANTO_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KANTO_goryo_progress_bar_initial_value name = bakuhantaisei_KANTO_goryo_progress_bar }
		}

		je:je_bakuhantaisei_CHUBU = {
			set_bar_progress = { value = bakuhantaisei_CHUBU_loyalty_progress_bar_initial_value name = bakuhantaisei_CHUBU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_CHUBU_independency_progress_bar_initial_value name = bakuhantaisei_CHUBU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_CHUBU_goryo_progress_bar_initial_value name = bakuhantaisei_CHUBU_goryo_progress_bar }
		}

		je:je_bakuhantaisei_KANSAI = {
			set_bar_progress = { value = bakuhantaisei_KANSAI_loyalty_progress_bar_initial_value name = bakuhantaisei_KANSAI_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KANSAI_independency_progress_bar_initial_value name = bakuhantaisei_KANSAI_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KANSAI_goryo_progress_bar_initial_value name = bakuhantaisei_KANSAI_goryo_progress_bar }
		}

		je:je_bakuhantaisei_KYUSHU = {
			set_bar_progress = { value = bakuhantaisei_KYUSHU_loyalty_progress_bar_initial_value name = bakuhantaisei_KYUSHU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KYUSHU_independency_progress_bar_initial_value name = bakuhantaisei_KYUSHU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_KYUSHU_goryo_progress_bar_initial_value name = bakuhantaisei_KYUSHU_goryo_progress_bar }
		}

		je:je_bakuhantaisei_CHUGOKU = {
			set_bar_progress = { value = bakuhantaisei_CHUGOKU_loyalty_progress_bar_initial_value name = bakuhantaisei_CHUGOKU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_CHUGOKU_independency_progress_bar_initial_value name = bakuhantaisei_CHUGOKU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_CHUGOKU_goryo_progress_bar_initial_value name = bakuhantaisei_CHUGOKU_goryo_progress_bar }
		}

		je:je_bakuhantaisei_SHIKOKU = {
			set_bar_progress = { value = bakuhantaisei_SHIKOKU_loyalty_progress_bar_initial_value name = bakuhantaisei_SHIKOKU_loyalty_progress_bar }
			set_bar_progress = { value = bakuhantaisei_SHIKOKU_independency_progress_bar_initial_value name = bakuhantaisei_SHIKOKU_independency_progress_bar }
			set_bar_progress = { value = bakuhantaisei_SHIKOKU_goryo_progress_bar_initial_value name = bakuhantaisei_SHIKOKU_goryo_progress_bar }
		}

		set_variable = {
			name = bakuhantaisei_tax_collection_lose_TOHOKU_var # 몇%의 세금 걷지 못하는지 계산
			value = {
				value = 1
				subtract = bakuhantaisei_TOHOKU_goryo_progress_bar_initial_value # 막부 직할령에선 완전히 걷음
				multiply = { # 다이묘 땅에선 독립도에 따라 걷음
					value = bakuhantaisei_TOHOKU_independency_progress_bar_initial_value
				}
			}
		}
		s:STATE_TOHOKU.region_state:JAP = {
			remove_modifier = bakuhantaisei_tax_collection_lose_modifier
			remove_modifier = bakuhantaisei_han_independency_modifier
			add_modifier = {
				name = bakuhantaisei_tax_collection_lose_modifier
				multiplier = ROOT.var:bakuhantaisei_tax_collection_lose_TOHOKU_var
			}
			add_modifier = {
				name = bakuhantaisei_han_independency_modifier
				multiplier = bakuhantaisei_TOHOKU_independency_progress_bar_initial_value
			}
		}
		if = {
			limit = { bakuhantaisei_TOHOKU_independency_progress_bar_initial_value >= 0.5 }
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_positive_TOHOKU_modifier
					multiplier = {
						value = bakuhantaisei_TOHOKU_independency_progress_bar_initial_value
						subtract = 0.5
						divide = 0.5
					}
				}
			}
		}
		else = {
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_negative_TOHOKU_modifier
					multiplier = {
						value = 0.5
						subtract = bakuhantaisei_TOHOKU_independency_progress_bar_initial_value
						divide = 0.5
					}
				}
			}
		}

		set_variable = {
			name = bakuhantaisei_tax_collection_lose_KANTO_var # 몇%의 세금 걷지 못하는지 계산
			value = {
				value = 1
				subtract = bakuhantaisei_KANTO_goryo_progress_bar_initial_value # 막부 직할령에선 완전히 걷음
				multiply = { # 다이묘 땅에선 독립도에 따라 걷음
					value = bakuhantaisei_KANTO_independency_progress_bar_initial_value
				}
			}
		}
		s:STATE_KANTO.region_state:JAP = {
			remove_modifier = bakuhantaisei_tax_collection_lose_modifier
			remove_modifier = bakuhantaisei_han_independency_modifier
			add_modifier = {
				name = bakuhantaisei_tax_collection_lose_modifier
				multiplier = ROOT.var:bakuhantaisei_tax_collection_lose_KANTO_var
			}
			add_modifier = {
				name = bakuhantaisei_han_independency_modifier
				multiplier = bakuhantaisei_KANTO_independency_progress_bar_initial_value
			}
		}
		if = {
			limit = { bakuhantaisei_KANTO_independency_progress_bar_initial_value >= 0.5 }
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_positive_KANTO_modifier
					multiplier = {
						value = bakuhantaisei_KANTO_independency_progress_bar_initial_value
						subtract = 0.5
						divide = 0.5
					}
				}
			}
		}
		else = {
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_negative_KANTO_modifier
					multiplier = {
						value = 0.5
						subtract = bakuhantaisei_KANTO_independency_progress_bar_initial_value
						divide = 0.5
					}
				}
			}
		}

		set_variable = {
			name = bakuhantaisei_tax_collection_lose_CHUBU_var # 몇%의 세금 걷지 못하는지 계산
			value = {
				value = 1
				subtract = bakuhantaisei_CHUBU_goryo_progress_bar_initial_value # 막부 직할령에선 완전히 걷음
				multiply = { # 다이묘 땅에선 독립도에 따라 걷음
					value = bakuhantaisei_CHUBU_independency_progress_bar_initial_value
				}
			}
		}
		s:STATE_CHUBU.region_state:JAP = {
			remove_modifier = bakuhantaisei_tax_collection_lose_modifier
			remove_modifier = bakuhantaisei_han_independency_modifier
			add_modifier = {
				name = bakuhantaisei_tax_collection_lose_modifier
				multiplier = ROOT.var:bakuhantaisei_tax_collection_lose_CHUBU_var
			}
			add_modifier = {
				name = bakuhantaisei_han_independency_modifier
				multiplier = bakuhantaisei_CHUBU_independency_progress_bar_initial_value
			}
		}
		if = {
			limit = { bakuhantaisei_CHUBU_independency_progress_bar_initial_value >= 0.5 }
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_positive_CHUBU_modifier
					multiplier = {
						value = bakuhantaisei_CHUBU_independency_progress_bar_initial_value
						subtract = 0.5
						divide = 0.5
					}
				}
			}
		}
		else = {
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_negative_CHUBU_modifier
					multiplier = {
						value = 0.5
						subtract = bakuhantaisei_CHUBU_independency_progress_bar_initial_value
						divide = 0.5
					}
				}
			}
		}

		set_variable = {
			name = bakuhantaisei_tax_collection_lose_KANSAI_var # 몇%의 세금 걷지 못하는지 계산
			value = {
				value = 1
				subtract = bakuhantaisei_KANSAI_goryo_progress_bar_initial_value # 막부 직할령에선 완전히 걷음
				multiply = { # 다이묘 땅에선 독립도에 따라 걷음
					value = bakuhantaisei_KANSAI_independency_progress_bar_initial_value
				}
			}
		}
		s:STATE_KANSAI.region_state:JAP = {
			remove_modifier = bakuhantaisei_tax_collection_lose_modifier
			remove_modifier = bakuhantaisei_han_independency_modifier
			add_modifier = {
				name = bakuhantaisei_tax_collection_lose_modifier
				multiplier = ROOT.var:bakuhantaisei_tax_collection_lose_KANSAI_var
			}
			add_modifier = {
				name = bakuhantaisei_han_independency_modifier
				multiplier = bakuhantaisei_KANSAI_independency_progress_bar_initial_value
			}
		}
		if = {
			limit = { bakuhantaisei_KANSAI_independency_progress_bar_initial_value >= 0.5 }
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_positive_KANSAI_modifier
					multiplier = {
						value = bakuhantaisei_KANSAI_independency_progress_bar_initial_value
						subtract = 0.5
						divide = 0.5
					}
				}
			}
		}
		else = {
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_negative_KANSAI_modifier
					multiplier = {
						value = 0.5
						subtract = bakuhantaisei_KANSAI_independency_progress_bar_initial_value
						divide = 0.5
					}
				}
			}
		}

		set_variable = {
			name = bakuhantaisei_tax_collection_lose_KYUSHU_var # 몇%의 세금 걷지 못하는지 계산
			value = {
				value = 1
				subtract = bakuhantaisei_KYUSHU_goryo_progress_bar_initial_value # 막부 직할령에선 완전히 걷음
				multiply = { # 다이묘 땅에선 독립도에 따라 걷음
					value = bakuhantaisei_KYUSHU_independency_progress_bar_initial_value
				}
			}
		}
		s:STATE_KYUSHU.region_state:JAP = {
			remove_modifier = bakuhantaisei_tax_collection_lose_modifier
			remove_modifier = bakuhantaisei_han_independency_modifier
			add_modifier = {
				name = bakuhantaisei_tax_collection_lose_modifier
				multiplier = ROOT.var:bakuhantaisei_tax_collection_lose_KYUSHU_var
			}
			add_modifier = {
				name = bakuhantaisei_han_independency_modifier
				multiplier = bakuhantaisei_KYUSHU_independency_progress_bar_initial_value
			}
		}
		if = {
			limit = { bakuhantaisei_KYUSHU_independency_progress_bar_initial_value >= 0.5 }
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_positive_KYUSHU_modifier
					multiplier = {
						value = bakuhantaisei_KYUSHU_independency_progress_bar_initial_value
						subtract = 0.5
						divide = 0.5
					}
				}
			}
		}
		else = {
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_negative_KYUSHU_modifier
					multiplier = {
						value = 0.5
						subtract = bakuhantaisei_KYUSHU_independency_progress_bar_initial_value
						divide = 0.5
					}
				}
			}
		}

		set_variable = {
			name = bakuhantaisei_tax_collection_lose_CHUGOKU_var # 몇%의 세금 걷지 못하는지 계산
			value = {
				value = 1
				subtract = bakuhantaisei_CHUGOKU_goryo_progress_bar_initial_value # 막부 직할령에선 완전히 걷음
				multiply = { # 다이묘 땅에선 독립도에 따라 걷음
					value = bakuhantaisei_CHUGOKU_independency_progress_bar_initial_value
				}
			}
		}
		s:STATE_CHUGOKU.region_state:JAP = {
			remove_modifier = bakuhantaisei_tax_collection_lose_modifier
			remove_modifier = bakuhantaisei_han_independency_modifier
			add_modifier = {
				name = bakuhantaisei_tax_collection_lose_modifier
				multiplier = ROOT.var:bakuhantaisei_tax_collection_lose_CHUGOKU_var
			}
			add_modifier = {
				name = bakuhantaisei_han_independency_modifier
				multiplier = bakuhantaisei_CHUGOKU_independency_progress_bar_initial_value
			}
		}
		if = {
			limit = { bakuhantaisei_CHUGOKU_independency_progress_bar_initial_value >= 0.5 }
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_positive_CHUGOKU_modifier
					multiplier = {
						value = bakuhantaisei_CHUGOKU_independency_progress_bar_initial_value
						subtract = 0.5
						divide = 0.5
					}
				}
			}
		}
		else = {
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_negative_CHUGOKU_modifier
					multiplier = {
						value = 0.5
						subtract = bakuhantaisei_CHUGOKU_independency_progress_bar_initial_value
						divide = 0.5
					}
				}
			}
		}

		set_variable = {
			name = bakuhantaisei_tax_collection_lose_SHIKOKU_var # 몇%의 세금 걷지 못하는지 계산
			value = {
				value = 1
				subtract = bakuhantaisei_SHIKOKU_goryo_progress_bar_initial_value # 막부 직할령에선 완전히 걷음
				multiply = { # 다이묘 땅에선 독립도에 따라 걷음
					value = bakuhantaisei_SHIKOKU_independency_progress_bar_initial_value
				}
			}
		}
		s:STATE_SHIKOKU.region_state:JAP = {
			remove_modifier = bakuhantaisei_tax_collection_lose_modifier
			remove_modifier = bakuhantaisei_han_independency_modifier
			add_modifier = {
				name = bakuhantaisei_tax_collection_lose_modifier
				multiplier = ROOT.var:bakuhantaisei_tax_collection_lose_SHIKOKU_var
			}
			add_modifier = {
				name = bakuhantaisei_han_independency_modifier
				multiplier = bakuhantaisei_SHIKOKU_independency_progress_bar_initial_value
			}
		}
		if = {
			limit = { bakuhantaisei_SHIKOKU_independency_progress_bar_initial_value >= 0.5 }
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_positive_SHIKOKU_modifier
					multiplier = {
						value = bakuhantaisei_SHIKOKU_independency_progress_bar_initial_value
						subtract = 0.5
						divide = 0.5
					}
				}
			}
		}
		else = {
			ig:ig_landowners = {
				add_modifier = {
					name = bakuhantaisei_daimyo_approval_negative_SHIKOKU_modifier
					multiplier = {
						value = 0.5
						subtract = bakuhantaisei_SHIKOKU_independency_progress_bar_initial_value
						divide = 0.5
					}
				}
			}
		}
	}
}


## 900 ~ 연도 트리거

eafp_japan.900 = { # 1836 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.901
			years = 1
		}
		trigger_event = { #보신전쟁 이전 저널
			id = eafp_japan.3000
			days = 2
		}
		
		trigger_event = { #학문에 대한 열정
			id = eafp_japan.1002
			months = { 3 10 }
		}
	}
}

eafp_japan.901 = { # 1837 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.902
			years = 1
		}
		trigger_event = { #오시오 헤이하치로의 제안
			id = eafp_japan.2001
			months = 3
		}
		trigger_event = { #모리슨호 사건
			id = eafp_japan.4001
			months = 8
		}
		trigger_event = { #이에요시 취임
			id = eafp_japan.2004
			months = 9
		}
	}
}

eafp_japan.902 = { # 1838 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.903
			years = 1
		}
		trigger_event = { #弘道館記 발간
			id = eafp_japan.3001
			months = 5
		}
	}
}

eafp_japan.903 = { # 1839 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.904
			years = 1
		}
	}
}

eafp_japan.904 = { # 1840 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.905
			years = 1
		}
		trigger_event = { #고카쿠덴노 사망
			id = eafp_japan.1006
			months = 11
		}
	}
}

eafp_japan.905 = { # 1841 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.906
			years = 1
		}
		trigger_event = { #만지로 표류
			id = eafp_japan.1007
			months = 1
		}
	}
}

eafp_japan.906 = { # 1842 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.907
			years = 1
		}
	}
}

eafp_japan.907 = { # 1843 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.908
			years = 1
		}
	}
}

eafp_japan.908 = { # 1844 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.909
			years = 1
		}
		trigger_event = { #네덜란드 1차 친서
			id = eafp_japan.4008
			months = 4
		}
	}
}

eafp_japan.909 = { # 1845 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.910
			years = 1
		}
	}
}

eafp_japan.910 = { # 1846 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.911
			years = 1
		}
		trigger_event = { #닌코 사망
				id = eafp_japan.1008
				days = 40
		}
	}
}

eafp_japan.911 = { # 1847 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.912
			years = 1
		}
		trigger_event = { #요시노부 고산쿄 후계자 임명
			id = eafp_japan.3000
			months = 3
		}
	}
}

eafp_japan.912 = { # 1848 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.913
			years = 1
		}
	}
}

eafp_japan.913 = { # 1849 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.914
			years = 1
		}
	}
}

eafp_japan.914 = { # 1850 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.915
			years = 1
		}
	}
}

eafp_japan.915 = { # 1851 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.916
			years = 1
		}
	}
}

eafp_japan.916 = { # 1852 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = {
			id = eafp_japan.917
			years = 1
		}
		trigger_event = { #네덜란드 국왕 친서 -> 페리 내항 정보
			id = eafp_japan.4000
			months = 8
		}
		trigger_event = { #메이지 탄생
			id = eafp_japan.1010
			months = 11
		}
	}
}

eafp_japan.917 = { # 1853 이벤트 트리거
	type = country_event
	hidden = yes

	trigger = {}

	immediate = {
		trigger_event = { #페리 오키나와 내항
			id = eafp_japan.5000
			months = 5
		}
		trigger_event = { #페리 내항
			id = eafp_japan.5001
			months = 7
		}
		trigger_event = { #러시아 내항
			id = eafp_japan.5002
			months = 8
		}
	}
}
		





eafp_japan.3000 = { #막부 위기
	type = country_event
	placement = root

	title = eafp_japan.3000.t
	desc = eafp_japan.3000.d
	flavor = eafp_japan.3000.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		set_religion_jap = yes
	}

	trigger = {}
	
	option = {
		default_option = yes
		name = eafp_japan.3000.a
		add_journal_entry = {
			type = japan_sonnoha_je
		}
	}
}

eafp_japan.3900 = { #현재 안건
	type = country_event
	placement = root

	title = eafp_japan.3900.t
	desc = eafp_japan.3900.d
	flavor = eafp_japan.3900.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	

	is_popup = yes 

	duration = 1
	
	immediate = {}

	trigger = {}
	
	option = {
		name = eafp_japan.3900.1
		trigger = {
			game_date < 1836.12.31
			not = { has_variable = 3900_1_var }
		}
		trigger_event = {
			id = eafp_japan.3901
		}
	}
	option = {
		name = eafp_japan.3900.2
		trigger = {
			game_date < 1836.12.31
			not = { has_variable = 3900_2_var }
		}
		trigger_event = {
			id = eafp_japan.3902
		}
	}
	option = {
		name = eafp_japan.3900.3
		trigger = {
			game_date < 1836.12.31
			not = { has_variable = 3900_3_var }
		}
		trigger_event = {
			id = eafp_japan.3903
		}
	}
	option = {
		name = eafp_japan.3900.exit
		remove_variable = daimyo_interaction_var
	}
}

	


eafp_japan.4000 = { #개항 알림
	type = country_event
	placement = root

	title = eafp_japan.4000.t
	desc = eafp_japan.4000.d
	flavor = eafp_japan.4000.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {}

	trigger = {}
	
	option = {
		default_option = yes
		name = eafp_japan.4000.a
		add_journal_entry = {
			type = japan_kaikou_je
		}
	}
}

eafp_japan.666 = { #임시
	type = country_event
	placement = root

	title = eafp_japan.666.t
}


eafp_japan.2004 = { #양위
	type = country_event
	placement = root

	title = eafp_japan.2004.t
	desc = eafp_japan.2004.d
	flavor = eafp_japan.2004.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		heir = {
			save_scope_as = ieyoshi_character
		}
	}

	trigger = {}
	
	option = {
		default_option = yes
		name = eafp_japan.2004.a
		scope:ieyoshi_character = {
			set_character_as_ruler = yes
		}
		change_kaikakuha_var_effect = { AMOUNT = 4 }
		change_hoshuha_var_effect = { AMOUNT = -3 }
	}
	option = {
		name = eafp_japan.2004.b
		change_kaikakuha_var_effect = { AMOUNT = -5 }
		change_hoshuha_var_effect = { AMOUNT = 4 }
	}
}


eafp_japan.9998 = { 
	type = country_event
	placement = root

	title = eafp_japan.9998.t
	desc = eafp_japan.9998.d
	flavor = eafp_japan.9998.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = eafp_japan.9998.a
	}
	option = {
		default_option = yes
		name = eafp_japan.9998.b
	}
}


eafp_japan.10000 = { 
	type = country_event
	placement = root

	title = eafp_japan.10000.t
	desc = eafp_japan.10000.d
	flavor = eafp_japan.10000.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		set_variable = yoshinobu_start
		remove_variable = supporting_nankiha_time_var
		remove_variable = supporting_nankiha_var
		remove_variable = supporting_hitotsubashiha_time_var
		remove_variable = supporting_hitotsubashiha_var
		clear_habatsu = yes
	}

	trigger = {}
	
	option = {
		name = eafp_japan.10000.a
	}
	option = {
		default_option = yes
		name = eafp_japan.10000.b
	}
}

eafp_japan.9999 = { 
	type = country_event
	placement = root

	title = eafp_japan.9999.t
	desc = eafp_japan.9999.d
	flavor = eafp_japan.9999.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {}

	trigger = {}
	
	option = {
		default_option = yes
		name = eafp_japan.9999.a
		trigger = {
			has_variable = yoshinobu_start
			bakufu_hitotsubashiha_hiritsu > 50
		}
		remove_variable = yoshinobu_start
		set_variable = is_hitotsubashiha
		create_character = {
			template = eafp_tokugawa_yoshinobu
			heir = yes
		}
		clear_habatsu = yes
		remove_variable = supporting_nankiha_time_var
		remove_variable = supporting_nankiha_var
		remove_variable = supporting_hitotsubashiha_time_var
		remove_variable = supporting_hitotsubashiha_var
	}
	option = {
		name = eafp_japan.9999.b
		trigger = {
			has_variable = yoshinobu_start
			bakufu_nankiha_hiritsu >= 50
		}
		remove_variable = yoshinobu_start
		set_variable = is_nankiha
		create_character = {
			template = eafp_tokugawa_iesada 
			heir = yes
		}
		clear_habatsu = yes
		remove_variable = supporting_nankiha_time_var
		remove_variable = supporting_nankiha_var
		remove_variable = supporting_hitotsubashiha_time_var
		remove_variable = supporting_hitotsubashiha_var
	}
}

eafp_japan.9997 = { 
	type = country_event
	placement = root

	title = eafp_japan.9997.t
	desc = eafp_japan.9997.d
	flavor = eafp_japan.9997.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = eafp_japan.9997.a
	}
	option = {
		default_option = yes
		name = eafp_japan.9997.b
	}
}

eafp_japan.9995 = { 
	type = country_event
	placement = root

	title = eafp_japan.9995.t
	desc = eafp_japan.9995.d
	flavor = eafp_japan.9995.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = eafp_japan.9995.a
	}
	option = {
		default_option = yes
		name = eafp_japan.9995.b
	}
}

eafp_japan.9996 = { 
	type = country_event
	placement = root

	title = eafp_japan.9996.t
	desc = eafp_japan.9996.d
	flavor = eafp_japan.9996.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = eafp_japan.9996.a
		custom_tooltip = {
			text = bakufu_kaigi
		}
	}
	option = {
		default_option = yes
		name = eafp_japan.9996.b
	}
}


eafp_japan.9994 = { 
	type = country_event
	placement = root

	title = eafp_japan.9994.t
	desc = eafp_japan.9994.d
	flavor = eafp_japan.9994.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = eafp_japan.9994.a
		default_option = yes
	}
}

eafp_japan.9993 = { 
	type = country_event
	placement = root

	title = eafp_japan.9993.t
	desc = eafp_japan.9993.d
	flavor = eafp_japan.9993.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		trigger_event = {
			id = eafp_japan.9993
			days = 30
		}
	}

	trigger = {}
	
	option = {
		name = eafp_japan.9993.a
		default_option = yes
	}
}

namespace = boshin_war

boshin_war.1 = { 
	type = country_event
	placement = root

	title = boshin_war.1.t
	desc = boshin_war.1.d
	flavor = boshin_war.1.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = boshin_war.1.a
		default_option = yes
	}
}

boshin_war.2 = { 
	type = country_event
	placement = root

	title = boshin_war.2.t
	desc = boshin_war.2.d
	flavor = boshin_war.2.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = boshin_war.2.a
		default_option = yes
	}
}

boshin_war.3 = { 
	type = country_event
	placement = root

	title = boshin_war.3.t
	desc = boshin_war.3.d
	flavor = boshin_war.3.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = boshin_war.3.a
		default_option = yes
		hidden_effect = {
			c:NIP = {
				trigger_event = { id = boshin_war.4 days = 3}
				ig:ig_landowners = {
					set_interest_group_name = ig_daimyo
				}
		
				ig:ig_devout = {
					set_interest_group_name = ig_kokugakusha
				}
		
				ig:ig_intelligentsia = {
					set_interest_group_name = ig_rangakusha
				}
		
				ig:ig_petty_bourgeoisie = {
					set_interest_group_name = ig_kashin
				}
		
				ig:ig_trade_unions = {
					set_interest_group_name = ig_shokunin
				}
		
				ig:ig_industrialists = {
					set_interest_group_name = ig_shonin
				}
			}
		}
	}

	option = {
		name = boshin_war.3.b
		play_as = c:NIP
		hidden_effect = {
			c:NIP = {
				trigger_event = { id = boshin_war.4 days = 3}
				ig:ig_landowners = {
					set_interest_group_name = ig_daimyo
				}
		
				ig:ig_devout = {
					set_interest_group_name = ig_kokugakusha
				}
		
				ig:ig_intelligentsia = {
					set_interest_group_name = ig_rangakusha
				}
		
				ig:ig_petty_bourgeoisie = {
					set_interest_group_name = ig_kashin
				}
		
				ig:ig_trade_unions = {
					set_interest_group_name = ig_shokunin
				}
		
				ig:ig_industrialists = {
					set_interest_group_name = ig_shonin
				}
			}
		}
	}
}

boshin_war.4 = { 
	type = country_event
	placement = root

	title = boshin_war.4.t
	desc = boshin_war.4.d
	flavor = boshin_war.4.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = boshin_war.4.a
		default_option = yes
		add_journal_entry = { type = je_tobaku_boshin_war }
		tobaku_kuni = yes
	}
}

boshin_war.5 = { 
	type = country_event
	placement = root

	title = boshin_war.5.t
	desc = boshin_war.5.d
	flavor = boshin_war.5.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = boshin_war.5.a
		default_option = yes
	}
}

boshin_war.6 = { 
	type = country_event
	placement = root

	title = boshin_war.6.t
	desc = boshin_war.6.d
	flavor = boshin_war.6.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = boshin_war.6.a
		default_option = yes
	}
}

boshin_war.7 = { 
	type = country_event
	placement = root

	title = boshin_war.7.t
	desc = boshin_war.7.d
	flavor = boshin_war.7.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = boshin_war.7.a
		default_option = yes
	}
	option = {
		name = boshin_war.7.b
	}
}

boshin_war.8 = { 
	type = country_event
	placement = root

	title = boshin_war.8.t
	desc = boshin_war.8.d
	flavor = boshin_war.8.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = boshin_war.8.a
		default_option = yes
		set_variable = sento_shinai
	}
	option = {
		name = boshin_war.8.b
		set_variable = sento_tokyo
	}
}

boshin_war.9 = { 
	type = country_event
	placement = root

	title = boshin_war.9.t
	desc = boshin_war.9.d
	flavor = boshin_war.9.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
		trigger_event = { 
			id = boshin_war.10
			days = 120
		}
		set_variable = boshin_war_9_var
	}

	trigger = {
		not = { has_variable = boshin_war_9_var }
	}
	
	option = {
		name = boshin_war.9.a
		default_option = yes
	}
}

boshin_war.10 = { 
	type = country_event
	placement = root

	title = boshin_war.10.t
	desc = boshin_war.10.d
	flavor = boshin_war.10.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {
	}
	
	option = {
		name = boshin_war.10.a
		play_as = c:NIP
	}
	option = {
		name = boshin_war.10.b
		default_option = yes
		set_variable = ouetsu_var
	}
}


namespace = new_meiji

new_meiji.1 = {
	type = country_event
	placement = root

	title = new_meiji.1.t
	desc = new_meiji.1.d
	flavor = new_meiji.1.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	gui_window = event_window_1char_tabloid

	left_icon = scope:meiji_ruler

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	trigger = {
		# triggered by meiji restoration JE
	}

	immediate = {
		if = {
			limit = {
				year < 1852
			}
			create_character = {
				# Emperor Ninko
				first_name = "Ninko"
				last_name = "Yamato"
				historical = yes
				ruler = yes
				birth_date = 1800.1.1
				dna = dna_ninko
				interest_group = ig_landowners # beholden to the Shogun
				ideology = ideology_traditionalist
				traits = {
					reserved # not very active in affairs of state
				}
			}
			create_character = {
				first_name = "Komei"
				last_name = Yamato
				historical = yes
				heir = yes
				birth_date = 1831.1.1
				dna = dna_emperor_komei
				interest_group = ig_armed_forces
				traits = {
					reserved # ditto
				}
			}
		}
		else_if = {
			limit = {
				year >= 1852
				year < 1868
			}
			create_character = {
				first_name = "Komei"
				last_name = "Yamato"
				historical = yes
				ruler = yes
				birth_date = 1831.1.1
				dna = dna_emperor_komei
				interest_group = ig_armed_forces
				traits = {
					reserved # ditto
				}
			}
			create_character = {
				first_name = "Meiji"
				last_name = "Yamato"
				historical = yes
				heir = yes
				birth_date = 1852.1.1
				dna = dna_emperor_meiji
				interest_group = ig_industrialists
				traits = {
					innovative
					charismatic
				}
			}
		}
		else_if = {
			limit = {
				year >= 1868
				year < 1912
			}
			create_character = {
				first_name = "Meiji"
				last_name = "Yamato"
				historical = yes
				ruler = yes
				birth_date = 1852.1.1
				dna = dna_emperor_meiji
				interest_group = ig_industrialists
				traits = {
					innovative
					charismatic
				}
			}
			create_character = {
				first_name = "Taisho"
				last_name = "Yamato"
				historical = yes
				heir = yes
				birth_date = 1879.1.1
				interest_group = ig_industrialists
				traits = {
				}
			}
		}
		else_if = {
			limit = {
				year >= 1912
				year < 1928
			}
			create_character = {
				first_name = "Taisho"
				last_name = "Yamato"
				historical = yes
				ruler = yes
				birth_date = 1879.1.1
				interest_group = ig_industrialists
				traits = {
				}
			}
			create_character = {
				first_name = "Showa" # Hirohito
				last_name = "Yamato"
				historical = yes
				heir = yes
				birth_date = 1901.1.1
				interest_group = ig_armed_forces
				traits = {
				}
			}
		}
		else_if = {
			limit = {
				year >= 1928
				year < 1989
			}
			create_character = {
				first_name = "Showa" # Hirohito
				last_name = "Yamato"
				historical = yes
				heir = yes
				birth_date = 1901.1.1
				interest_group = ig_armed_forces
				traits = {
				}
			}
		}
		ruler = {
			save_scope_as = meiji_ruler
		}
		add_journal_entry = {
			type = je_meiji_ishin
		}
		ig:ig_landowners = {
			save_scope_as = shogunate_ig
		}
		ig:ig_armed_forces = {
			save_scope_as = samurai_ig
		}
		ig:ig_intelligentsia = {
			save_scope_as = rangaku_ig
		}
		ig:ig_petty_bourgeoisie ={
			save_scope_as = kashin_ig
		}
		activate_law = law_type:law_oligarchy
	}

	option = { 
		name = new_meiji.1.a
		default_option = yes
		hidden_effect = {
			scope:shogunate_ig = {
				set_interest_group_name = ig_kazoku
			}
			scope:samurai_ig = {
				set_interest_group_name = ig_shizoku
			}
			scope:rangaku_ig = {
				set_interest_group_name = ig_ishinshishi
			}
			scope:kashin_ig = {
				set_interest_group_name = ig_hanbatsu_isin
			}
		}
		trigger_event = {
			id = new_meiji.2 
			days = 30
		}
		trigger_event = {
			id = new_meiji.3 
			days = 50
		}
	}
}

new_meiji.2 = { 
	type = country_event
	placement = root

	title = new_meiji.2.t
	desc = new_meiji.2.d
	flavor = new_meiji.2.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = new_meiji.2.a
		default_option = yes
		add_journal_entry = {
			type = je_meiji_society
		}
		add_journal_entry = {
			type = je_meiji_economy_2
		}
		add_journal_entry = {
			type = je_meiji_politics
		}
	}
}

new_meiji.3 = { 
	type = country_event
	placement = root

	title = new_meiji.3.t
	desc = new_meiji.3.d
	flavor = new_meiji.3.f

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	 event_image = { 
		video = "asia_confucianism_shinto"
	}
	
	duration = 3
	
	immediate = {
	}

	trigger = {}
	
	option = {
		name = new_meiji.3.a
		default_option = yes
		add_journal_entry = {
			type = je_meiji_diplomacy_1
		}
		activate_law = law_type:law_free_trade
		activate_law = law_type:law_no_migration_controls
		if = {
			limit = {
				not = { has_law = law_type:law_laissez_faire }
			} 
		   activate_law = law_type:law_interventionism
		}
		if = {
			limit = {
				has_law = law_type:law_serfdom
			} 
		   activate_law = law_type:law_tenant_farmers
		}
	}
	option = {
		name = new_meiji.3.b
		add_journal_entry = {
			type = je_meiji_diplomacy_2
		}
		every_country = {
			limit = { country_rank >= rank_value:great_power }
			change_relations = { country = c:JAP value = -25 }
		}
	}
}