daimyo_desc_off = {

	is_shown = {
		c:JAP = THIS
		has_variable = daimyo_desc_var
	}

	possible = {
		custom_tooltip = {
			text = daimyo_desc_on_tt
			hidden_trigger = {
				c:JAP = THIS
				has_variable = daimyo_desc_var
			}
		}
	}

	when_taken = {
		custom_tooltip = {
			text = daimyo_desc_off_take_tt
			remove_variable = daimyo_desc_var
		}
	}

	ai_chance = {
		base = 0
	}
}

daimyo_desc_on = {

	is_shown = {
		c:JAP = THIS
		NOT = { has_variable = daimyo_desc_var }
		var:sonnoha_var <= 150
	}

	possible = {
		custom_tooltip = {
			text = daimyo_desc_off_tt
			hidden_trigger = {	
				c:JAP = THIS
				NOT = { has_variable = daimyo_desc_var }
				var:sonnoha_var <= 150
			}
		}
	}

	when_taken = {
		custom_tooltip = {
			text = daimyo_desc_on_take_tt
			set_variable = {
				name = daimyo_desc_var
			}
		}
	}

	ai_chance = {
		base = 0
	}
}

han_detail_on = {

	is_shown = {
		c:JAP = THIS
		NOT = { has_variable = han_detail_var }
	}

	possible = {
		custom_tooltip = {
			text = han_detail_off_tt
			hidden_trigger = {	
				c:JAP = THIS
				NOT = { has_variable = han_detail_var }
			}
		}
	}

	when_taken = {
		if = {
			limit = { not = { has_variable = han_detail_already_set_var }}
			add_journal_entry = {
				type = japan_han_detail
			}
			set_variable = {
				name = han_detail_var
			}
		}
		else = {
			custom_tooltip = {
				text = han_detail_on_take_tt
					set_variable = {
					name = han_detail_var
				}
			}
		}
	}

	ai_chance = {
		base = 0
	}
}

han_detail_off = {

	is_shown = {
		c:JAP = THIS
		has_variable = han_detail_var
	}

	possible = {
		custom_tooltip = {
			text = daimyo_desc_on_tt
			hidden_trigger = {
				c:JAP = THIS
				has_variable = han_detail_var
			}
		}
	}

	when_taken = {
		custom_tooltip = {
			text = han_detail_off_take_tt
			remove_variable = han_detail_var
		}
	}

	ai_chance = {
		base = 0
	}
}


test_decision = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {

		test_effect = yes 
		while = {
            count = 15
            create_character = { 
                culture = cu:japanese
                on_created = {
                    set_variable = figure_var
                    place_character_in_void = 1200
                }
            }
        }
		create_character = {
				first_name = "Narioki"
				last_name = "Shimazu"
				historical = yes
				birth_date = 1792.12.1
				interest_group = ig_landowners 
				ideology = ideology_traditionalist
				traits = {
					reserved 
				}
                on_created = {
                    set_variable = satsuma_var
					place_character_in_void = 1200
                }
		}
		create_character = {
				culture = cu:japanese
				last_name = "Nakagawa"
                on_created = {
                    set_variable = oka_var
					place_character_in_void = 1200
                }
		}
		create_character = {
				culture = cu:japanese
				last_name = "Naito"
                on_created = {
                    set_variable = nobeoka_var
					place_character_in_void = 1200
                }
		}
		create_character = {
				culture = cu:japanese
				last_name = "Kuroda"
                on_created = {
                    set_variable = fukuoka_var
					place_character_in_void = 1200
                }
		}
		create_character = {
				culture = cu:japanese
				last_name = "Arima"
                on_created = {
                    set_variable = kurume_var
					place_character_in_void = 1200
                }
		}
        create_character = {
				# Emperor Ninko
				first_name = "Ninko"
				last_name = "Yamato"
				historical = yes
				birth_date = 1800.1.1
				dna = dna_ninko
				interest_group = ig_landowners # beholden to the Shogun
				ideology = ideology_traditionalist
				traits = {
					reserved # not very active in affairs of state
				}
                on_created = {
                    set_variable = tenno
					place_character_in_void = 1200
                }
		}
		tenno_list_effect = yes
		japan_figure_effect = yes
	}
	ai_chance = {
		base = 0
	}
}

test_decision2 = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
	}
	ai_chance = {
		base = 0
	}
}

je_sonnoha_test = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		change_variable = {
			name = sonnoha_var
			add = 10
		}
	}
	ai_chance = {
		base = 0
	}
}

hitotsubashiha_test = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		change_variable = {
			name = hitotsubashiha_var
			add = 100
		}
	}
	ai_chance = {
		base = 0
	}
}

tokuritsu_test_0 = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		tobaku_kuni_0 = yes
	}
	ai_chance = {
		base = 0
	}
}

tokuritsu_test_1 = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		tobaku_tokuritsu_first = yes
	}
	ai_chance = {
		base = 0
	}
}

tokuritsu_test_2 = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		tobaku_tokuritsu_second = yes
	}
	ai_chance = {
		base = 0
	}
}

tokuritsu_test_3 = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		tobaku_tokuritsu_third = yes
	}

	ai_chance = {
		base = 0
	}
}

boshin_war_test = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		c:NIP = { 	
			create_diplomatic_play = {
				target_country = c:JAP
				type = dp_annex_war
				escalation = 80
				add_war_goal = { 
					holder = root
					type = dp_annex_war
					target_country = c:NIP
				}
			}
		} 
	}
	ai_chance = {
		base = 0
	}
}

tobaku_kuni_test = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		tobaku_kuni = yes
	}
	ai_chance = {
		base = 0
	}
}

tobaku_kuni_test_2 = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		tobaku_kuni_2 = yes
	}
	ai_chance = {
		base = 0
	}
}

test_decision4 = {

	is_shown = {
		c:JAP = THIS
	}

	possible = {
		c:JAP = THIS
	}

	when_taken = {
		add_journal_entry = {
			type = je_parliament_japan
		}
		seat_set_effect = yes
	}
	ai_chance = {
		base = 0
	}
}