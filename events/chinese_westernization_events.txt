namespace = chinese_westernization

# 중국 서구화 시작
chinese_westernization.1 = {
	type = country_event
	placement = root

	title = chinese_westernization.1.t
	desc = chinese_westernization.1.d
	flavor = chinese_westernization.1.f
	
	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_journal_entry = je_chinese_westernization }
		# chi_flavor.3 터지고 5~7년 뒤 시작
		# 또는 적당히 시간 지난 다음에 하던가 - TODO
	}

	immediate = {
		
	}

	option = {
		name = chinese_westernization.1.a
		default_option = yes
		add_journal_entry = { type = je_chinese_westernization }
		ai_chance = {
			base = 1
		}
	}
}

chinese_westernization.301 = { # 최초의 철도
	type = country_event
	placement = root

	title = chinese_westernization.301.t
	desc = chinese_westernization.301.d
	flavor = chinese_westernization.301.f
	
	duration = 3

	event_image = {
		texture = "gfx/event_pictures/china/coronation.png"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/union_leader"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
		NOT = { has_variable = chi_first_railroad }
		any_scope_state = {
			has_building = building_railway
		}
	}

	immediate = {
		set_variable = chi_first_railroad
		random_scope_building = {
			limit = {
				is_building_type = building_railway
			}
			state = { save_scope_as = first_railroad_state }
			owner = { save_scope_as = chi_scope }
		}
	}

	option = {
		name = chinese_westernization.301.a
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}